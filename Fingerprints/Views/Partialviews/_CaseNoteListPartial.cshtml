@model FingerprintsModel.CaseNoteByClientID


@if (Model != null && Model.CaseNoteList != null && Model.CaseNoteList.Count > 0)
{
    foreach (var item1 in Model.CaseNoteList)
    {
        <tr casenoteid="@item1.CaseNoteid">
            <td data-title="Date">

                <p style="width:100%;">@item1.Date</p>

            </td>
            @if (item1.IsAllowSecurityCN)
            {
                <td data-title="Title">
                    <p data-editable="@(item1.IsEditable ? "true":"false")" style="text-decoration: underline;cursor:pointer;width:250px;" onclick="Getcasenote($('#ModalAddCasenote'), @item1.CaseNoteid,'@item1.Householid', '@item1.ClientId',this)" data-toggle="tooltip" title="@item1.Title">@item1.Title</p>
                </td>
            }
            else if (item1.WrittenBy == Session["UserId"].ToString() && item1.SecurityLevel)
            {
                <td data-title="Title">
                    <p style="text-decoration: underline;cursor:pointer;width:250px;" data-editable="@(item1.IsEditable ? "true":"false")" onclick="Getcasenote($('#ModalAddCasenote'), @item1.CaseNoteid,'@item1.Householid','@item1.ClientId',this)" data-toggle="tooltip" title="@item1.Title">@item1.Title</p>
                </td>
            }
            else
            {
                <td data-title="Title">
                    <p style="text-decoration: underline;cursor:pointer;width:250px;" onclick="ShowSecurityAlert()">Secured case note</p>
                </td>
            }
            <td data-title="By">
                <p data-toggle="tooltip" style="width:200px;" title="@item1.BY">@item1.BY</p>
            </td>
            <td data-title="Attachments">
                <p>@item1.Attachment</p>
            </td>
            <td data-title="References">
                <p>@item1.References</p>
            </td>
            <td data-title="Action">


                <p style="padding: 5px;width:auto;">
                    @if ((item1.IsAllowSecurityCN) || (item1.WrittenBy == Session["UserId"].ToString() && item1.SecurityLevel))
                    {



                        <a class="append-casenote" href="javascript:void(0);" style="text-decoration:none;" data-toggle="tooltip" title="Append case notes">
                            <img src="~/Images/notes.svg" style="height:25px;width:25px;" />

                        </a>

                    <span>&nbsp;</span>





                        <a class="export-new" href="/Reporting/ExportCaseNote?caseNoteId=@item1.CaseNoteid&clientId=@(string.IsNullOrEmpty(item1.ClientId)?"0" :item1.ClientId) &householdId=@(string.IsNullOrEmpty(item1.Householid)?"0":item1.Householid)" style="text-decoration:none;" data-toggle="tooltip" title="Export to PDF">
                            <img src="~/Images/export.svg" style="height:25px;width:25px;" />
                        </a>
                       

                      

                        <span>&nbsp;</span>




                    }

                    @if (FingerprintsModel.Role.RolesDictionary[(int)FingerprintsModel.Enums.RoleEnum.AgencyAdmin].ToLowerInvariant() == Session["RoleId"].ToString()
            || FingerprintsModel.Role.RolesDictionary[(int)FingerprintsModel.Enums.RoleEnum.GenesisEarthAdministrator].ToLowerInvariant() == Session["RoleId"].ToString())
                    {
                        <a class="delete-casenote" href="javascript:void(0);" style="text-decoration:none;" data-id="@item1.CaseNoteid" data-toggle="tooltip" title="Delete case note">
                            <img src="~/Images/trash.png" style="height:25px;width:25px;" />
                        </a>

                        <span>&nbsp;</span>
                         
                    }

                </p>



            </td>

        </tr>
    }
}


else
{
    <tr>
        <td colspan="6">@Fingerprints.LocalResource.Resources.Recordsnotfound </td>
    </tr>
}

<script>


    $('#totalCountSpan_casenote').html('@Model.TotalRecord');




</script>