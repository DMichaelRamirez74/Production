@model  List<FingerprintsModel.AttendenceDetailsByDate>





<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Pdf Report</title>
    @*<link rel="stylesheet" href="style.css" media="all">*@
</head>
<style>
    body {
        position: relative;
        width: 21cm;
        height: 29.7cm;
        margin: 0 auto;
        color: #001028;
        background: #FFFFFF;
        font-size: 12px;
        padding: 0px;
        font-family:sans-serif;
    }
</style>

<body>



    @if (Model != null && Model.Count > 0)
    {

        foreach (var item in Model)
        {

            <table style="background-color:#924fab;width:100%; margin-bottom:40px;">
                <thead>
                    <tr>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="height:80px;text-align:center;color:#ffffff;">
                            <h1 style="font-size:18px;text-transform:uppercase;">Center Audit Report</h1>
                        </td>
                    </tr>
                </tbody>
            </table>

            <table style="width: 20.3cm;background-color: #f1f5f8;margin: 0 auto;border-radius: 0px 0px 6px 6px;border:none;border-spacing: initial;">
                <thead>
                    <tr>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background-color:#e67e22;">
                        <td style="color:#ffffff;font-size:14px;font-weight:600;line-height:40px;text-align: left;padding-left:20px;border-radius:8px 0px 0px 8px;">
                           @item.ClientName
                        </td>
                        <td style="color:#ffffff;font-size:14px;font-weight:600;line-height:40px;text-align: right;padding-right:20px;border-radius:0px 8px 8px 0px;">
                            @item.AttendanceDate
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <table style="width:100%;padding:10px;">
                                <thead>
                                    <tr>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Center
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            @item.CenterName
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Classroom
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            @item.ClassroomName
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Attendance Type
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            @item.AttendenceStatus
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Meals
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table style="width:97%;margin:0 auto;border:1px solid #a8b9b7;padding:10px;background-color:#e8f5f5;text-align:center;">
                                                <thead>
                                                    <tr>
                                                        <th style="color: #163f6d;font-weight: 500;font-size: 13px;padding: 0px 0px 10px;border-bottom: 1px solid #bcd3d0;">
                                                            Breakfast
                                                        </th>
                                                        <th style="color: #163f6d;font-weight: 500;font-size: 13px;padding: 0px 0px 10px;border-bottom: 1px solid #bcd3d0;">
                                                            Lunch
                                                        </th>
                                                        <th style="color: #163f6d;font-weight: 500;font-size: 13px;padding: 0px 0px 10px;border-bottom: 1px solid #bcd3d0;">
                                                            Snack
                                                        </th>
                                                        <th style="color: #163f6d;font-weight: 500;font-size: 13px;padding: 0px 0px 10px;border-bottom: 1px solid #bcd3d0;">
                                                            Dinner
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td style="color: #5a5d60;font-weight: 600;font-size: 13px;padding: 10px 0px 0px;">
                                                            @(item.Breakfast ? @Convert.ToDateTime(item.BreakfastServedOn).ToString("hh:mm tt") : "N/A")
                                                        </td>
                                                        <td style="color: #5a5d60;font-weight: 600;font-size: 13px;padding: 10px 0px 0px;">
                                                            @(item.Lunch ? @Convert.ToDateTime(item.LunchServedOn).ToString("hh:mm tt") : "N/A")


                                                        </td>
                                                        <td style="color: #5a5d60;font-weight: 600;font-size: 13px;padding: 10px 0px 0px;">
                                                            @(item.Snack ? @Convert.ToDateTime(item.SnackServedOn).ToString("hh:mm tt") : "N/A")


                                                        </td>
                                                        <td style="color: #5a5d60;font-weight: 600;font-size: 13px;padding: 10px 0px 0px;">
                                                            @(item.Dinner ? @Convert.ToDateTime(item.DinnerServedOn).ToString("hh:mm tt") : "N/A")


                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Checked In by
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>


                                                    @{ 
                                                        var isSignatureIn = (item.SignedInName != null && item.SignedInName.Trim() != "" && item.ParentSig.Trim() != "" && item.ParentSig.Trim() != "{\"lines\":[]}");

                                                    }

                                                    @if (isSignatureIn)
                                                    {
                                                        var base64string = "data:image/png;base64," + Fingerprints.Common.Helpers.ImageHelper.GetBase64Png(item.ParentSig, 400, 200);
                                                        <tr>
                                                            <td style="padding:10px;"><img src="@base64string" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#163b69;font-size:12px;">@item.SignedInName</td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#5a5d60;font-size:12px;font-weight:600;">
                                                              @item.TimeIn
                                                            </td>
                                                        </tr>
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="padding:10px;">N/A</td>
                                                        </tr>
                                                    }


                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Daily Health Check
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    @{ 
                                                        var observationList = item.ObservationDescription.Trim() != string.Empty ? item.ObservationDescription.Trim().Split(',').ToList() : null;

                                                    }

                                                    @if (observationList!=null && observationList.Count > 0)
                                                    {
                                                        foreach (var observation in observationList)
                                                        {
                                                            <tr>
                                                                <td style="color:#163b69;font-size:14px;font-weight:600;">@observation</td>
                                                            </tr>

                                                        }
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="color:#163b69;font-size:14px;font-weight:600;">N/A</td>
                                                        </tr>
                                                    }


                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Teacher Signature
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    @{ 
                                                        var isTeacherSignature = (!string.IsNullOrEmpty(item.TeacherName) && item.TeacherCheckInSig.Trim() != "" && item.TeacherCheckInSig.Trim() != "{\"lines\":[]}");


                                                    }

                                                    @if (isTeacherSignature)
                                                    {
                                                        var base64string = "data:image/png;base64," + Fingerprints.Common.Helpers.ImageHelper.GetBase64Png(item.TeacherCheckInSig, 400, 200);
                                                        <tr>
                                                            <td style="padding:10px;"><img src="@base64string" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#163b69;font-size:12px;">@item.TeacherName</td>
                                                        </tr>
                                                        @*<tr>
                                                            <td style="color:#5a5d60;font-size:12px;font-weight:600;">
                                                               
                                                            </td>
                                                        </tr>*@
                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="padding:10px;">N/A</td>
                                                        </tr>
                                                    }



                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Checked Out by
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @{ 
                                                        var isSignatureOut = item.SignedOutName != null && item.SignedOutName.Trim() != "" && item.ParentSigOut.Trim() != "" && item.ParentSigOut != "{\"lines\":[]}";
                                                    }

                                                    @if (isSignatureOut)
                                                    {

                                                        var base64string = "data:image/png;base64," + Fingerprints.Common.Helpers.ImageHelper.GetBase64Png(item.ParentSigOut, 400, 200);



                                                        <tr>
                                                            <td style="padding:10px;"><img src="@base64string" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#163b69;font-size:12px;">@item.SignedOutName</td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#5a5d60;font-size:12px;font-weight:600;">
                                                              @item.TimeOut
                                                            </td>
                                                        </tr>

                                                    }


                                                    else
                                                    {
                                                        <tr>
                                                            <td style="padding:10px;">N/A</td>
                                                        </tr>
                                                    }

                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Checked In by
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    @{ 
                                                        var isSignatureIn2 = item.SignedIn2Name != null && item.ParentSig2.Trim() != "" && item.ParentSig2.Trim() != "" && item.ParentSig2 != "{\"lines\":[]}";

                                                    }

                                                    @if (isSignatureIn2)
                                                    {
                                                        var base64string = "data:image/png;base64," + Fingerprints.Common.Helpers.ImageHelper.GetBase64Png(item.ParentSig2, 400, 200);

                                                        <tr>
                                                            <td style="padding:10px;"><img src="@base64string" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#163b69;font-size:12px;">@item.SignedIn2Name</td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#5a5d60;font-size:12px;font-weight:600;">
                                                                @item.TimeIn2
                                                            </td>
                                                        </tr>


                                                    }
                                                    else
                                                    {
                                                        <tr>
                                                            <td style="padding:10px;">N/A</td>
                                                        </tr>
                                                    }


                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>


                                    <tr>
                                        <td style="width:27%;background-color:#1abc9c;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #FFFFFF;">
                                            Checked Out by
                                        </td>
                                        <td style="background-color:#dbefef;border-bottom:1px solid #ffffff;border-right:1px solid #ffffff;padding: 10px 5px;font-size: 14px;font-weight: bold;color: #163b69;">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    @{ 
                                                        var isSignatureOut2 = item.SignedOut2Name != null && item.ParentSigOut2.Trim() != "" && item.ParentSigOut2.Trim() != "" && item.ParentSigOut2 != "{\"lines\":[]}";

                                                    }

                                                    @if (isSignatureOut2)
                                                    {
                                                        var base64string = "data:image/png;base64," + Fingerprints.Common.Helpers.ImageHelper.GetBase64Png(item.ParentSigOut2, 400, 200);
                                                        <tr>
                                                            <td style="padding:10px;"><img src="@base64string" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#163b69;font-size:12px;">@item.SignedOut2Name</td>
                                                        </tr>
                                                        <tr>
                                                            <td style="color:#5a5d60;font-size:12px;font-weight:600;">
                                                                @item.TimeOut2
                                                            </td>
                                                        </tr>
                                                    }

                                                  
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
                                                            }
                                                        }


    

    
</body>

</html>