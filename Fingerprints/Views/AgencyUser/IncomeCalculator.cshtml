@model   List<FingerprintsModel.FamilyHousehold.calculateincome>
<script type="text/javascript">
    var incomecount = 0;
    $(document).ready(function () {
        $('input').keypress(function () {
            if ($(this).val() == 'MM/DD/YYYY') {
                $(this).val('');
                // $(this).mask("99/99/9999", { placeholder: 'MM/DD/YYYY' });
            }
        });
        if ('@Model[0].Income' == '2') {
            var count1 = 0;
            var totalincome1 = 0;
            var mode = true;
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                        mode = false;
                        customAlert("Calculated income is required.");
                        plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                        return false;
                    }
                    else {

                        totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                    }
                }
                count1 = count1 + 1;
            });

            if (mode) {
                $('#Span1').text('$' + commaSeparateNumber(Math.round(totalincome1)));

                if (totalincome1 == 0)
                    $('#incomeq1').text('$' + totalincome1);
                else
                    $('#incomeq1').text('$' + commaSeparateNumber(Math.round(totalincome1)));



                $('#Amountqca1').val(Math.round(totalincome1));
                if ($('#Amountqca1').val() != "") {
                    $('#Childincome').val($('#Amountqca1').val());
                }



                $('#C1').val(totalincome1);
                $('#C2').val(totalincome1);
                $('#Span1').css("color", "#333");
                $('#IncomeSourcecheck').attr('disabled', false);
                $('#divisource').show();
                cleanValidation();
                $('#DivFirst').show();
                $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', true);
                $('[name="Income1[0].noincomepaper').attr('disabled', true);
                $('#Hideshowincome').hide();
                if ($('#DivFirst').children().length > 0) {
                    $('#C1').show();
                    $('#C2').show();
                    $('#Divcalculateshow1').show();
                    $('#Divcalculateshow2').show();
                }

            }
        }
        else if ('@Model[0].Income' == '1') {
            $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', false);
            $('[name="Income1[0].noincomepaper').attr('disabled', false);
            $('#Hideshowincome').show();
            $('#IncomeSourcecheck').attr('disabled', true);
            $('#DivFirst').hide();
            $('#Span1').text('');
            $('#Divcalculateshow1').hide();
            $('#Divcalculateshow2').hide();
            $('#IncomeSourcecheck').val('');
            $('#divisource').hide();
            $('#C1').hide();
            $('#C2').hide();
            $('#Span1').text("No Income");
            $('#Span1').css("color", "Red");
            $('#incomeq1').text('$' + 0);
            $('#Amountqca1').val(0);
        }
        else {
            $('#incomeq1').text('$');
            $('#Amountqca1').val(0);
        }
    });

    var _validFileExtensions = [".pdf", ".jpg", ".jpeg", ".bmp", ".gif", ".png"];
    function ValidateFileinput3(oInput) {
        if (oInput.type == "file") {
            var sFileName = oInput.value;
            if (sFileName.length > 0) {
                var blnValid = false;
                // alert(oInput.files[0].size/1024/1024);
                var valid_size = 3 * 1000 * 1000;
                //   var v = oInput.files[0].size / 1024 / 1024;
                var v = oInput.files[0].size;

                // if (v <= 3)
                if (v <= valid_size) {
                    for (var j = 0; j < _validFileExtensions.length; j++) {
                        var sCurExtension = _validFileExtensions[j];
                        if (sFileName.substr(sFileName.length - sCurExtension.length, sCurExtension.length).toLowerCase() == sCurExtension.toLowerCase()) {
                            blnValid = true;
                            break;
                        }
                    }
                    if (!blnValid) {
                        oInput.value = "";
                        return false;
                    }
                }
                else {
                    oInput.value = "";
                    customAlertforlongtime("File size should not be greater than 3 MB. ");
                    return false;

                }

            }
        }
        return true;
    }
    function EnableIncome(value) {
        if ($('#PCurrentlyWorking1').prop("checked")) {
            BootstrapDialog.confirm('Guardian is marked as not working. Do you want to continue?', function (result) {
                if (!result) {
                    $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', false);
                    $('[name="Income1[0].noincomepaper').attr('disabled', false);

                    $('#Hideshowincome').show();

                    $('#NoIncome').prop("checked", true);
                    $('#IncomeSourcecheck').attr('disabled', true);
                    $('#DivFirst').hide();
                    $('#Span1').text('');
                    $('#Divcalculateshow1').hide();
                    $('#Divcalculateshow2').hide();
                    $('#IncomeSourcecheck').val('');
                    $('#divisource').hide();
                    $('#C1').hide();
                    $('#C2').hide();
                    return;
                }
            });
        }
        //orginal code
        $('#IncomeSourcecheck').attr('disabled', false);
        $('#divisource').show();
        cleanValidation();
        $('#DivFirst').show();
        $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', true);
        $('[name="Income1[0].noincomepaper').attr('disabled', true);
        $('#Hideshowincome').hide();
        if ($('#DivFirst').children().length > 0) {
            $('#C1').show();
            $('#C2').show();
            //$('#s1').show();
            //$('#s2').show();
            $('#Divcalculateshow1').show();
            $('#Divcalculateshow2').show();
        }
        $('#Span1').text('');
        //end
    }
    function DisableIncone(value) {
        if ($('#PCurrentlyWorking').prop("checked")) {
            BootstrapDialog.confirm('Guardian is marked as working. Do you want to continue?', function (result) {
                if (!result) {
                    $('#IncomeSourcecheck').attr('disabled', false);
                    $('#divisource').show();
                    cleanValidation();
                    $('#DivFirst').show();
                    $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', true);
                    $('[name="Income1[0].noincomepaper').attr('disabled', true);
                    $('#Hideshowincome').hide();
                    $('#Income').prop("checked", true);
                    if ($('#DivFirst').children().length > 0) {
                        $('#C1').show();
                        $('#C2').show();
                        //$('#s1').show();
                        //$('#s2').show();
                        $('#Divcalculateshow1').show();
                        $('#Divcalculateshow2').show();
                    }
                    $('#Span1').text('');
                    return;
                }
            });
        }
        ////orginal code
        $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', false);
        $('[name="Income1[0].noincomepaper').attr('disabled', false);

        $('#Hideshowincome').show();
        $('#IncomeSourcecheck').attr('disabled', true);
        $('#DivFirst').hide();
        $('#Span1').text('');
        $('#Divcalculateshow1').hide();
        $('#Divcalculateshow2').hide();
        $('#IncomeSourcecheck').val('');
        $('#divisource').hide();
        $('#C1').hide();
        $('#C2').hide();
        //end
    }

    function CheckParent1income(value) {
        if ($(value).attr("id") == "PCurrentlyWorking") {
            if ($(value).prop("checked") && $('#NoIncome').prop("checked")) {
                BootstrapDialog.confirm({
                    message: 'No income source is selected in income calculator. Do you want to continue?', callback: function (result) {
                        if (!result) {
                            $('#PCurrentlyWorking1').prop("checked", true);
                            $('#PCurrentlyWorking').prop("checked", false);
                        }
                    }
                });
            }
        }
        if ($(value).attr("id") == "PCurrentlyWorking1") {
            if ($(value).prop("checked") && $('#Income').prop("checked")) {
                BootstrapDialog.confirm('Income source is selected in income calculator. Do you want to continue?', function (result) {
                    if (!result) {
                        $('#PCurrentlyWorking').prop("checked", true);
                        $('#PCurrentlyWorking1').prop("checked", false);
                    }
                });
            }

        }

    }
    function AddIncomeDiv() {
        cleanValidation();
        if ($('#Income').prop("checked")) {
            if ($('#IncomeSourcecheck').val().trim() == "") {
                customAlert("Income source is required. ");
                plainValidation('#IncomeSourcecheck');
            }
            else {
                if ('@Session["Docsstorage"]' == "0") {
                    var Incomebox = '<div class="col-sm-12"><div class="col-sm-12 income-box"><div class="income-close"><a onclick="DeleteIncomeSource(this);" href="#"><i class="fa fa-times"></i></a></div><div class="col-md-12 bold_none"><div class="income-heading"><span class="incomespan">' + $('#IncomeSourcecheck').val() + '</span> </div>' +
                                    '<div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount1($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher1" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"><input type="hidden" value="' + $('#IncomeSourcecheck').val() + '" name="Income1[' + incomecount + '].IncomeSource1" /> <input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar1" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px;margin-top:5px;float: right;display:none;"> ' +
                                    '<input type="checkbox" name="Income1[' + incomecount + '].incomePaper1" style="display:none;" value="true" class="minimal"> <label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"> <label for="exampleInputFile">Amount2($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher2" placeholder="0" maxlength="8"' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar2" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input  name="Income1[' + incomecount + '].incomePaper2" style="display:none;" value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount3($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher3" placeholder="0" maxlength="8"  ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar3" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input name="Income1[' + incomecount + '].incomePaper3" style="display:none;" value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Amount4($) </label></div>' +
                                    '<div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher4" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar4" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input type="checkbox" style="display:none;" name="Income1[' + incomecount + '].incomePaper4" value="true" class="minimal" /><label style="width:45px;">Paper</label></div></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Pay Frequency</label>' +
                                    '</div><div class="col-md-4"><select onchange="Setworkingperiod(this)" class="form-control" accesskey="2"  name="Income1[' + incomecount + '].Payfrequency">' +
                                    '<option value="5">Annually</option><option value="1">Bi-Monthly</option><option value="2">Bi-Weekly</option><option value="3">Monthly</option><option value="4">Weekly</option>' +
                                    '</select></div></div><div class="form-group col-sm-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Working Period </label></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].Working" accesskey="3" type="text" onblur="checkIfNumeric(this);"  class="form-control">' +
                                    '</div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Calculated Income($) </label></div>' +
                                    '<div class="col-md-4"><input name="Income1[' + incomecount + '].IncomeCalculated" accesskey="4" placeholder="0" maxlength="20" type="text" onblur="checkIfNumeric(this);" ' +
                                    'readonly="true" class="form-control"><input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div></div></div></div></div>';
                    $('#DivFirst').prepend(Incomebox);
                }
                if ('@Session["Docsstorage"]' == "1") {
                    var Incomebox = '<div class="col-sm-12"><div class="col-sm-12 income-box"><div class="income-close"><a onclick="DeleteIncomeSource(this);" href="#"><i class="fa fa-times"></i></a></div><div class="col-md-12 bold_none"><div class="income-heading"><span class="incomespan">' + $('#IncomeSourcecheck').val() + '</span> </div>' +
                                    '<div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount1($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher1" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"><input type="hidden" value="' + $('#IncomeSourcecheck').val() + '" name="Income1[' + incomecount + '].IncomeSource1" /> <input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar1" style="display:none;" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px;margin-top:5px;float: right;display:none;"> ' +
                                    '<input type="checkbox" name="Income1[' + incomecount + '].incomePaper1" style="display:none;" value="true" class="minimal"> <label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"> <label for="exampleInputFile">Amount2($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher2" placeholder="0" maxlength="8"' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar2" style="display:none;" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input  name="Income1[' + incomecount + '].incomePaper2" style="display:none;" value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount3($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher3" placeholder="0" maxlength="8"  ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar3" style="display:none;" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input name="Income1[' + incomecount + '].incomePaper3" style="display:none;" value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Amount4($) </label></div>' +
                                    '<div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher4" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar4" style="display:none;" accept="image/*" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4  cont-sz" style="width: 105px; margin-top:5px; float: right;display:none;"><input type="checkbox" style="display:none;" name="Income1[' + incomecount + '].incomePaper4" value="true" class="minimal" /><label style="width:45px;">Paper</label></div></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Pay Frequency</label>' +
                                    '</div><div class="col-md-4"><select onchange="Setworkingperiod(this)" class="form-control" accesskey="2"  name="Income1[' + incomecount + '].Payfrequency">' +
                                    '<option value="5">Annually</option><option onchange="Setworkingperiod(this)" value="1">Bi-Monthly</option><option value="2">Bi-Weekly</option><option value="3">Monthly</option><option value="4">Weekly</option>' +
                                    '</select></div></div><div class="form-group col-sm-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Working Period </label></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].Working" accesskey="3" type="text" onblur="checkIfNumeric(this);"  class="form-control">' +
                                    '</div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Calculated Income($) </label></div>' +
                                    '<div class="col-md-4"><input name="Income1[' + incomecount + '].IncomeCalculated" accesskey="4" placeholder="0" maxlength="20" type="text" onblur="checkIfNumeric(this);" ' +
                                    'readonly="true" class="form-control"><input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div></div></div></div></div>';
                    $('#DivFirst').prepend(Incomebox);
                }
                if ('@Session["Docsstorage"]' == "2") {
                    var Incomebox = '<div class="col-sm-12"><div class="col-sm-12 income-box"><div class="income-close"><a onclick="DeleteIncomeSource(this);" href="#"><i class="fa fa-times"></i></a></div><div class="col-md-12 bold_none"><div class="income-heading"><span class="incomespan">' + $('#IncomeSourcecheck').val() + '</span> </div>' +
                                    '<div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount1($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher1" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"><input type="hidden" value="' + $('#IncomeSourcecheck').val() + '" name="Income1[' + incomecount + '].IncomeSource1" /> <input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar1"  accept="image/*" style="display:none;" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4"> ' +
                                    '<input type="checkbox" name="Income1[' + incomecount + '].incomePaper1"  value="true" class="minimal"> <label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"> <label for="exampleInputFile">Amount2($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher2" placeholder="0" maxlength="8"' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar2"  accept="image/*" style="display:none;" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4"><input  name="Income1[' + incomecount + '].incomePaper2"  value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"> <div class="col-md-2"><label for="exampleInputFile">Amount3($) </label>' +
                                    '</div><div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher3" placeholder="0" maxlength="8"  ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar3"  accept="image/*" style="display:none;" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4"><input name="Income1[' + incomecount + '].incomePaper3"  value="true" type="checkbox" class="minimal" /><label style="width:45px;">Paper</label></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Amount4($) </label></div>' +
                                    '<div class="col-md-4"><input type="text" accesskey="1" name="Income1[' + incomecount + '].AmountVocher4" placeholder="0" maxlength="8" ' +
                                    'class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);"></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].SalaryAvatar4"  accept="image/*" style="display:none;" capture="camera" type="file" onchange="ValidateFileinput3(this)"  class="form-control">' +
                                    '</div><div class="col-md-4" "><input type="checkbox"  name="Income1[' + incomecount + '].incomePaper4" value="true" class="minimal" /><label style="width:45px;">Paper</label></div></div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Pay Frequency</label>' +
                                    '</div><div class="col-md-4"><select onchange="Setworkingperiod(this)" class="form-control" accesskey="2"  name="Income1[' + incomecount + '].Payfrequency">' +
                                    '<option value="5">Annually</option><option onchange="Setworkingperiod(this)" value="1">Bi-Monthly</option><option value="2">Bi-Weekly</option><option value="3">Monthly</option><option value="4">Weekly</option>' +
                                    '</select></div></div><div class="form-group col-sm-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Working Period </label></div><div class="col-md-4">' +
                                    '<input name="Income1[' + incomecount + '].Working" accesskey="3" type="text" onblur="checkIfNumeric(this);"  class="form-control">' +
                                    '</div></div><div class="form-group col-md-12 mrBt15"><div class="col-md-2"><label for="exampleInputFile">Calculated Income($) </label></div>' +
                                    '<div class="col-md-4"><input name="Income1[' + incomecount + '].IncomeCalculated" accesskey="4" placeholder="0" maxlength="20" type="text" onblur="checkIfNumeric(this);" ' +
                                    'readonly="true" class="form-control"><input type="hidden"   name="Income1[' + incomecount + '].newincomeid" /></div></div></div></div></div>';
                    $('#DivFirst').prepend(Incomebox);
                }
                //$('[name="Income1[' + incomecount + '].Payfrequency"]').val("");
                $('#Divcalculateshow1').show();
                $('#Divcalculateshow2').show();
                $('#C1').show();
                $('#C2').show();
                $('#IncomeSourcecheck').val('');
                incomecount = incomecount + 1;
                incomecount = 0;
                var int1 = 0;
                var payfrequency = 0;
                $('#DivFirst').children().each(function () {
                    if ($(this).children().length > 0) {
                        $(this).find('input:text, input:password,input:hidden ,input:file,input[type=checkbox],select, textarea')
                         .each(function () {
                             if (int1 == 0) {
                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher1");
                                 if ($(this).val().trim() == "")
                                     payfrequency = 1;
                             }
                             if (int1 == 1)
                                 $(this).attr('name', "Income1[" + incomecount + "].IncomeSource1");
                             if (int1 == 2)
                                 $(this).attr('name', "Income1[" + incomecount + "].newincomeid");
                             if (int1 == 3)
                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar1");
                             if (int1 == 4)
                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper1");
                             if (int1 == 5)
                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher2");
                             if (int1 == 6)
                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar2");
                             if (int1 == 7)
                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper2");
                             if (int1 == 8)
                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher3");
                             if (int1 == 9)
                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar3");
                             if (int1 == 10)
                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper3");
                             if (int1 == 11)
                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher4");
                             if (int1 == 12)
                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar4");
                             if (int1 == 13)
                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper4");
                             if (int1 == 14) {
                                 $(this).attr('name', "Income1[" + incomecount + "].Payfrequency");
                                 if (payfrequency == 1) {
                                     $(this).val("");
                                     payfrequency = 0;
                                 }
                             }
                             if (int1 == 15)
                                 $(this).attr('name', "Income1[" + incomecount + "].Working");
                             if (int1 == 16)
                                 $(this).attr('name', "Income1[" + incomecount + "].IncomeCalculated");
                             int1 = int1 + 1;
                         });
                        incomecount = incomecount + 1;
                        int1 = 0;
                    }
                });
            }



        }
    }
    function DeleteIncomeSource(val) {
        BootstrapDialog.confirm('Do you want to delete this record ?', function (result) {
            if (result) {

                if ($(val).attr("accesskey")) {
                    $.ajax({
                        url: HostedDir + "/Agencyuser/DeleteParentincome",
                        type: "POST",
                        data: {
                            incomeId: $(val).attr("accesskey"),
                            HouseHoldId: $('#HouseholdId').val(),
                            Parentid: $('#ParentID').val(),
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {

                            if (response == 1) {
                                customAlert("Record deleted successfully. ");
                                incomecount = 0;
                                var int1 = 0;
                                $(val).parent().parent().parent().remove();
                                $('#DivFirst').children().each(function () {
                                    if ($(this).children().length > 0) {
                                        $(this).find('input:text, input:password,input:hidden,input[type=checkbox],input:file, select, textarea')
                                         .each(function () {

                                             if (int1 == 0)
                                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher1");
                                             if (int1 == 1)
                                                 $(this).attr('name', "Income1[" + incomecount + "].IncomeSource1");
                                             if (int1 == 2)
                                                 $(this).attr('name', "Income1[" + incomecount + "].newincomeid");
                                             if (int1 == 3)
                                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar1");
                                             if (int1 == 4)
                                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper1");
                                             if (int1 == 5)
                                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher2");
                                             if (int1 == 6)
                                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar2");
                                             if (int1 == 7)
                                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper2");
                                             if (int1 == 8)
                                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher3");
                                             if (int1 == 9)
                                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar3");
                                             if (int1 == 10)
                                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper3");
                                             if (int1 == 11)
                                                 $(this).attr('name', "Income1[" + incomecount + "].AmountVocher4");
                                             if (int1 == 12)
                                                 $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar4");
                                             if (int1 == 13)
                                                 $(this).attr('name', "Income1[" + incomecount + "].incomePaper4");
                                             if (int1 == 14)
                                                 $(this).attr('name', "Income1[" + incomecount + "].Payfrequency");
                                             if (int1 == 15)
                                                 $(this).attr('name', "Income1[" + incomecount + "].Working");
                                             if (int1 == 16) {
                                                 $(this).attr('name', "Income1[" + incomecount + "].IncomeCalculated");
                                             }
                                             int1 = int1 + 1;
                                         });
                                        incomecount = incomecount + 1;
                                        int1 = 0;
                                    }
                                });
                                if ($('#DivFirst').children().length > 0) {
                                    CalculateIncome();
                                }
                                if ($('#DivFirst').children().length == 0) {
                                    $('#Divcalculateshow1').hide();
                                    $('#Divcalculateshow2').hide();
                                    $('#C1').hide();
                                    $('#C2').hide();
                                    $('#C1').val('');
                                    $('#C2').val('');
                                    $('#Span1').text('');
                                }
                            }
                        }
                         , error: function (response) {
                             customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                         }
                    });

                }
                else {
                    incomecount = 0;
                    var int1 = 0;
                    $(val).parent().parent().parent().remove();
                    $('#DivFirst').children().each(function () {
                        if ($(this).children().length > 0) {
                            $(this).find('input:text, input:password,input:hidden,input[type=checkbox],input:file, select, textarea')
                             .each(function () {
                                 if (int1 == 0)
                                     $(this).attr('name', "Income1[" + incomecount + "].AmountVocher1");
                                 if (int1 == 1)
                                     $(this).attr('name', "Income1[" + incomecount + "].IncomeSource1");
                                 if (int1 == 2) {
                                     $(this).attr('name', "Income1[" + incomecount + "].newincomeid");
                                 }
                                 if (int1 == 3)
                                     $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar1");
                                 if (int1 == 4)
                                     $(this).attr('name', "Income1[" + incomecount + "].incomePaper1");
                                 if (int1 == 5)
                                     $(this).attr('name', "Income1[" + incomecount + "].AmountVocher2");
                                 if (int1 == 6)
                                     $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar2");
                                 if (int1 == 7)
                                     $(this).attr('name', "Income1[" + incomecount + "].incomePaper2");
                                 if (int1 == 8)
                                     $(this).attr('name', "Income1[" + incomecount + "].AmountVocher3");
                                 if (int1 == 9)
                                     $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar3");
                                 if (int1 == 10)
                                     $(this).attr('name', "Income1[" + incomecount + "].incomePaper3");
                                 if (int1 == 11)
                                     $(this).attr('name', "Income1[" + incomecount + "].AmountVocher4");
                                 if (int1 == 12)
                                     $(this).attr('name', "Income1[" + incomecount + "].SalaryAvatar4");
                                 if (int1 == 13)
                                     $(this).attr('name', "Income1[" + incomecount + "].incomePaper4");
                                 if (int1 == 14)
                                     $(this).attr('name', "Income1[" + incomecount + "].Payfrequency");
                                 if (int1 == 15)
                                     $(this).attr('name', "Income1[" + incomecount + "].Working");
                                 if (int1 == 16) {
                                     $(this).attr('name', "Income1[" + incomecount + "].IncomeCalculated");
                                 }
                                 int1 = int1 + 1;
                             });
                            incomecount = incomecount + 1;
                            int1 = 0;
                        }
                    });
                    if ($('#DivFirst').children().length > 0) {
                        CalculateIncome();
                    }
                    if ($('#DivFirst').children().length == 0) {
                        $('#Divcalculateshow1').hide();
                        $('#Divcalculateshow2').hide();
                        $('#C1').val('');
                        $('#C2').val('');
                        $('#C1').hide();
                        $('#C2').hide();
                        $('#Span1').text('');
                    }
                }
            }
        });
    }
    function CalculateIncome() {
        NoofVoucher = 0;
        totalincome = 0;
        cleanValidation();
        var count = 0;
        var isvalidincome = true;
        if ('@Session["Docsstorage"]' == "0") {
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() == "" || $('[name="Income1[' + count + '].AmountVocher1"]').val().slice(0, 1) == 0) {
                        customAlert("Amount1 is required.");
                        plainValidation($('[name="Income1[' + count + '].AmountVocher1"]'));
                        $('[name="Income1[' + count + '].AmountVocher1"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].SalaryAvatar1"]').val().trim() == ""
                        && $('[name="Income1[' + count + '].incomePaper1"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount1 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar1"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar1"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "" && $('[name="Income1[' + count + '].AmountVocher2"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar2"]').val() == ""
                         && $('[name="Income1[' + count + '].incomePaper2"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount2 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar2"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar2"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "" && $('[name="Income1[' + count + '].AmountVocher3"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar3"]').val() == ""
                        && $('[name="Income1[' + count + '].incomePaper3"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount3 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar3"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar3"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "" && $('[name="Income1[' + count + '].AmountVocher4"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar4"]').val() == ""
                        && $('[name="Income1[' + count + '].incomePaper4"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount4 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar4"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar4"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == "" || $('[name="Income1[' + count + '].Payfrequency"]').val() == null) {

                        customAlert("Pay frequency is required.");
                        plainValidation($('[name="Income1[' + count + '].Payfrequency"]'));
                        $('[name="Income1[' + count + '].Payfrequency"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Working"]').val().trim() == "") {
                        customAlert("Working Period is required.");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].Working"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }

                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher1"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher2"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher3"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher4"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 5) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() * 2)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() / 2)).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 4 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    count = count + 1;
                    NoofVoucher = 0;
                    totalincome = 0;
                    var count1 = 0;
                    var totalincome1 = 0;
                    var mode = true;
                    $('#DivFirst').children().each(function () {
                        if ($(this).children().length > 0) {
                            if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                                mode = false;
                                customAlert("Calculated income is required.");
                                plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                                isvalidincome = false;
                                return isvalidincome;
                            }
                            else {

                                totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                            }
                        }
                        count1 = count1 + 1;
                    });
                    if (mode) {
                        $('#C1').val(totalincome1);
                        $('#C2').val(totalincome1);
                    }
                }

            });
        }
        if ('@Session["Docsstorage"]' == "1") {
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() == "" || $('[name="Income1[' + count + '].AmountVocher1"]').val().slice(0, 1) == 0) {
                        customAlert("Amount1 is required.");
                        plainValidation($('[name="Income1[' + count + '].AmountVocher1"]'));
                        $('[name="Income1[' + count + '].AmountVocher1"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == "" || $('[name="Income1[' + count + '].Payfrequency"]').val() == null) {
                        customAlert("Payfrequency is required.");
                        plainValidation($('[name="Income1[' + count + '].Payfrequency"]'));
                        $('[name="Income1[' + count + '].Payfrequency"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Working"]').val().trim() == "") {
                        customAlert("Working Period is required.");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].Working"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }

                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher1"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher2"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher3"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher4"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 5) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() * 2)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() / 2)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 4 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }
                    count = count + 1;
                    NoofVoucher = 0;
                    totalincome = 0;
                    var count1 = 0;
                    var totalincome1 = 0;
                    var mode = true;
                    $('#DivFirst').children().each(function () {
                        if ($(this).children().length > 0) {
                            if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                                mode = false;
                                customAlert("Calculated income is required.");
                                plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                                isvalidincome = false;
                                return isvalidincome;
                            }
                            else {

                                totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                            }
                        }
                        count1 = count1 + 1;
                    });
                    if (mode) {
                        $('#C1').val(totalincome1);
                        $('#C2').val(totalincome1);
                    }
                }

            });
        }

        @*if ('@Session["Docsstorage"]' == "2") {
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() == "" || $('[name="Income1[' + count + '].AmountVocher1"]').val().slice(0, 1) == 0) {
                        customAlert("Amount1 is required.");
                        plainValidation($('[name="Income1[' + count + '].AmountVocher1"]'));
                        $('[name="Income1[' + count + '].AmountVocher1"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].SalaryAvatar1"]').val().trim() == "" && !$('[name="Income1[' + count + '].incomePaper1"]').prop("checked")
                        && $('[name="Income1[' + count + '].incomePaper1"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount1 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar1"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar1"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper2"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher2"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar2"]').val() == ""
                         && $('[name="Income1[' + count + '].incomePaper2"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount2 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar2"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar2"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper3"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher3"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar3"]').val() == ""
                        && $('[name="Income1[' + count + '].incomePaper3"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount3 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar3"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar3"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper4"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher4"]').val().slice(0, 1) != 0 && $('[name="Income1[' + count + '].SalaryAvatar4"]').val() == ""
                        && $('[name="Income1[' + count + '].incomePaper4"]').parent().next('Div').children("a").length == 0) {
                        customAlert("Amount4 document is required.");
                        plainValidation($('[name="Income1[' + count + '].SalaryAvatar4"]'));
                        $('[name="Income1[' + count + '].SalaryAvatar4"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == "" || $('[name="Income1[' + count + '].Payfrequency"]').val() == null) {
                        customAlert("Payfrequency is required.");
                        plainValidation($('[name="Income1[' + count + '].Payfrequency"]'));
                        $('[name="Income1[' + count + '].Payfrequency"]').focus();
                        return false;
                    }
                    else if ($('[name="Income1[' + count + '].Working"]').val().trim() == "") {
                        customAlert("Working Period is required.");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].Working"]').focus();
                        return false;
                    }

                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher1"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher2"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher3"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher4"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 5) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() * 2)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() / 2)).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 4 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    count = count + 1;
                    NoofVoucher = 0;
                    totalincome = 0;
                    var count1 = 0;
                    var totalincome1 = 0;
                    var mode = true;
                    $('#DivFirst').children().each(function () {
                        if ($(this).children().length > 0) {
                            if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                                mode = false;
                                customAlert("Calculated income is required.");
                                plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                                return false;
                            }
                            else {

                                totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                            }
                        }
                        count1 = count1 + 1;
                    });
                    if (mode) {
                        $('#C1').val(totalincome1);
                        $('#C2').val(totalincome1);
                    }
                }

            });
        }*@


        if ('@Session["Docsstorage"]' == "2") {
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() == "" || $('[name="Income1[' + count + '].AmountVocher1"]').val().slice(0, 1) == 0) {
                        customAlert("Amount1 is required.");
                        plainValidation($('[name="Income1[' + count + '].AmountVocher1"]'));
                        $('[name="Income1[' + count + '].AmountVocher1"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if (!$('[name="Income1[' + count + '].incomePaper1"]').prop("checked")) {
                        customAlert("Amount1 in paper is required.");
                        plainValidation($('[name="Income1[' + count + '].incomePaper1"]'));
                        $('[name="Income1[' + count + '].incomePaper1"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper2"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher2"]').val().slice(0, 1) != 0) {
                        customAlert("Amount2 in paper is required.");
                        plainValidation($('[name="Income1[' + count + '].incomePaper2"]'));
                        $('[name="Income1[' + count + '].incomePaper2"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper3"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher3"]').val().slice(0, 1) != 0) {
                        customAlert("Amount3 in paper is required.");
                        plainValidation($('[name="Income1[' + count + '].incomePaper3"]'));
                        $('[name="Income1[' + count + '].incomePaper3"]').prop("checked").focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "" && !$('[name="Income1[' + count + '].incomePaper4"]').prop("checked")
                        && $('[name="Income1[' + count + '].AmountVocher4"]').val().slice(0, 1) != 0) {
                        customAlert("Amount4 in paper is required.");
                        plainValidation($('[name="Income1[' + count + '].incomePaper4"]'));
                        $('[name="Income1[' + count + '].incomePaper4"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == "" || $('[name="Income1[' + count + '].Payfrequency"]').val() == null) {
                        customAlert("Payfrequency is required.");
                        plainValidation($('[name="Income1[' + count + '].Payfrequency"]'));
                        $('[name="Income1[' + count + '].Payfrequency"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }
                    else if ($('[name="Income1[' + count + '].Working"]').val().trim() == "") {
                        customAlert("Working Period is required.");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].Working"]').focus();
                        isvalidincome = false;
                        return isvalidincome;
                    }

                    if ($('[name="Income1[' + count + '].AmountVocher1"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher1"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher2"]').val().trim() != "") {
                        NoofVoucher = NoofVoucher + 1;
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher2"]').val());
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher3"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher3"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].AmountVocher4"]').val().trim() != "") {
                        totalincome = totalincome + parseFloat($('[name="Income1[' + count + '].AmountVocher4"]').val());
                        NoofVoucher = NoofVoucher + 1;
                    }
                    if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 5) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 1) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() * 2)).toFixed(2));
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Bi-Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 2) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * ($('[name="Income1[' + count + '].Working"]').val() / 2)).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3 && ($('[name="Income1[' + count + '].Working"]').val() > 12 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Monthly. Working period should be beetween 1 to 12");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 3) {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    else if ($('[name="Income1[' + count + '].Payfrequency"]').val() == 4 && ($('[name="Income1[' + count + '].Working"]').val() > 52 || $('[name="Income1[' + count + '].Working"]').val() == 0)) {
                        customAlert("If Payfrequency is Weekly. Working period should be beetween 1 to 52");
                        plainValidation($('[name="Income1[' + count + '].Working"]'));
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(0);
                        $('[name="Income1[' + count + '].Working"]').val(0);
                    }
                    else {
                        $('[name="Income1[' + count + '].IncomeCalculated"]').val(((totalincome / NoofVoucher) * $('[name="Income1[' + count + '].Working"]').val()).toFixed(2));
                    }

                    count = count + 1;
                    NoofVoucher = 0;
                    totalincome = 0;
                    var count1 = 0;
                    var totalincome1 = 0;
                    var mode = true;
                    $('#DivFirst').children().each(function () {
                        if ($(this).children().length > 0) {
                            if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                                mode = false;
                                customAlert("Calculated income is required.");
                                plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                                isvalidincome = false;
                                return isvalidincome;
                            }
                            else {

                                totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                            }
                        }
                        count1 = count1 + 1;
                    });
                    if (mode) {
                        $('#C1').val(totalincome1);
                        $('#C2').val(totalincome1);
                    }
                }

            });
        }

        return isvalidincome;
    }

    function AddIncome() {
       
        $('#spinner').show();
        cleanValidation();
        $('#ApplicationStatusChild').val(0);
        $('#ApplicationStatusParent1').val(1);
        $('#ApplicationStatusParent2').val(0);
        if ($('#Street')[0].value.trim() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#ZipCode')[0].value.trim() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#City')[0].value.trim() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#State')[0].value.trim() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#County')[0].value.trim() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if (!$('#FamilyType').prop("checked") && !$('#FamilyType1').prop("checked")) {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if (!$('#HomeType1').prop("checked") && !$('#HomeType').prop("checked")) {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#ParentRelatioship').val() == "") {
            SetApplicationStatus();
            SetApplicationStatusParent2(0);
        }
        else if ($('#ParentRelatioship').val() == "6" && $('#ParentRelatioshipOther').val() == "") {
            SetApplicationStatus();
        }
        if ($('#FamilyType1').prop("checked")) {
            if (!$('#Married').prop("checked") && !$('#Married1').prop("checked")) {
                SetApplicationStatus(0);
                SetApplicationStatusParent2(0);
            }
        }
        if (!$('#chk input[type="checkbox"]').is(':checked')) {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        if ($('#PrimaryLanguauge').val() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        else if ($('#PrimaryLanguauge').val() == "12" && $('#OtherLanguageDetail').val() == "") {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }

        if (!$('#Interpretor').prop("checked") && !$('#Interpretor1').prop("checked")) {
            SetApplicationStatus(0);
            SetApplicationStatusParent2(0);
        }
        //25082016 Parent1
        if ($('#Pfirstname')[0].value.trim() == "") {
            SetApplicationStatus(0);
        }
        if ($('#PDOB')[0].value.trim() == "") {
            SetApplicationStatus(0);
        }
        if ($('#Pemailid')[0].value.trim() == "" && !$('#Noemail1').prop("checked")) {
            SetApplicationStatus(0);
        }
        if ($("#DdlPRole").val() == null || $("#DdlPRole").val() == "") {
            SetApplicationStatus(0);
        }
        if ($("#DdlPDegreeEarned").val() == null || $("#DdlPDegreeEarned").val() == "") {
            SetApplicationStatus(0);
        }
        if (!$('.Pfemale').prop("checked") && !$('.Pmale').prop("checked") && !$('.Pother').prop("checked")) {
            SetApplicationStatus(0);
        }
        if (!$('#PMilitaryStatus1').prop("checked") && !$('#PMilitaryStatus2').prop("checked") && !$('PMilitaryStatus3').prop("checked")) {
            SetApplicationStatus(0);
        }
        if ($(".Pfemale").prop("checked")) {
            if (!$('#Pquestionyes').prop("checked") && !$('#Pquestionno').prop("checked")) {
                SetApplicationStatus(0);
            }
        }
        if ($('#Pregnantmotherenrolled').prop("checked")) {
            if ($("#Pregnantmotherprimaryinsurance").val() == null || $("#Pregnantmotherprimaryinsurance").val() == "") {
                SetApplicationStatus(0);
            }
            if ($("#TrimesterEnrolled").val() == null || $("#TrimesterEnrolled").val() == "") {
                SetApplicationStatus(0);
            }

            if ($("#MedicalhomePreg1").val() == null || $("#MedicalhomePreg1").val() == "") {
                SetApplicationStatus(0);
            }
            else if (($("#MedicalhomePreg1").val() == "2" || $("#MedicalhomePreg1").val() == "3" || $("#MedicalhomePreg1").val() == "4") && $("#CDoctorP1").val().trim() == "") {
                SetApplicationStatus(0);
            }
            if (!$('#PCurrentlyWorking').prop("checked") && !$('#PCurrentlyWorking1').prop("checked")) {
                SetApplicationStatus(0);
            }
            if (!$('#PEnrollment').prop("checked") && !$('#PEnrollment1').prop("checked")) {
                SetApplicationStatus(0);
            }
            if ($('#PCurrentlyWorking').prop("checked") && $('#Span1').text() == "") {
                SetApplicationStatus(0);
            }
            if ($('#gridphone > tbody tr').length > 0) {
                var Phonetype = $("#gridphone > tbody tr:first").find('td:eq(0) :input');
                var PrimaryPhone = $("#gridphone > tbody tr:first").find('td:eq(1) :input[type="text"]');
                if ($(Phonetype).val() == null) {
                    SetApplicationStatus(0);
                }
                if ($(PrimaryPhone).val().trim() == "") {
                    SetApplicationStatus(0);
                }
                var length = 0;
                $('#gridphone > tbody tr').each(function () {
                    if (length == 0) {
                        length = $(this).find('td:eq(2) :checkbox:checked').length;
                        if ($(this).find('td:eq(0) :input').val() == null)
                            length = 0;
                        if ($(this).find('td:eq(1) :input[type="text"]').val() == null)
                            length = 0;
                    }
                });
                if (length == 0) {
                    SetApplicationStatus(0);
                }
            }
            if ($('#DdlPRole').val() == 6 && $('#Pnotesother').val().trim() == "") {
                SetApplicationStatus(0);
            }
        }


        if ($('#FamilyType1').prop("checked")) {
            $('#ApplicationStatusParent2').val(1);
            if ($('#P1firstname')[0].value.trim() == "") {
                SetApplicationStatusParent2(0);
            }
            if ($('#P1DOB')[0].value.trim() == "") {
                SetApplicationStatusParent2(0);
            }
            if ($('#P1emailid')[0].value.trim() == "" && !$('#Noemail2').prop("checked")) {
                SetApplicationStatusParent2(0);
            }
            if ($("#DdlP1Role").val() == null || $("#DdlP1Role").val() == "") {
                SetApplicationStatusParent2(0);
            }
            if ($("#DdlP1DegreeEarned").val() == null || $("#DdlP1DegreeEarned").val() == "") {
                SetApplicationStatusParent2(0);
            }
            if (!$('.P1female').prop("checked") && !$('.P1male').prop("checked") && !$('.P1other').prop("checked")) {
                SetApplicationStatusParent2(0);
            }
            if (!$('#P1MilitaryStatus1').prop("checked") && !$('#P1MilitaryStatus2').prop("checked") && !$('P1MilitaryStatus3').prop("checked")) {
                SetApplicationStatusParent2(0);
            }
            if ($(".P1female").prop("checked")) {
                if (!$('#Pquestionyes1').prop("checked") && !$('#Pquestionno1').prop("checked")) {
                    SetApplicationStatusParent2(0);
                }
            }
            if ($('#PregnantmotherenrolledP1').prop("checked")) {
                if ($("#Pregnantmotherprimaryinsurance1").val() == null || $("#Pregnantmotherprimaryinsurance1").val() == "") {
                    SetApplicationStatusParent2(0);
                }
                if ($("#TrimesterEnrolled1").val() == null || $("#TrimesterEnrolled1").val() == "") {
                    SetApplicationStatusParent2(0);
                }

                if ($("#MedicalhomePreg2").val() == null || $("#MedicalhomePreg2").val() == "") {
                    SetApplicationStatusParent2(0);
                }
                else if (($("#MedicalhomePreg2").val() == "2" || $("#MedicalhomePreg2").val() == "3" || $("#MedicalhomePreg2").val() == "4") && $("#CDoctorP2").val().trim() == "") {
                    SetApplicationStatusParent2(0);
                }
                if (!$('#P1CurrentlyWorking').prop("checked") && !$('#P1CurrentlyWorking1').prop("checked")) {
                    SetApplicationStatusParent2(0);
                }
                if (!$('#P1Enrollment').prop("checked") && !$('#P1Enrollment1').prop("checked")) {
                    SetApplicationStatusParent2(0);
                }
                if ($('#P1CurrentlyWorking').prop("checked") && $('#Span1P2').text() == "") {
                    SetApplicationStatusParent2(0);
                }
                if ($('#gridphone1 > tbody tr').length > 0) {
                    var Phonetype = $("#gridphone1 > tbody tr:first").find('td:eq(0) :input');
                    var PrimaryPhone = $("#gridphone1 > tbody tr:first").find('td:eq(1) :input[type="text"]');
                    if ($(Phonetype).val() == null) {
                        SetApplicationStatusParent2(0);
                    }
                    if ($(PrimaryPhone).val().trim() == "") {
                        SetApplicationStatusParent2(0);
                    }
                    var length = 0;
                    $('#gridphone1 > tbody tr').each(function () {
                        if (length == 0) {
                            length = $(this).find('td:eq(2) :checkbox:checked').length;
                            if ($(this).find('td:eq(0) :input').val() == null)
                                length = 0;
                            if ($(this).find('td:eq(1) :input[type="text"]').val() == null)
                                length = 0;
                        }
                    });
                    if (length == 0) {
                        SetApplicationStatusParent2(0);
                    }
                }
                if ($('#DdlP1Role').val() == 6 && $('#P1notesother').val().trim() == "") {
                    SetApplicationStatusParent2(0);
                }
            }
        }


        if ($('#Cfirstname').val() != "" && $('#Clastname').val() != "" && $('#CDOB').val() != "") {
            //25082016
            $('#ApplicationStatusChild').val(1);
            if ($('#CDOB').val().trim() == "") {
                SetApplicationStatuschild(0);
            }
            //if ($('#DOBverifiedBy').val() == "" || $('#DOBverifiedBy').val() == null) {
            //    SetApplicationStatuschild(0);
            //}
            if (!$('#CGenderfemale').prop("checked") && !$('#CGendermale').prop("checked") && !$('#CGenderother').prop("checked")) {
                SetApplicationStatuschild(0);
            }
            if ($('#CRace').val() == "" || $('#CRace').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#CEthnicity').val() == "" || $('#CEthnicity').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#SchoolDistrict').val() == "" || $('#SchoolDistrict').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#Medicalhome').val() == "" || $('#Medicalhome').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#Medicalhome').val() == 2 || $('#Medicalhome').val() == 3 || $('#Medicalhome').val() == 4) {
                if ($('#Doctor').val() == 0) {
                    SetApplicationStatuschild(0);
                }
            }
            if ($('#CDentalhome').val() == "" || $('#CDentalhome').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#CDentalhome').val() == 2 || $('#CDentalhome').val() == 3 || $('#CDentalhome').val() == 4) {
                if ($('#Dentist').val() == 0) {
                    SetApplicationStatuschild(0);
                }
            }
            if ($('#InsuranceOption').val() == "" || $('#InsuranceOption').val() == null) {
                SetApplicationStatuschild(0);
            }
            if (!$('#IsFoster1').prop("checked") && !$('#IsFoster').prop("checked")) {
                SetApplicationStatuschild(0);
            }

            if (!$('#Inwalfareagency').prop("checked") && !$('#Inwalfareagency1').prop("checked")) {
                SetApplicationStatuschild(0);
            }
            if (!$('#InDualcustody1').prop("checked") && !$('#InDualcustody2').prop("checked")) {
                SetApplicationStatuschild(0);
            }
            if (!$('#CParentdisable').prop("checked") && !$('#CParentdisable1').prop("checked")) {
                SetApplicationStatuschild(0);
            }
            if ($('#ImmunizationService').val() == "" || $('#ImmunizationService').val() == null) {
                SetApplicationStatuschild(0);
            }
            if ($('#BMIStatus').val() == "" || $('#BMIStatus').val() == null) {
                SetApplicationStatuschild(0);
            }
            if (!$('#MedicalService1').prop("checked") && !$('#MedicalService2').prop("checked")) {
                SetApplicationStatuschild(0);
            }

            if ($('#ApplicationStatusParent1').val() == 0) {
                $('#ApplicationStatusChild').val(0);
                $('#ApplicationStatusParent2').val(0);
            }
        }
        var isincomevalid = true;
        if (!CalculateIncome()) {
            isincomevalid = false;
            $('#spinner').hide();
            return isincomevalid;

        }



        if (!$("input:radio[name='Income1[0].Income']").is(":checked")) {
            customAlert("Income Source is required.");
            isincomevalid = false;
            $('#spinner').hide();
            return isincomevalid;
        }
        if ($('#NoIncome').prop('checked')) {
            if ('@Session["Docsstorage"]' == "0") {
                if (($('#NoIncome').prop("checked") && ($('[name="Income1[0].NoIncomeAvatar"]').parent().next('Div').children("a").length == 0 && $('[name="Income1[0].NoIncomeAvatar"]').val() == ""))) {
                    customAlert("No income document is required.");
                    plainValidation($('[name="Income1[0].NoIncomeAvatar"]'));
                    isincomevalid = false;
                    $('#spinner').hide();
                    return isincomevalid;
                }
                else {
                    $('#Span1').text("No Income");
                    $('#Span1').css("color", "Red");
                   // $('#Myincomecalculator').modal('toggle');
                }
            }
            if ('@Session["Docsstorage"]' == "1") {
                $('#Span1').text("No Income");
                $('#Span1').css("color", "Red");
               // $('#Myincomecalculator').modal('toggle');
            }
            if ('@Session["Docsstorage"]' == "2") {
                if ( !$('[name="Income1[0].noincomepaper"]').prop("checked")) {
                    customAlert("No income in paper is required.");
                    plainValidation($('[name="Income1[0].noincomepaper"]'));
                    isincomevalid = false;
                    $('#spinner').hide();
                    return isincomevalid;
                }
                else {
                    $('#Span1').text("No Income");
                    $('#Span1').css("color", "Red");
                    //$('#Myincomecalculator').modal('toggle');
                }
            }
        }
        if ($('#Income').prop('checked')) {
            if ($('#DivFirst').children().length < 1) {
                customAlert("Please add income source.");
                plainValidation($('#a1'));
                isincomevalid = false;
                $('#spinner').hide();
                return isincomevalid;
            }
            else {
                totalincomeclaculated();
             
            }
        }
        if ($('#FamilyType1').prop("checked")) {

            if ($('#P1firstname')[0].value.trim() == "") {
                customAlert("First name is required. ");
                plainValidation('#P1firstname');
                isincomevalid = false;
                $('#spinner').hide();
                return isincomevalid;
            }
            if ($('#P1lastname')[0].value.trim() == "") {
                activefamilytab();
                customAlert("Last name is required. ");
                plainValidation('#P1lastname');
                isincomevalid = false;
                $('#spinner').hide();
                return isincomevalid;

            }
        }

        var myform = document.getElementById("form1");
        var fd = new FormData(myform);
        $('#form1 input:file').each(function (a, b) {
            var fileInput = $(this);
            fd.append($(fileInput).attr("name"), fileInput);
        });
        $.ajax({
            url: HostedDir + "/AgencyUser/SaveIncomeall",
            type: "POST",
            data: fd,
            dataType: "json",
            secureuri: false,
            processData: false,
            contentType: false,
            async: true,
            success: function (Data) {
                if (Data.message == 2)
                {
                    customAlert("Record saved successfully.");
                    Drawincome(Data);
                }
                else
                {

                    customAlert("Error occured please try again later.");

                }


            }
               , error: function (Data) {

                   customAlert("Session Ended Log Onto The System Again.");
                   setTimeout(function () {
                       window.location.href = HostedDir + '/login/Loginagency';
                   }, 2000);
               }
        });
        $('#spinner').hide();
    }
    function Drawincome(Data)
    {
        if(Data.list!="")
        {
            $('#Myincomecalculator').empty();
            $('#Myincomecalculator').append(Data.list);
            Validateincome();
        }
        if(Data.list1!="")
        {
            $('#Myincomecalculator1').empty();
            $('#Myincomecalculator1').append(Data.list1);
            Validateincome1();

        }
    }





    function totalincomeclaculated() {
        var count1 = 0;
        var isincomevalid = true;
        var totalincome1 = 0;
        var mode = true;
        $('#DivFirst').children().each(function () {
            if ($(this).children().length > 0) {
                if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                    mode = false;
                    customAlert("Calculated income is required.");
                    plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                    isincomevalid = false;
                    return isincomevalid;
                }
                else {

                    totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                }
            }
            count1 = count1 + 1;
        });

        if (mode) {
            $('#Span1').text('$' + commaSeparateNumber(Math.round(totalincome1)));
            $('#Span1').css("color", "#333");
            $('#Myincomecalculator').modal('toggle');
            $('#incomeq1').text(commaSeparateNumber(Math.round(totalincome1)));
        }

    }
    function Setworkingperiod(value) {
        if ($(value).val() == 5) {
            $(value).parent().parent().next('Div').find('input:text').val(1);
            $(value).parent().parent().next('Div').find('input:text').attr("readonly", true);
        }
        else {
            $(value).parent().parent().next('Div').find('input:text').val('');
            $(value).parent().parent().next('Div').find('input:text').attr("readonly", false);
        }

    }
    function SetApplicationStatus(value) {
        $('#ApplicationStatusParent1').val(value);
    }
    function SetApplicationStatuschild(value) {
        $('#ApplicationStatusChild').val(value);
    }
    function SetApplicationStatusParent2(value) {
        $('#ApplicationStatusParent2').val(value);
    }



    function Validateincome()
    {


        if ($('#Income').prop("checked")) {
            var count1 = 0;
            var totalincome1 = 0;
            var mode = true;
            $('#DivFirst').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income1[' + count1 + '].IncomeCalculated"]').val() == "") {
                        mode = false;
                        customAlert("Calculated income is required.");
                        plainValidation($('[name="Income1[' + count1 + '].IncomeCalculated"]'));
                        return false;
                    }
                    else {

                        totalincome1 = totalincome1 + parseFloat($('[name="Income1[' + count1 + '].IncomeCalculated"]').val());
                    }
                }
                count1 = count1 + 1;
            });

            if (mode) {
                $('#Span1').text('$' + commaSeparateNumber(Math.round(totalincome1)));

                if (totalincome1 == 0)
                    $('#incomeq1').text('$' + totalincome1);
                else
                    $('#incomeq1').text('$' + commaSeparateNumber(Math.round(totalincome1)));



                $('#Amountqca1').val(Math.round(totalincome1));
                if ($('#Amountqca1').val() != "") {
                    $('#Childincome').val($('#Amountqca1').val());
                }



                $('#C1').val(totalincome1);
                $('#C2').val(totalincome1);
                $('#Span1').css("color", "#333");
                $('#IncomeSourcecheck').attr('disabled', false);
                $('#divisource').show();
                cleanValidation();
                $('#DivFirst').show();
                $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', true);
                $('[name="Income1[0].noincomepaper').attr('disabled', true);
                $('#Hideshowincome').hide();
                if ($('#DivFirst').children().length > 0) {
                    $('#C1').show();
                    $('#C2').show();
                    $('#Divcalculateshow1').show();
                    $('#Divcalculateshow2').show();
                }

            }
        }
        else if ($('#NoIncome').prop("checked")) {
            $('[name="Income1[0].NoIncomeAvatar"]').attr('disabled', false);
            $('[name="Income1[0].noincomepaper').attr('disabled', false);
            $('#Hideshowincome').show();
            $('#IncomeSourcecheck').attr('disabled', true);
            $('#DivFirst').hide();
            $('#Span1').text('');
            $('#Divcalculateshow1').hide();
            $('#Divcalculateshow2').hide();
            $('#IncomeSourcecheck').val('');
            $('#divisource').hide();
            $('#C1').hide();
            $('#C2').hide();
            $('#Span1').text("No Income");
            $('#Span1').css("color", "Red");
            $('#incomeq1').text('$' + 0);
            $('#Amountqca1').val(0);
        }
        else {
            $('#incomeq1').text('$' + 0);
            $('#Amountqca1').val(0);
        }
    }


    function Validateincome1() {


        if ($('#Income1').prop("checked")) {
            var count = 0;
            var totalincome = 0;
            var mode = true;
            $('#DivFirst1').children().each(function () {
                if ($(this).children().length > 0) {
                    if ($('[name="Income2[' + count + '].IncomeCalculated"]').val() == "") {
                        mode = false;
                        customAlert("Calculated income is required.");
                        plainValidation($('[name="Income2[' + count + '].IncomeCalculated"]'));
                        return false;
                    }
                    else {

                        totalincome = totalincome + parseFloat($('[name="Income2[' + count + '].IncomeCalculated"]').val());
                    }
                }
                count = count + 1;
            });
            if (mode) {
                $('#Span1P2').text('$' + commaSeparateNumber(Math.round(totalincome)));

                if (totalincome == 0)
                    $('#incomeq2').text('$' + totalincome);
                else
                    $('#incomeq2').text('$' + commaSeparateNumber(Math.round(totalincome)));

                $('#Amountqca2').val(Math.round(totalincome));
                if ($('#Amountqca1').val() != "" && $('#Amountqca2').val() != "") {
                    $('#Childincome').val(parseInt($('#Amountqca1').val()) + parseInt($('#Amountqca2').val()));
                }
                else if ($('#Amountqca2').val() != "") {
                    $('#Childincome').val($('#Amountqca2').val());
                }

                $('#Cp1').val(totalincome);
                $('#Cp2').val(totalincome);
                $('#Span1P2').css("color", "#333");
                $('#divisource1').show();
                $('#IncomeSourcecheck1').attr('disabled', false);
                $('[name="Income2[0].NoIncomeAvatar"]').attr('disabled', true);
                $('[name="Income2[0].noincomepaper').attr('disabled', true);

                $('#HideShowincome').hide();

                $('#DivFirst1').show();
                if ($('#DivFirst1').children().length > 0) {
                    $('#Cp1').show();
                    $('#Cp2').show();
                    $('#Divcalculateshow11').show();
                    $('#Divcalculateshow22').show();
                }
            }
        }
        else if ($('#NoIncome1').prop("checked")) {
            $('[name="Income2[0].NoIncomeAvatar"]').attr('disabled', false);
            $('[name="Income2[0].noincomepaper').attr('disabled', false);
            $('#HideShowincome').show();
            $('#IncomeSourcecheck1').attr('disabled', true);
            $('#DivFirst1').hide();
            $('#Divcalculateshow11').hide();
            $('#Divcalculateshow22').hide();
            $('#IncomeSourcecheck1').val('');
            $('#Cp1').hide();
            $('#Cp2').hide();
            $('#Span1P2').text("No Income");
            $('#Span1P2').css("color", "Red");
            $('#divisource1').hide();
            $('#incomeq2').text('$' + 0);
            $('#Amountqca2').val(0);
        }
        else {
            $('#incomeq2').text('$' + 0);
            $('#Amountqca2').val(0);

        }
    }
</script>



<div class="modal fade scroll-modal" id="Myincomecalculator" role="dialog">
    <div class="modal-dialog income-popup">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Income Calculator Guardian 1<span class="extra-title muted"></span></h3>
            </div>
            <div class="control-group">
                <div>
                    <div class="col-md-3" style="margin-bottom:1%;">

                     


                        @if (Model[0].Income == 1)
                        {
                            <input type="radio" name="Income1[0].Income" checked="checked" id="NoIncome" value="1" onchange="DisableIncone(this);">
                               <input type="hidden" name="Income1[0].newincomeid" value="@Model[0].newincomeid">
                        }
                        else
                        {
                            <input type="radio" name="Income1[0].Income" id="NoIncome" value="1" onchange="DisableIncone(this);">

                        }
                        <span class="incomespan">No Income </span>
                    </div>
                    <div id="Hideshowincome" style="display:none;">
                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0")
                        {
                            <div class="col-md-5">
                                @if (Model[0].Income == 1)
                                {
                                    <input type="file" accept="image/*" capture="camera" name="Income1[0].NoIncomeAvatar" disabled="disabled" onchange="ValidateFileinput3(this)" class="form-control">
                                }
                                else
                                {
                                    <input type="file" accept="image/*" capture="camera" name="Income1[0].NoIncomeAvatar" onchange="ValidateFileinput3(this)" class="form-control">
                                }
                            </div>
                        }
                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "1" || Session["Docsstorage"].ToString() == "2")
                        {
                            <div class="col-md-5" style="display:none;">
                                @if (Model[0].Income == 1)
                                {
                                    <input type="file" accept="image/*" capture="camera" name="Income1[0].NoIncomeAvatar" disabled="disabled" onchange="ValidateFileinput3(this)" class="form-control">
                                }
                                else
                                {
                                    <input type="file" accept="image/*" capture="camera" name="Income1[0].NoIncomeAvatar" onchange="ValidateFileinput3(this)" class="form-control">
                                }
                            </div>
                        }
                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "2")
                        {
                            <div class="col-md-4  cont-sz" style="margin-top: 5px;">
                                @if (Model[0].noincomepaper)
                                {
                                    <input type="checkbox" name="Income1[0].noincomepaper" checked="checked" value="true" class="minimal" />
                                }
                                else
                                {
                                    <input type="checkbox" name="Income1[0].noincomepaper" value="true" disabled="disabled" class="minimal" />
                                }
                                <span style="width:45px;">Paper</span>
                            </div>
                        }
                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0")
                        {
                            <div class="col-md-2 attachmentmargintop">
                                @if (!string.IsNullOrEmpty(Model[0].NoIncomeFilename4))
                                {
                                    <a target="_blank" href="~/Agencyuser/getpdfimage/0,@Model[0].newincomeid"><i class="fa fa-download"></i></a>
                                }
                            </div>
                        }
                    </div>
                        <div class="col-md-12" style="margin-bottom:3%;">
                            @if (Model[0].Income == 2)
                            {
                                <input type="radio" checked="checked" name="Income1[0].Income" id="Income" value="2" onchange="EnableIncome(this);">
                            }
                            else
                            {
                                <input type="radio" name="Income1[0].Income" id="Income" value="2" onchange="EnableIncome(this);">
                            }

                            <span class="incomespan">Income Source </span>
                        </div>
                        <div class="clearfix"></div>
                        <div style="margin:0 0 35px;display:none;" id="divisource">
                            <div class="col-xs-5">
                                <span class="incomespan">Income Source Name</span>
                                <input type="text" maxlength="50" class="form-control" id="IncomeSourcecheck" disabled="disabled" style="width:80%; float:left; margin-top:4%;">
                                <span style="float: left; margin: 21px 0 0 10px;">
                                    <a id="a1" href="javascript:void(0)" onclick="AddIncomeDiv();"><i class="fa fa-arrow-up"></i></a>
                                </span>
                            </div>
                            @if (string.IsNullOrEmpty(@Model[0].IncomeSource1))
                            {
                                <div class="col-sm-3">
                                    <input type="text" id="C1" style="display:none; margin-top:6%;" class="form-control" readonly="readonly" placeholder="Calculated Income" />
                                </div>
                                <div class="col-xs-3 " style="margin-top: 1%;display:none;" id="Divcalculateshow1">
                                    <button id="btnSubmitDentist" onclick="CalculateIncome();" class="my-btn" type="button" style="width:100% !important;">Calculate Income</button>
                                </div>

                            }
                            else
                            {
                                <div class="col-sm-3">
                                    <input type="text" id="C1" style="margin-top: 6%;" readonly="readonly" class="form-control" placeholder="Calculated Income" />
                                </div>
                                <div class="col-xs-3" style="margin-top: 1%;" id="Divcalculateshow1">
                                    <button id="btnSubmitDentist" onclick="CalculateIncome();" class="my-btn" type="button" style="width:100% !important;">Calculate Income</button>
                                </div>
                            }


                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                <div id="DivFirst">
                    @{
                        int i = 0;
                    }
                    @foreach (var item in Model)
                    {
                        if (!string.IsNullOrEmpty(@item.IncomeSource1) && @item.Income == 2)
                        {
                            <div class="col-sm-12">
                                <div class="col-sm-12 income-box">
                                    <div class="income-close"><a onclick="DeleteIncomeSource(this);" accesskey="@item.newincomeid" href="#"><i class="fa fa-times"></i></a></div>
                                    <div class="col-md-12 bold_none">
                                        <div class="income-heading"><span class="incomespan">@item.IncomeSource1</span></div>
                                        <div>
                                            <div class="form-group col-md-12 mrBt15">
                                                <div class="col-md-2">
                                                    <label for="exampleInputFile">Amount1($) </label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" name="Income1[@i].AmountVocher1" placeholder="0" maxlength="8" value="@item.AmountVocher1" class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);">
                                                    <input type="hidden" value="@item.IncomeSource1" name="Income1[@i].IncomeSource1" />
                                                    <input type="hidden" style="display:none;" value="@item.newincomeid" name="Income1[@i].newincomeid" />
                                                </div>
                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                {
                                                    <div class="col-md-4">
                                                        <input name="Income1[@i].SalaryAvatar1" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar1" class="form-control">
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="col-md-4" style="display:none;">
                                                        <input name="Income1[@i].SalaryAvatar1" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar1" class="form-control">
                                                    </div>
                                                    
                                                }


                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "2")
                                                {
                                                <div class="col-md-4  cont-sz">
                                                    @if (@item.incomePaper1)
                                                    {
                                                        <input type="checkbox"  checked="checked" value="true" name="Income1[@i].incomePaper1" class="minimal" />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox"  value="true" name="Income1[@i].incomePaper1" class="minimal" />
                                                    }
                                                    <label style="width:45px;">Paper</label>
                                                </div>
                                                }
                                                else
                                                {
                                                     <div class="col-md-4  cont-sz" style="display:none;">
                                                    @if (@item.incomePaper1)
                                                    {
                                                        <input type="checkbox"  checked="checked" value="true" name="Income1[@i].incomePaper1" class="minimal" />
                                                    }
                                                    else
                                                    {
                                                        <input type="checkbox"  value="true" name="Income1[@i].incomePaper1" class="minimal" />
                                                    }
                                                    <label style="width:45px;">Paper</label>
                                                </div>
                                                    
                                                    
                                                }


                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0")
                                                {
                                                    <div class="col-md-1 attachmentmargintop">
                                                        @if (!string.IsNullOrEmpty(@item.SalaryAvatarFilename1))
                                                        {
                                                            <a target="_blank" title="Click here to download" href="~/Agencyuser/getpdfimage/1,@item.newincomeid"><i class="fa fa-download"></i></a>
                                                        }
                                                    </div>
                                                }
                                            </div>
                                            <div class="form-group col-md-12 mrBt15">
                                                <div class="col-md-2">
                                                    <label for="exampleInputFile">Amount2($) </label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" name="Income1[@i].AmountVocher2" accesskey="1" placeholder="0" maxlength="8" value="@item.AmountVocher2" class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);">
                                                </div>
                                                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                        {
                                                            <div class="col-md-4">
                                                                <input name="Income1[@i].SalaryAvatar2" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar2" class="form-control">
                                                            </div>
                                                        }
                                                       else
                                                        {
                                                            <div class="col-md-4" style="display:none;">
                                                                <input name="Income1[@i].SalaryAvatar2" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar2" class="form-control">
                                                            </div>
                                                            
                                                        }
                                                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "2")
                                                        {
                                                            <div class="col-md-4  cont-sz" >
                                                                @if (@item.incomePaper2)
                                                                {
                                                                    <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper2" class="minimal" />
                                                                }
                                                                else
                                                                {
                                                                    <input type="checkbox" value="true" name="Income1[@i].incomePaper2" class="minimal" />
                                                                }
                                                                <label style="width:45px;">Paper</label>
                                                            </div>
                                                        }
                                                         else
                                                        {
                                                            <div class="col-md-4  cont-sz" style="display:none;">
                                                                @if (@item.incomePaper2)
                                                                {
                                                                    <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper2" class="minimal" />
                                                                }
                                                                else
                                                                {
                                                                    <input type="checkbox" value="true" name="Income1[@i].incomePaper2" class="minimal" />
                                                                }
                                                                <label style="width:45px;">Paper</label>
                                                            </div>
                                                        }  
                                                        @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                        {
                                                            <div class="col-md-1 attachmentmargintop">
                                                                @if (!string.IsNullOrEmpty(@item.SalaryAvatarFilename2))
                                                                {
                                                                    <a target="_blank" title="Click here to download" href="~/Agencyuser/getpdfimage/2,@item.newincomeid"><i class="fa fa-download"></i></a>
                                                                }
                                                            </div>
                                                        }
                                            </div>
                                            <div class="form-group col-md-12 mrBt15">
                                                <div class="col-md-2">
                                                    <label for="exampleInputFile">Amount3($) </label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" name="Income1[@i].AmountVocher3" accesskey="1" placeholder="0" maxlength="8" value="@item.AmountVocher3" class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);">
                                                </div>
                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                {
                                                    <div class="col-md-4">
                                                        <input name="Income1[@i].SalaryAvatar3" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar3" class="form-control">
                                                    </div>
                                                }
                                                else
                                                {
                                                    
                                                    <div class="col-md-4" style="display:none;">
                                                        <input name="Income1[@i].SalaryAvatar3" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar3" class="form-control">
                                                    </div>
                                                    
                                                }
                                                
                                                
                                                
                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "2")
                                                {
                                                    <div class="col-md-4  cont-sz">
                                                        @if (@item.incomePaper3)
                                                        {
                                                            <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper3" class="minimal" />
                                                        }
                                                        else
                                                        {
                                                            <input type="checkbox" value="true" name="Income1[@i].incomePaper3" class="minimal" />
                                                        }
                                                        <label style="width:45px;">Paper</label>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="col-md-4  cont-sz" style="display:none;">
                                                        @if (@item.incomePaper3)
                                                        {
                                                            <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper3" class="minimal" />
                                                        }
                                                        else
                                                        {
                                                            <input type="checkbox" value="true" name="Income1[@i].incomePaper3" class="minimal" />
                                                        }
                                                        <label style="width:45px;">Paper</label>
                                                    </div>
                                                }
                                                



                                                @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                {
                                                    <div class="col-md-1 attachmentmargintop">
                                                        @if (!string.IsNullOrEmpty(@item.SalaryAvatarFilename3))
                                                        {
                                                            <a target="_blank" title="Click here to download" href="~/Agencyuser/getpdfimage/3,@item.newincomeid"><i class="fa fa-download"></i></a>
                                                        }
                                                    </div>
                                                }
                                            </div>
                                            <div class="form-group col-md-12 mrBt15">
                                                <div class="col-md-2">
                                                    <label for="exampleInputFile">Amount4($) </label>
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" name="Income1[@i].AmountVocher4" accesskey="1" placeholder="0" maxlength="8" value="@item.AmountVocher4" class="form-control" onkeyup="checkDec(this);" onblur="checkDecimal(this);">
                                                </div>



                                                    @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                    {
                                                        <div class="col-md-4">
                                                            <input name="Income1[@i].SalaryAvatar4" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar4" class="form-control">
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="col-md-4" style="display:none;">
                                                            <input name="Income1[@i].SalaryAvatar4" accept="image/*" capture="camera" accesskey="1" type="file" onchange="ValidateFileinput3(this)" value="@item.SalaryAvatar4" class="form-control">
                                                        </div>
                                                    }
                                                    @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "2")
                                                    {
                                                        <div class="col-md-4  cont-sz">
                                                            @if (@item.incomePaper4)
                                                            {
                                                                <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper4" class="minimal" />
                                                            }
                                                            else
                                                            {
                                                                <input type="checkbox" value="true" name="Income1[@i].incomePaper4" class="minimal" />
                                                            }
                                                            <label style="width:45px;">Paper</label>
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                         <div class="col-md-4  cont-sz" style="display:none;">
                                                            @if (@item.incomePaper4)
                                                            {
                                                                <input type="checkbox" checked="checked" value="true" name="Income1[@i].incomePaper4" class="minimal" />
                                                            }
                                                            else
                                                            {
                                                                <input type="checkbox" value="true" name="Income1[@i].incomePaper4" class="minimal" />
                                                            }
                                                            <label style="width:45px;">Paper</label>
                                                        </div>
                                                    }
                                                    

                                                    @if (Session["Docsstorage"] != null && Session["Docsstorage"].ToString() == "0" )
                                                    {
                                                        <div class="col-md-1 attachmentmargintop">
                                                            @if (!string.IsNullOrEmpty(@item.SalaryAvatarFilename4))
                                                            {
                                                                <a target="_blank" title="Click here to download" href="~/Agencyuser/getpdfimage/4,@item.newincomeid"><i class="fa fa-download"></i></a>
                                                            }
                                                        </div>
                                                    }
                                            </div>
                                        </div>
                                        <div class="form-group col-md-12 mrBt15">
                                            <div class="col-md-2">
                                                <label for="exampleInputFile">Pay Frequency</label>
                                            </div>
                                            <div class="col-md-4">
                                                <select class="form-control" onchange="Setworkingperiod(this)" accesskey="2" name="Income1[@i].Payfrequency">
                                                    @if (@item.Payfrequency == 5)
                                                    {
                                                        <option value="5" selected="selected">Annually</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="5">Annually</option>
                                                    }
                                                    @if (@item.Payfrequency == 1)
                                                    {
                                                        <option value="1" selected="selected">Bi-Monthly</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="1">Bi-Monthly</option>
                                                    }
                                                    @if (@item.Payfrequency == 2)
                                                    {
                                                        <option value="2" selected="selected">Bi-Weekly</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="2">Bi-Weekly</option>
                                                    }
                                                    @if (@item.Payfrequency == 3)
                                                    {
                                                        <option value="3" selected="selected">Monthly</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="3">Monthly</option>
                                                    }
                                                    @if (@item.Payfrequency == 4)
                                                    {
                                                        <option value="4" selected="selected">Weekly</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="4">Weekly</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group col-sm-12 mrBt15">
                                            <div class="col-md-2">
                                                <label for="exampleInputFile">Working Period </label>
                                            </div>
                                            <div class="col-md-4">

                                                @if (@item.Payfrequency == 5)
                                                {
                                                    <input name="Income1[@i].Working" type="text" readonly="readonly" accesskey="3" onblur="checkIfNumeric(this);" value="@item.Working" class="form-control">

                                                }
                                                else
                                                {

                                                    <input name="Income1[@i].Working" type="text" accesskey="3" onblur="checkIfNumeric(this);" value="@item.Working" class="form-control">
                                                }


                                            </div>
                                        </div>
                                        <div class="form-group col-md-12 mrBt15">
                                            <div class="col-md-2">
                                                <label for="exampleInputFile">Calculated Income($) </label>
                                            </div>
                                            <div class="col-md-4">
                                                <input name="Income1[@i].IncomeCalculated" accesskey="4" placeholder="0" maxlength="20" type="text" onblur="checkIfNumeric(this);" readonly="true" value="@item.IncomeCalculated" class="form-control">

                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        i++;
                    }

                </div>

                @if (string.IsNullOrEmpty(@Model[0].IncomeSource1))
                {
                    <div class="col-sm-12">
                        <div class="col-sm-6">
                        </div>
                        <div class="col-sm-3">
                            <input type="text" id="C2" style="display:none;" class="form-control" readonly="readonly" placeholder="Calculated Income" />
                        </div>
                        <div class="col-sm-3" style="display:none" id="Divcalculateshow2">
                            <button id="btnSubmitDentist" onclick="CalculateIncome();" class="my-btn" type="button" style="width:100% !important;">Calculate Income</button>
                        </div>
                    </div>
                }
                else
                {
                    <div class="col-sm-12">

                        <div class="col-sm-6">
                        </div>
                        <div class="col-sm-3">
                            <input type="text" id="C2" readonly="readonly" class="form-control" placeholder="Calculated Income" />
                        </div>
                        <div class="col-sm-3" id="Divcalculateshow2">
                            <button id="btnSubmitDentist" onclick="CalculateIncome();" class="my-btn" type="button" style="width:100% !important;">Calculate Income</button>
                        </div>
                    </div>
                }

                <div class="col-md-12">
                    <div class="btnwrp_subcal">
                        <button onclick="return AddIncome();" name="Command" class="my-btn" type="button" value="Saveincome">Save</button>
                        <button id="btnCancelPassword" class="my-btn" data-dismiss="modal" type="button">Exit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
