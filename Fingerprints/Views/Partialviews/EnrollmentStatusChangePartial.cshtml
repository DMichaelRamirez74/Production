

<style type="text/css">
    @@media only screen and (min-width:768px) and (max-width:1200px) {
        strong.pir-Q-lbl {
            min-height: 0 !important;
            float: left;
            color: #333;
        }

        .title-fixed {
            position: static;
            padding-left: 0;
        }

        .protype-solid span textarea {
            height: 50px;
            width: 100% !important;
        }

        .protype-solid span {
            width: 55% !important;
            float: left;
        }

        .protype-solid label {
            width: 45% !important;
            float: left;
        }

            .protype-solid label input {
                width: 30px !important;
                float: left;
            }
    }

    .edu-protextarea textarea {
        width: 65%;
        float: left;
        height: 60px;
        margin-bottom: 15px;
        max-width: 65%;
    }

    .protype-solid span textarea {
        height: 50px;
        width: 60%;
    }

    .parent-solid .protype-solid label input {
        margin-right: 8px;
    }

    .protype-solid {
        width: 100%;
        float: left;
        margin-bottom: 15px;
    }

    .edu-protextarea.edu_new_child textarea {
        width: 54%;
        margin-right: 15px;
    }

    .edu_new_child span {
        margin-top: 13px;
        float: left;
    }

    .edu-boxmade label {
        color: #163b69 !important;
    }

    .protype-solid label {
        width: 30%;
        float: left;
    }

    .protype-solid span {
        width: 70%;
        float: left;
    }

    strong.pir-Q-lbl {
        min-height: 60px;
        float: left;
        color: #333;
    }







    @@media only screen and (min-width: 767px) and (max-width: 991px) {
        .response-addicspace {
            margin-top: 12px;
        }
    }

    .err-bg {
        background-color: pink !important;
    }

    .pir-q-p {
        background: none !important;
        border: none !important;
        display: inline-block;
    }

    .pir-Q-lbl {
        display: inline-block;
    }

    .m-tp {
        margin-bottom: 5px;
    }

    .btn-accept {
        border-radius: 4px;
    }

    .addapplicant {
        font-size: 20px;
        font-weight: bold;
        border-bottom: 2px solid #295b8f;
        color: #295b8f;
        padding: 15px 0;
        margin: 0 15px;
    }

    .new-casenote {
        width: 100%;
        float: left;
    }

    .edu_header .addInnerChildContent {
        border: 1px solid #ccc;
        background-color: #f7f7f7;
        box-shadow: 0 0 10px 1px #ccc;
        margin-bottom: 15px;
    }

    .edu_header h3 {
        font-size: 20px;
        font-weight: bold;
        border-bottom: 2px solid #295b8f;
        color: #295b8f;
        padding: 15px 0;
        text-transform: capitalize;
    }

    .transition-inner21 .form-control {
        background: #fff;
        border: 1px solid #e7e7e7;
        padding: 10px 10px;
        color: #163b69;
        text-align: left;
        font-size: 15px;
        margin: 0;
        text-transform: none;
        width: 100%;
        float: left;
        height: 43px;
        box-shadow: none;
        border-radius: 0;
    }

    

    .transition-radio-btn .radio.radio-info {
        margin-right: 25px;
    }

    @@media only screen and (min-width: 1024px) and (max-width: 1290px) {
        .response-mtop {
            margin-top: 10px !important;
        }
    }

    @@media only screen and (min-width: 768px) and (max-width: 991px) {
        .response-mtop {
            margin-top: 10px !important;
        }
    }
</style>


<script type="text/javascript">


    var prevTag = '';

    var multiChildAppend = '<div class="col-xs-12 addInnerChildContent no-padding">\
                                                <form role="form">\
                                                    <div class="col-xs-12 col-md-6" style="margin-bottom: 10px;margin-top:15px;">\
                                                        <div class="col-lg-3 col-xs-5" style="padding-left: 0;">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <p style="background: none;border: none">First Name<span class="error-notify">*</span></p>\
                                                            </div>\
                                                        </div>\
                                                        <div class="col-lg-9 col-xs-7 no-padding">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <input type="text" style="margin-bottom: 5px;" class="form-control childmandatory childFirstName" placeholder="First Name">\
                                                                <div class="err-container irr-error">\
                                                                    <span class="err-message">First name is required</span>\
                                                                </div>\
                                                            </div>\
                                                        </div>\
                                                    </div>\
                                                    <div class="col-xs-12 col-md-6" style="margin-bottom: 10px;margin-top:15px;">\
                                                        <div class="col-lg-3 col-xs-5" style="padding-left: 0;">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <p style="background: none;border: none">Last Name<span class="error-notify">*</span></p>\
                                                            </div>\
                                                        </div>\
                                                        <div class="col-lg-9 col-xs-7 no-padding">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <input type="text" style="margin-bottom: 5px;" class="form-control childmandatory childLastName" placeholder="Last Name">\
                                                                <div class="err-container irr-error">\
                                                                    <span class="err-message">Last name is required</span>\
                                                                </div>\
                                                            </div>\
                                                        </div>\
                                                    </div>\
                                                    <div class="col-xs-12 col-md-6" style="margin-bottom: 10px;margin-top:15px;">\
                                                        <div class="col-lg-3 col-xs-5" style="padding-left: 0;">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <p style="background: none;border: none">DOB<span class="error-notify">*</span></p>\
                                                            </div>\
                                                        </div>\
                                                        <div class="col-lg-9 col-xs-7 no-padding">\
                                                            <div class="transition-inner" style="position: relative;">\
                                                                <span class="transition-field-style"></span>\
                                                                <input type="text" maxlength="10" class="form-control txt-date childmandatory dob" style="margin-bottom: 5px;" placeholder="MM/DD/YYYY" value="">\
                                                                <div class="err-container  irr-error">\
                                                                    <span class="err-message">Date of birth is required</span>\
                                                                </div>\
                                                            </div>\
                                                        </div>\
                                                    </div>\
                                                    <div class="col-xs-12 col-md-6" style="margin-top: 16px;">\
                                                        <div class="col-lg-3 col-xs-5" style="padding-left: 0;">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <p style="background: none;border: none">Gender<span class="error-notify">*</span></p>\
                                                            </div>\
                                                        </div>\
                                                        <div class="col-lg-9 col-xs-7 no-padding transition-radio-btn">\
                                                            <div class="radio radio-info">\
                                                                <input type="radio" name="yn" class="gender" value="1">\
                                                                <label>Male</label>\
                                                            </div>\
                                                            <div class="radio radio-info">\
                                                                <input type="radio" name="yn" class="gender" value="2">\
                                                                <label>Female</label>\
                                                            </div>\
                                                            <div class="err-container col-xs-12  irr-error" style="padding:0;">\
                                                                <span class="err-message err-message-gender">Gender is required</span>\
                                                            </div>\
                                                        </div>\
                                                    </div>\
                                                    <div class="col-xs-12" style="margin-bottom: 10px;">\
                                                        <div class="enroll-sec" style="padding-left: 0;">\
                                                            <div class="transition-content-desc" style="position: relative;">\
                                                                <p style="background: none;border: none;">Will the newborn be enrolled into the EHS program?<span class="error-notify">*</span></p>\
                                                            </div>\
                                                        </div>\
                                                        <div class="transition-radio-btn enroll-sec margin-enroll">\
                                                            <div class="radio radio-info">\
                                                                <input type="radio" name="yn1" class="IsEHS" value="true">\
                                                                <label>Yes</label>\
                                                            </div>\
                                                            <div class="radio radio-info">\
                                                                <input type="radio" name="yn1" class="IsEHS" value="false">\
                                                                <label>No</label>\
                                                            </div>\
                                                            <div class="err-container irr-error col-xs-12" style="padding:0;">\
                                                                <span class="err-message err-message-ehs">EHS program is required</span>\
                                                            </div>\
                                                        </div>\
                                                    </div>\
                                                </form>\
                                            </div>';


    function checkStatusChangeDate(value) {



        isValid = true;
        if (!$(value).attr("readonly")) {

            if ($(value).val().trim() != "MM/DD/YYYY" && $(value).val().trim() != "") {
                var dateformat = /^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/;
                var regex = new RegExp(dateformat);
                if (!regex.test($(value).val())) {
                    customAlert("Invalid date format. ");
                    $(value).val('');
                    return false;
                }
                else {
                    var text = $(value).val();
                    var comp = text.split('/');
                    var m = parseInt(comp[0], 10);
                    var d = parseInt(comp[1], 10);
                    var y = parseInt(comp[2], 10);
                    var date = new Date(y, m - 1, d);
                    if (date.getFullYear() == y && date.getMonth() + 1 == m && date.getDate() == d) {

                    } else {
                        customAlert("Invalid date. ");
                        $(value).val('');
                        return false;
                    }



                }
            }
            var txtdate = $(value).val();
            var selectedTimestampequal = new Date();
            var year = selectedTimestampequal.getFullYear();
            var month = selectedTimestampequal.getMonth() + 1;
            var day = selectedTimestampequal.getDate();
            today1 = month + '/' + day + '/' + year;
            var newinput = today1.split("/");
            var newday = newinput[1];
            var str = newday.substr(0, 1);
            var newdaynew = ('0' + newday).slice(-2);
            var newmonth = newinput[0];
            var str1 = newmonth.substr(0, 1);
            var newmonthnew = ('0' + newmonth).slice(-2);
            today = newmonthnew + '/' + newdaynew + '/' + year;
            if (today == txtdate) {
                return true;
            }
            var testdatelocalinput = new Date(txtdate);
            var selectedTimestamp = new Date().getTime();
            var testdatelocalinputTS = testdatelocalinput.getTime();
            var timestamp = new Date().getTime() - (30 * 24 * 60 * 60 * 1000)
            if (testdatelocalinputTS > selectedTimestamp) {
                customAlert("Case Note date must be less than or equal to today's date.");
                $(value).val('');
                return false;
            }
            else if (timestamp > testdatelocalinputTS) {
                customAlert("Case Note date cannot be less than 30 days from today's date.");
                $(value).val('');
                return false;
            }
        }
        return true;
    }

    function Loadchangestatusmodel(object) {

        var _clientid = $(object).attr('clientid');
        cleanValidation();

        $('#ChangeclientStatus').find('#divSelectClassroom').find('#classroomSelect').html('');
        $('#ChangeclientStatus').find('#divSelectCenter').find('#centerList').val('0');
        $('#divSelectDate').find('#statusClassStart').val('');

        $('#divForWithdrawn').find('.fa-check').hide();

        $('#divForWithdrawn').hide();
        $('#Divwaitinglist').hide();
        $('#Divreason').hide();
        $('input:radio').prop('checked', false);
        $('#ChangeclientStatus').find('#isclientPreg').val('');

        $('#ChangeclientStatus').find('input[type=checkbox]').prop('checked', false);
        $('#ChangeclientStatus').find('input[type=radio]').prop('checked', false);
        $('#ChangeclientStatus').find('#childBirthTypeDiv,#newChildInfoDiv').hide();

        $('.enroll-sec').each(function () {

            $(this).css("background-color", "");
        });
        var Insurance = $(object).attr('data-Insurance');

        $('#ChangeclientStatus').find('#CaseNoteSecurity').prop('checked', false);

        $('#ChangeclientStatus').find('#addAttachmentDiv').html('');
        $('#ChangeclientStatus').find('#txtdatewithdrawn,#FirstFile').val('');
        $('#ChangeclientStatus').find('input[name=waitinglist]').prop('checked', false);

        $('#ChangeclientStatus').find('#WithdrawnTypeDiv').find('select').val('0');


        BindReason(object, _clientid);
        EnrolledObject = object;

        if ($(object).attr("accesskey") == "5") {

            $('#lblCurrentStatus').css('color', 'green').text("Accepted");
            $('#lblNewStatus').text("Dropped");
            $('#Divwaitinglist').show();
            $('#ddlreason').val('');
            $('#ClientNameAll').text($(object).attr("name"));
            $('#ChangeclientStatus').find('#divSelectCenter,#divSelectClassroom,#dateOfWithdrawnDiv,#divSelectDate,#WithdrawnTypeDiv').hide();

            bindStatusCaseNoteDetails(_clientid);



            $('#ChangeclientStatus').modal('show');
        }
        if ($(object).attr("accesskey") == "6") {
            //BindReason(object, _clientid);
            //EnrolledObject = object;
            $('#lblCurrentStatus').css('color', 'red').text("Dropped");

            $('#lblNewStatus').css('color', 'green').text("Accepted");
            $('#ddlreason').val('');
            $('#ClientNameAll').text($(object).attr("name"));
            $('#ChangeclientStatus').find('#dateOfWithdrawnDiv,#WithdrawnTypeDiv,#Divwaitinglist').hide();
            $('#ChangeclientStatus').find('#divSelectCenter,#divSelectClassroom,#divSelectDate').show();
            bindStatusCaseNoteDetails(_clientid);
            $('#ChangeclientStatus').modal('show');
        }
        if ($(object).attr("accesskey") == "7") {
            //BindReason(object, _clientid);
            //EnrolledObject = object;
            $('#lblCurrentStatus').css('color', 'red').text("Withdrawn");
            $('#lblNewStatus').css('color', 'rgb(51, 122, 189)').text("Re-enrolled");
            $('#ddlreason').val('');

            $('#ClientNameAll').text($(object).attr("name"));
            $('#ChangeclientStatus').find('#dateOfWithdrawnDiv,#WithdrawnTypeDiv,#Divwaitinglist').hide();
            $('#ChangeclientStatus').find('#divSelectCenter,#divSelectClassroom,#divSelectDate').show();
            bindStatusCaseNoteDetails(_clientid);
            $('#ChangeclientStatus').modal('show');
        }
        if ($(object).attr("accesskey") == "8" || $(object).attr("accesskey") == "9" || $(object).attr('accesskey') == "10") {
            //BindReason(object, _clientid);
            //EnrolledObject = object;
            if ($(object).attr("accesskey") == "8") {
                $('#lblCurrentStatus').css('color', 'rgb(51, 122, 189)').text("Enrolled");

                $('#lblNewStatus').text("Withdrawn");

            }

            if ($(object).attr("accesskey") == "9") {
                $('#lblCurrentStatus').css('color', 'rgb(51, 122, 189)').text("Re-enrolled");
                $('#lblNewStatus').text("Withdrawn");
            }

            if ($(object).attr("accesskey") == "10") {
                $('#lblCurrentStatus').css('color', 'rgb(51, 122, 189)').text("Transitioned");
                $('#lblNewStatus').text("Withdrawn");
            }



            $('#ddlreason').val('');

            if ($(object).attr('refpr') == '2') {
                $('#ChangeclientStatus').find('#WithdrawnTypeDiv').hide();
            }
            else if ($(object).attr('refpr') == '1') {

                $('#ChangeclientStatus').find('#WithdrawnTypeDiv').show();
            }
            else {
                $('#ChangeclientStatus').find('#WithdrawnTypeDiv').hide();

            }


            $('#ChangeclientStatus').find('#Divwaitinglist,#divForWithdrawn,#dateOfWithdrawnDiv').show();
            $('#ChangeclientStatus').find('#divSelectCenter,#divSelectClassroom,#divSelectDate').hide();
            $('#ClientNameAll').text($(object).attr("name"));

            bindStatusCaseNoteDetails(_clientid);

            $('#ChangeclientStatus').modal({ backdrop: 'static', keyboard: false }, 'show');
        }




    }

    function isNumber(evt) {
        evt = (evt) ? evt : window.event;
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    }
    function bindStatusCaseNoteDetails(_clientid) {




        $('#caseNoteStatDiv').ApplinkCaseNote({
            isPopup: false,
            isSection: true,
            caseNoteType: 1,   //1- New 2- Edit / 3- Append //
            getCaseNoteUrl: HostedDir + "/Roster/GetCaseNoteSectionPartial",
            caseNoteId: 0,
            householdId: 0,
            clientId: _clientid,
            isEditable: true,
            isShowSubmitButton: false,
            isShowExportIcon: false,
            forceLoad: true,

            modalOnShown: function (element) {

            },
            ajaxComplete: function (element) {

                var $guid = element.find('#divCaseNoteSection').attr('data-current-id');

                //element.find('#divCaseNoteSection').css('background', '#ffffff');

                element.find('#divCaseNoteSection').css({ 'border': 'unset', 'padding': '0px' });

                element.find('#divCaseNoteStaffs_' + $guid + '').append('<input type="hidden" name="StaffIds"/>');
                element.find('#divCaseNoteClients_' + $guid + '').append('<input type="hidden" name="ClientIds"/>');


                element.find('#txtCaseNoteTitle_' + $guid + '').val('Enrollment Status Change');





                var list = '';

                list += "<div class='col-xs-12'>";
                list += "Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + '</div>';



                if (CKEDITOR.instances['txtareaCaseNote_' + $guid + '']) {
                    CKEDITOR.instances['txtareaCaseNote_' + $guid + ''].destroy(true);
                }


                CKEDITOR.replace('txtareaCaseNote_' + $guid + '', {
                    language: 'en-gb',
                    uiColor: '#295b8f',
                    disableNativeSpellChecker: false
                });

                CKEDITOR.instances['txtareaCaseNote_' + $guid + ''].setData(list);

                element.find('#txtareaCaseNote_' + $guid + '').val(list);

                $('#txtCaseNoteTags_' + $guid + '').importTags($('#lblNewStatus').html().toString() + ',,;');






                element.find('#txtCaseNoteDate_' + $guid + '').mask("99/99/9999", { placeholder: 'MM/DD/YYYY' });

                element.find('#txtCaseNoteDate_' + $guid + '').val(getFormattedDateNumber(new Date()));

                element.find('#txtCaseNoteDate_' + $guid + '').prop('disabled', false);

                element.find('.img-camera').attr('target-id', 'caseNoteStatDiv');

                element.css('border', 'unset!important');

                showCameraOption(element);

                element.find('#uploadImageCamera').hide();

                setIntervalUserMedia(element);
            }

        });




    }


    function bindStatusCaseNoteDetailsPregMom(birthOption) {

        var list = '';



        var prgtags = "";
        var reasonTags = "";

        var $guid = $('#ChangeclientStatus').find('#divCaseNoteSection').attr('data-current-id');

        if ($('#ddlreason').val() != null && $('#ddlreason').val() != '' && $('#ddlreason').val() != undefined) {
            reasonTags = ($('#ddlreason option:selected').text().indexOf(':') > 0) ? $('#ddlreason option:selected').text().split(':')[0] : "";
        }


        switch (birthOption) {
            case '0':
                list += "<div class='col-xs-12'>Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + " With No Birth</div>";
                prgtags = 'Withdrawn,,;' + reasonTags + ',,;' + 'No Birth,,;';
                break;
            case '1':
                list += "<div class='col-xs-12'>Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + " With Left Before Birth of Child</div>";
                prgtags = 'Withdrawn,,;' + reasonTags + ',,;' + ' Left Before Birth of Child,,;'
                break;
            case '2':
                list += "<div class='col-xs-12'>Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + " With Single Child Birth</div>";
                prgtags = 'Withdrawn,,;' + reasonTags + ',,;' + 'Single Child Birth,,;'
                break;
            case '3':
                list += "<div class='col-xs-12'>Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + " With Multi Child Birth</div>";
                prgtags = 'Withdrawn,,;' + reasonTags + ',,;' + 'Multi Child Birth,,;'
                break;
            default:
                list += "<div class='col-xs-12'>Change Status from " + $('#lblCurrentStatus').text() + ' ' + "to " + $('#lblNewStatus').text() + '</div>';
        }



        $('#ChangeclientStatus').find('#txtareaCaseNote_'+$guid+'').val(list);

        if (CKEDITOR.instances['txtareaCaseNote_'+$guid+'']) {
            CKEDITOR.instances['txtareaCaseNote_'+$guid+''].destroy(true);
        }


        CKEDITOR.replace('txtareaCaseNote_'+$guid+'', {
            language: 'en-gb',
            uiColor: '#295b8f',
            disableNativeSpellChecker: false
        });


       


        $('#txtCaseNoteTags_'+$guid+'').importTags(prgtags);

    }


    $.fn.destroyTagsInput = function () {
       // $(this).tagsInput = null;
        $(this).next('.tagsinput').find('.tag').remove();
    }

    function Showreason(object) {

        cleanValidation();
        var isPregnant = $('#ChangeclientStatus').find('#isclientPreg').val() == 'true' ? true : false;
        var tp = '';
        var wttag = '';
        var reasonTag = "";
        var $guid = $('#ChangeclientStatus').find('#divCaseNoteSection').attr('data-current-id');
        var caseNoteTags = $('#txtCaseNoteTags_' + $guid + '');
       
        if (isPregnant && $('#childBirthTypeDiv').is(':visible')) {
            if ($('input[name=BirthType]:checked').length > 0) {
                var birOp = $('input[name=BirthType]:checked').val();

                switch (birOp) {
                    case '0':
                        tp = 'No Birth,,;'
                        break;
                    case '1':
                        tp = 'Left Before Birth of Child,,;'
                        break;
                    case '2':
                        tp = 'Single Child Birth,,;'
                        break;
                    case '3':
                        tp = 'Multi Child Birth,,;'
                        break;
                }


                if ($('#ChangeclientStatus').find('#WithdrawnTypeDiv').is(':visible') && $('#withdrawalTypeSelect').val() != '0') {
                    var withdraVal = $('#withdrawalTypeSelect').val();

                    switch (withdraVal) {
                        case '2':
                            tp += 'ANOTHER HS,,;';
                            break;
                        case '3':
                            tp += 'OTHER,,;';
                            break;
                        case '4':
                            tp += 'NOT CHILDHOOD,,;';
                            break;
                        case '8':
                            tp += 'ANOTHER EHS,,;'
                            break;

                    }
                }

            }
            else {
                tp = '';
            }
        }




        if ($('#ChangeclientStatus').find('#WithdrawnTypeDiv').is(':visible') && $('#withdrawalTypeSelect').val() != '0') {
            var withdraVal = $('#withdrawalTypeSelect').val();

            switch (withdraVal) {
                case '2':
                    wttag = 'ANOTHER HS,,;';
                    break;
                case '3':
                    wttag = 'OTHER,,;';
                    break;
                case '4':
                    wttag = 'NOT CHILDHOOD,,;';
                    break;
                case '8':
                    wttag = 'ANOTHER EHS,,;'
                    break;

            }
        }


        if ($(object).val() == "0") {
            $('#Divreason').show();


   
            if (prevTag != '') {

            
                if (caseNoteTags.val() != '') {
                    caseNoteTags.val(caseNoteTags.val().replace(prevTag, ""));
                    reasonTag = caseNoteTags.val().trim() + wttag;
                }
                else if (isPregnant && $('#childBirthTypeDiv').is(':visible')) {



                    if (tp != '') {
                        caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + tp + wttag);

                    }
                    else {
                        caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + wttag);

                    }

                }
                else {
                    caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + wttag);

                }
                reasonTag = caseNoteTags.val();
            }
            else {

                reasonTag = caseNoteTags.val() + ',,;' + reasonTag + ',,;' + wttag;
            }

            prevTag = '';
            caseNoteTags.destroyTagsInput();
            caseNoteTags.importTags(reasonTag);

        }

        else {

            reasonTag = $('#ddlreason option:selected').text();

            if (reasonTag.indexOf(':') > 0) {
                reasonTag = reasonTag.split(':')[0].trim();

                if (prevTag != '') {
                    if (caseNoteTags.val() != '') {
                        caseNoteTags.val(caseNoteTags.val().replace(prevTag, reasonTag));
                        reasonTag = caseNoteTags.val() + wttag;
                    }
                    else if (isPregnant && $('#childBirthTypeDiv').is(':visible')) {

                        if (tp != '') {
                            caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + tp + wttag);

                        }
                        else {
                            caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + wttag);

                        }
                    }
                    else {
                        caseNoteTags.val($('#lblNewStatus').html().toString() + ',,;' + reasonTag + ',,;' + wttag);
                    }


                    reasonTag = caseNoteTags.val();
                    caseNoteTags.destroyTagsInput();
                    caseNoteTags.importTags(reasonTag);

                }
                else {

                    //  reasonTag = caseNoteTags.val() + ',,;' + reasonTag + ',,;' + wttag;
                    caseNoteTags.addTag(reasonTag);
                }
                prevTag = $('#ddlreason option:selected').text().split(':')[0].trim();



               
            }

            

            $('#Divreason').hide();

        }

    }
    function uncheckdata() {
        var cModel = $('#ChangeclientStatus');
        if (cModel.find('#NONEStatus').prop("checked")) {
            cModel.find('#TANFStatus').prop("checked", false);
            cModel.find('#SSIStatus').prop("checked", false);
            cModel.find('#WICStatus').prop("checked", false);
            cModel.find('#SNAPStatus').prop("checked", false);
        }
    }


    function uncheckdataNone() {

        var cModel = $('#ChangeclientStatus');
        if ((cModel.find('#TANFStatus').prop("checked")) || (cModel.find('#SSIStatus').prop("checked")) || (cModel.find('#WICStatus').prop("checked")) || (cModel.find('#SNAPStatus').prop("checked"))) {
            cModel.find('#NONEStatus').prop("checked", false);
        }
    }


    function validatedateChild(inputTextObject) {

        if ($(inputTextObject).val().trim() != "MM/DD/YYYY" && $(inputTextObject).val().trim() != "") {

            var dateformat = /^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/;
            var regex = new RegExp(dateformat);
            if (regex.test($(inputTextObject).val())) {

                return true;
            }
            else {


                return false;
            }

        }

    }

    function isValidStatusChange() {

        var isValid = true;
        cleanValidation();


        $('#allowFutureRadioDiv').css('background-color', '');

        $('.enroll-sec').each(function () {

            $(this).css("background-color", "");
        });

        var acckyIndex = ['5', '6', '7', '8', '9']

        $('#rblwaitinglist').removeAttr('style');
        var $changeModal = $('#ChangeclientStatus');
        var ackey = $changeModal.find('#accesskey').val();
        var newStat = $changeModal.find('#lblNewStatus').html();
        var dateWithdrawn = $changeModal.find('#txtdatewithdrawn');
        var withdrawnType = $changeModal.find('#withdrawalTypeSelect');
        var reenrollCenter = $changeModal.find('#divSelectCenter').find('#centerList');
        var reenrollClassroom = $changeModal.find('#divSelectClassroom').find('#classroomSelect');
        var clasStartDate = $changeModal.find('#divSelectDate').find('#statusClassStart');
        var ispregCheck = $changeModal.find('#isclientPreg').val() == 'true' ? true : false;

        $changeModal.find('.err-message').hide();
        $changeModal.find('#childBirthTypeDiv').find('.transition-radio-btn').removeClass('err-bg');
        $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').removeClass('err-bg');

        if ((ackey == '8' || ackey == '9' || ackey == '10') && newStat == 'Withdrawn' && $('#dateOfWithdrawnDiv').is(':visible')) {
            if (dateWithdrawn.val() == null || dateWithdrawn.val() == '') {
                isValid = false;
                plainValidation(dateWithdrawn);
                customAlert('Please Enter Date of Withdrawn');
                return isValid;
            }

            if ($changeModal.find('#WithdrawnTypeDiv').is(':visible') && (withdrawnType.val() == '0' || withdrawnType.val() == "")) {
                isValid = false;
                plainValidation(withdrawnType);
                customAlert('Please select Withdrawn Type');
                return isValid;
            }

        }




        else if ((ackey == '6' || ackey == '7') && newStat == 'Re-enrolled' && $('#divSelectCenter').is(':visible')) {
            if (reenrollCenter.val() == null || reenrollCenter.val() == '0' || reenrollCenter.val() == '') {
                isValid = false;
                plainValidation(reenrollCenter);
                customAlert('Please select Center');
                return isValid;
            }

            else if (reenrollClassroom.val() == null || reenrollClassroom.val() == '0' || reenrollClassroom.val() == '') {
                isValid = false;
                plainValidation(reenrollClassroom);
                customAlert('Please select Classroom');
                return isValid;
            }

            else if (clasStartDate.val() == null || clasStartDate.val() == '') {
                isValid = false;
                plainValidation(clasStartDate);
                customAlert('Please enter class start date');
                return isValid;
            }

        }

        if ($('#ddlreason').val() == "" || $('#ddlreason').val() == null) {
            isValid = false;
            customAlert("Reason is required.");
            plainValidation('#ddlreason');
            return isValid;
        }
        else if ($('#ddlreason').val() == 0 && $('#txtreason').val() == "") {
            isValid = false;
            customAlert("Other reason is required.");
            plainValidation('#txtreason');
            return isValid;
        }

        if ((ackey == '5' || ackey == '8' || ackey == '9' || ackey == '10') && $('#Divwaitinglist').is(':visible') && $("input:radio[name='waitinglist']:checked").val() == undefined) {
            isValid = false;
            customAlert("Please select Yes or No for Place on Waiting List");
            $("input:radio[name='waitinglist']")[0].focus();
            plainValidation('#rblwaitinglist');
            return isValid;
        }

        if (ispregCheck && $changeModal.find('#childBirthTypeDiv').is(':visible')) {



            if ($changeModal.find('input[name=BirthType]:checked').length == 0) {
                isValid = false;
                customAlert("Please select type of birth");

                $changeModal.find('input[name=BirthType]')[0].focus();
                $changeModal.find('#childBirthTypeDiv').find('.transition-radio-btn').addClass('err-bg');

                return isValid;
            }

            if ($changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').is(':visible') && $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').find('input[name=newChildInstype]:checked').length == 0) {
                isValid = false;
                customAlert("Please select insurance type for new born child");

                $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').find('input[name=newChildInstype]')[0].focus();

                $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').addClass('err-bg');
                return isValid;
            }

            if ($changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').is(':visible') && $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').find('input[name=newChildInstype]:checked').val() == '3' &&
                $changeModal.find('#newChildInfoDiv').find('#newChildInsuranceDiv').find('#OtherInsuranceType').val() == '') {
                isValid = false;
                customAlert('Please enter other insurance type');
                plainValidation('#OtherInsuranceType');
                return isValid;
            }

            if ($changeModal.find('input[name=BirthType]:checked').length > 0) {
                var birthChecked = $changeModal.find('input[name=BirthType]:checked').val();

                if (birthChecked == '3' && ($('#MultiChildBirth').val() == "" || $('#MultiChildBirth').val() == null)) {
                    isValid = false;

                    plainValidation('#MultiChildBirth');
                    customAlert('Please select number of child(s)');
                    return isValid;
                }

                if (birthChecked == '3' && $('#MultiChildBirth').val() != '' && !$('#newChildInfoDiv').is(':visible')) {
                    isValid = false;

                    customAlert('Please click on Load Forms button, to get the child information form(s)');
                    return isValid;
                }



                if (birthChecked == '2' || birthChecked == '3') {

                    var childDivLength = parseInt($('#MultiChildBirth').val());
                    var innerChild = $('#newChildInfoDiv').find('.addInnerChildContent');
                    var errorCount = 0;
                    if (birthChecked == '3') {
                        if (childDivLength != innerChild.length) {
                            isValid = false;
                            customAlert('Number entered and child information forms are not matched. Please,click Load Forms button again');
                            return isValid;
                        }
                    }

                    innerChild.each(function (c, child) {


                        if ($(child).find('.childFirstName').val() == '') {
                            plainValidation($(child).find('.childFirstName'));
                            $(child).find('.childFirstName').parent('div').find('.err-message').show();
                            errorCount++;
                        }

                        if ($(child).find('.childLastName').val() == '') {
                            plainValidation($(child).find('.childLastName'));
                            $(child).find('.childLastName').parent('div').find('.err-message').show();
                            errorCount++;
                        }

                        if ($(child).find('.dob').val() == '') {
                            plainValidation($(child).find('.dob'));
                            $(child).find('.dob').parent('div').find('.err-message').text("Date of birth is required.");
                            $(child).find('.dob').parent('div').find('.err-message').show();

                            errorCount++;
                        }



                        else if ($(child).find('.dob').val() != '' && !validatedateChild($(child).find('.dob'))) {
                            $(child).find('.dob').parent('div').find('.err-message').text("Invalid date of birth");
                            $(child).find('.dob').parent('div').find('.err-message').show();
                            errorCount++;
                        }
                        else if ($(child).find('.dob').val() != '') {

                            var From_date = new Date($(child).find('.dob').val());
                            var To_date = new Date();

                            var startDay = new Date(From_date);
                            var endDay = new Date(To_date);
                            var millisecondsPerDay = 1000 * 60 * 60 * 24;

                            var millisBetween = endDay.getTime() - startDay.getTime();
                            var days = millisBetween / millisecondsPerDay;

                            // Round down.
                            var totalDays = Math.floor(days);
                            if (parseInt(totalDays) >= 60) {
                                $(child).find('.dob').parent('div').find('.err-message').text("A child date of birth must be less than 60 days.");
                                $(child).find('.dob').parent('div').find('.err-message').show();
                                errorCount++;
                            }
                        }



                        if ($(child).find('input[name=yn]:checked').length == 0) {

                            $(child).find('input[name=yn]')[0].focus();
                            $(child).find('input[name=yn]').parent('div').parent('.transition-radio-btn').find('.err-message').show();
                            errorCount++;
                        }











                        if ($(child).find('input[name=yn1]:checked').length == 0) {

                            $(child).find('input[name=yn1]')[0].focus();
                            $(child).find('input[name=yn1]').parent('div').parent('.transition-radio-btn').find('.err-message').show();
                            errorCount++;
                        }

                    });

                    if (errorCount > 0) {
                        isValid = false;
                        customAlert('Please enter required fields');
                        return isValid;
                    }

                }


            }
        }




        //Case Note Section//

        var caseNoteResult = false;


        caseNoteResult = $changeModal.find('#caseNoteStatDiv').ApplinkCaseNote('caseNoteValidation');

        if (!caseNoteResult)
        {
            return false;
        }

        //if ($changeModal.find('#txtStatusCaseNoteDate').val() == '') {
        //    isValid = false;
        //    plainValidation('#txtStatusCaseNoteDate');
        //    customAlert('Please enter Case Note Date');
        //    return isValid;
        //}

        //if ($changeModal.find('#txtStatusCaseNoteTitle').val() == '') {
        //    isValid = false;
        //    plainValidation('#txtStatusCaseNoteTitle');
        //    customAlert('Please enter Case Note Title');
        //    return isValid;
        //}

        //if ($changeModal.find('#statusNote').val().trim() == '') {
        //    isValid = false;
        //    customAlert("Please enter Note");
        //    plainValidation('#statusNote');
        //    return isValid;
        //}
        //if ($changeModal.find('#statusclientsDiv').find('input[type=checkbox]:checked').length == 0) {
        //    isValid = false;
        //    customAlert('Please select Clients');
        //    return isValid;
        //}


        //var Tags = '';
        //$('#status_CaseNotetags_tagsinput .tag span').each(function () {
        //    Tags = Tags + $(this).text().trim() + ',';
        //});

        //$("#status_CaseNotetags").val(Tags);
        //Tags = '';

        //if ($('#status_CaseNotetags').val().trim() == "") {
        //    isValid = false;
        //    customAlert("Tags are  required.");
        //    plainValidation('#status_CaseNotetags');
        //    return isValid;
        //}
        //if ($changeModal.find('#statusStaffDiv').find('input[type=checkbox]:checked').length == 0) {
        //    isValid = false;
        //    customAlert('Please select Development Staff(s)');
        //    return isValid;
        //}




        if (isValid) {


            BootstrapDialog.confirm("Client enrollment status will be changed. Click OK to Proceed.", function (result) {
                if (result) {
                    if (EnrolledObject != null) {
                        var Transition = {};
                        var fileData = new FormData();
                        var clientArray = [];
                        var staffArray = [];
                        var cameraDocumentsArray = [];
                        var casenotes = {};
                        var $caseNoteSection = $changeModal.find('#divCaseNoteSection');
                        var $guid = $caseNoteSection.attr('data-current-id');


                        var ispregClient = $changeModal.find('#isclientPreg').val() == 'true' ? true : false;
                        var isbirthDivVis = $changeModal.find('#childBirthTypeDiv').is(':visible');
                        var newstatus = $changeModal.find('#lblNewStatus').html().toLowerCase().toString() == 'withdrawn';


                        Transition.NewProgramYearTransition = false;
                        Transition.TrnsInsuranceType = $changeModal.find('#InsuranceTypeID').find('#btnAcceptInsurance').next('.fa-check').is(':visible') ? $('.InsuranceType:checked').val() : 0;
                        Transition.DateOfWithdrawn = ($changeModal.find('#dateOfWithdrawnDiv').is(':visible')) ? dateWithdrawn.val() : "";
                        Transition.OtherInsuranceTypeDesc = $changeModal.find('#PregOtherInsuranceType').val();



                        Transition.EClientID = $(EnrolledObject).attr("clientid");
                        Transition.DateOfTransition = $changeModal.find('#transitionDate').val();
                        Transition.HouseholdId = $(EnrolledObject).attr('householdid');
                        Transition.Status = $(EnrolledObject).attr('accesskey');
                        Transition.StatusText = $changeModal.find('#lblNewStatus').text();
                        Transition.Enc_ProgID = $(EnrolledObject).attr('progid');
                        Transition.Reason = $changeModal.find('#txtreason').val();
                        Transition.ddlreason = $changeModal.find('#ddlreason').val();
                        Transition.ddlreasontext = $changeModal.find('#ddlreason').find('option:selected').text();
                        Transition.IsWaiting = ($changeModal.find('#Divwaitinglist').is(':visible')) ? $changeModal.find('input:radio[name="waitinglist"]:checked').val() : '0';
                        Transition.DentalServices = $changeModal.find('#DentalServicesID').find('#btnAcceptOral').next('.fa-check').is(':visible') ? $changeModal.find('.DentalServices:checked').val() : null;
                        Transition.IsPreg = ispregClient;
                        Transition.ClientId = 0;
                        Transition.TransitioningType = 0;

                        $caseNoteSection.find('#divCaseNoteClients_' + $guid + '').find('input:checkbox:checked').each(function () {
                            clientArray.push($(this).val());
                        });

                        $caseNoteSection.find('#divCaseNoteStaffs_' + $guid + '').find('input:checkbox:checked').each(function () {
                            staffArray.push($(this).val());
                        });

                        $caseNoteSection.find('#caseNoteAttachmentsDiv_' + $guid + '').find('input:file').each(function (a, b) {
                            var fileInput = $(this);
                            if (fileInput.val() != undefined && fileInput.val() != null && fileInput.val() != '') {
                                var fileUpload = fileInput.get(0);
                                var files = fileUpload.files;
                                for (var i = 0; i < files.length; i++) {
                                    var convImage = fileInput.attr('conv-img');
                                    if (convImage != null && convImage != "")
                                        cameraDocumentsArray.push({ AttachmentFileName: files[i].name, AttachmentFileExtension: '.' + files[i].name.split('.')[files[i].name.split('.').length - 1], AttachmentJson: convImage });
                                }
                            }
                        });

                        var $cameraDocuments = $caseNoteSection.find(".div-edit-gallery_" + $guid + "").find('.setup_viewscreen');

                        if ($cameraDocuments.length > 0) {

                            $.each($cameraDocuments, function (j, doc) {

                                var $doc = $(doc).find('img');
                                cameraDocumentsArray.push({ AttachmentFileName: 'CaseNoteDocument', AttachmentFileExtension: '.png', AttachmentJson: getBase64Image($doc) });

                            });
                        }


                     

                        casenotes.CaseNoteDate = $caseNoteSection.find('#txtCaseNoteDate_'+$guid+'').val().trim();
                        casenotes.CaseNoteTitle = $caseNoteSection.find('#txtCaseNoteTitle_' + $guid + '').val().trim();
                        casenotes.Note = $caseNoteSection.find('#txtareaCaseNote_'+$guid+'').val().trim();
                        casenotes.CaseNotetags = $changeModal.find('#txtCaseNoteTags_'+$guid+'').val().trim(',');
                        casenotes.ClientIds = clientArray.join(',');
                        casenotes.StaffIds = staffArray.join(',');
                        casenotes.CaseNoteSecurity = $changeModal.find('#checkboxSecureNote_' + $guid + '').is(':checked');
                        casenotes.CaseNoteAttachmentList = cameraDocumentsArray;
                        casenotes.CaseNoteId = '0';


                        Transition.CaseNoteDetails = casenotes;
                        //Transition.Users = Users;

                        Transition.Enc_CenterID = ($changeModal.find('#divSelectCenter').is(':visible')) ? reenrollCenter.val() : null;
                        Transition.Enc_ClassroomID = ($changeModal.find('#divSelectClassroom').is(':visible')) ? reenrollClassroom.val() : null;
                        Transition.ClassStartDate = ($changeModal.find('#divSelectDate').is(':visible')) ? clasStartDate.val() : null;
                      


                        Transition.ParentID = $changeModal.find('#fatherEducationDiv').is(':visible') ? $changeModal.find('#fatherEducationDiv').find('#ParentID').val() : "";
                        Transition.ParentID2 = $changeModal.find('#motherEducationDiv').is(':visible') ? $changeModal.find("#motherEducationDiv").find('#ParentID2').val() : "";



                        //Transition//
                        Transition.MedicalHome = null;
                        Transition.MedicalServices = null;
                        Transition.DentalHome = null;
                        Transition.ImmunizationService = null;
                        var familyservice = false;
                        Transition.TANF = (familyservice) ? $changeModal.find('#TANFStatus').is(':checked') : null;
                        Transition.SSI = (familyservice) ? $changeModal.find('#SSIStatus').is(':checked') : null;
                        Transition.WIC = (familyservice) ? $changeModal.find('#WICStatus').is(':checked') : null;
                        Transition.SNAP = (familyservice) ? $changeModal.find('#SNAPStatus').is(':checked') : null;
                        Transition.NONE = (familyservice) ? $changeModal.find('#NONEStatus').is(':checked') : null;

                        Transition.SchoolAchievement = null;
                        Transition.JobTrainingFinished = null;
                        Transition.AcceptJobTrainingFinished = false;

                        Transition.SchoolAchievement2 = null;
                        Transition.JobTrainingFinished2 = null;
                        Transition.AcceptJobTrainingFinished2 = false;
                        Transition.EHSHSEnrolled = 0;
                        Transition.Returning = 0;
                        Transition.PregMomTransitionReady = 0;
                        Transition.FamilyType = 0;
                        Transition.IsEHS = false;
                        Transition.IsHS = false;
                        Transition.QuestionNumber = 0;
                        Transition.TypeOfTransition = 0;

                        Transition.BirthType = $changeModal.find('input[name=BirthType]:checked').val();

                        Transition.TransitioningType = ($changeModal.find('#WithdrawnTypeDiv').is(':visible')) ? parseInt($changeModal.find('#withdrawalTypeSelect').val()) : 0;


                        if (ispregClient && isbirthDivVis && newstatus) {

                            Transition.BirthType = $changeModal.find('input[name=BirthType]:checked').val();

                            Transition.DateOfTransition = ($changeModal.find('#dateOfWithdrawnDiv').is(':visible')) ? dateWithdrawn.val() : null;
                            Transition.ChildInsuranceType = $changeModal.find('input[name=newChildInstype]:checked').val();
                            Transition.ChildOtherInsuranceTypeDesc = ($changeModal.find('input[name=newChildInstype]:checked').val() == '3') ? $changeModal.find('#OtherInsuranceType').val() : '';
                            Transition.IsFutureApplication = false;


                            var child = [];
                            $changeModal.find('#additionalChildDiv').find('.addInnerChildContent').each(function () {
                                var Child = {};
                                Child.FirstName = $(this).find('.childFirstName').val();
                                Child.LastName = $(this).find('.childLastName').val();
                                Child.Name = $(this).find('.childFirstName').val() + ' ' + $(this).find('.childLastName').val();
                                Child.DOB = $(this).find('.dob').val(); Child.Gender = $(this).find('input[name="yn"]:checked').val();
                                Child.IsEHS = $(this).find('input[name="yn1"]:checked').val() == "true" ? true : false;
                                child.push(Child);
                            });

                            var TransitionDetails = { Transition: Transition, PregMomChilds: child };
                            TransitionDetails = JSON.stringify({ 'TransitionDetails': TransitionDetails });

                            fileData.append('Transition', JSON.stringify(Transition));
                            fileData.append('PregMomChilds', JSON.stringify(child));

                            $.ajax({
                                url: HostedDir + "/AgencyUser/UpdatePregMomEnrollmentStatus",
                                type: "POST",
                                async: true,
                                //contentType: false,
                                //processData: false,
                                //data: fileData,
                                contentType: 'application/json',
                                data: JSON.stringify({ 'Transition': Transition, 'pregChilds': child }),
                                success: function (data) {
                                    var names = "";

                                    for (var i = 0; i < data.length; i++) {

                                        if (data[i].Result == 4) {
                                            names += " , " + data[i].ChildName;
                                        }
                                    }
                                    if (names != "") {
                                        names = names.slice(2);
                                        $("#lblSeatsAvailability").text("No slot or classroom available for " + names + ". They will be moved to waiting list.");
                                        $('#SeatsAvailability').modal('show');
                                    }
                                    else {
                                        $("#lblSeatsAvailability").text("Record Updated Successfully.");
                                        $('#SeatsAvailability').modal('show');
                                    }

                                },
                                error: function () {

                                }
                            });
                        }
                        else {

                            Transition.MedicalHome = $changeModal.find('#MedicalHomeID').find('#btnacceptmedical').next('.fa-check').is(':visible') ? $changeModal.find('.MedicalHome:checked').val() : null;
                            Transition.MedicalServices = $changeModal.find('#MedicalServicesID').find('#btnacceptSchedule').next('.fa-check').is(':visible') ? $changeModal.find('.MedicalServices:checked').val() : null;
                            Transition.DentalHome = $changeModal.find('#DentalHomeID').find('#btnAcceptDental').next('.fa-check').is(':visible') ? $changeModal.find('.DentalHome:checked').val() : null;
                            Transition.ImmunizationService = $changeModal.find('#immunizationTypeDiv').children('div :last-child').find('#btnAcceptImmune').next('.fa-check').is(':visible') ? $changeModal.find('input[name=ddImmunizationType]:checked').val() : null;
                            var familyservice = $changeModal.find('#statusServicesDiv').find('#btnAcceptServices').next('.fa-check').is(':visible');
                            Transition.TANF = (familyservice) ? $changeModal.find('#TANFStatus').is(':checked') : null;
                            Transition.SSI = (familyservice) ? $changeModal.find('#SSIStatus').is(':checked') : null;
                            Transition.WIC = (familyservice) ? $changeModal.find('#WICStatus').is(':checked') : null;
                            Transition.SNAP = (familyservice) ? $changeModal.find('#SNAPStatus').is(':checked') : null;
                            Transition.NONE = (familyservice) ? $changeModal.find('#NONEStatus').is(':checked') : null;


                            if ($changeModal.find("#EducationID").find('#fatherEducationDiv').is(':visible')) {
                                Transition.SchoolAchievement = $changeModal.find("#EducationID").find('#fatherEducationDiv').find('#btnAcceptdegree').next('.fa-check').is(':visible') ? $changeModal.find("#EducationID").find('#fatherEducationDiv').find('input[name=EduType]:checked').val() : null;
                                Transition.JobTrainingFinished = $changeModal.find('#parentJobDiv').is(':visible') && $changeModal.find('#parentJobDiv').find('#fatherJobTrainingDiv').is(':visible') && $changeModal.find('input[name=JobTrainingFinished]').is(':checked') ? $changeModal.find('input[name=JobTrainingFinished]:checked').val() : null;
                                Transition.AcceptJobTrainingFinished = $changeModal.find('#JobTrainingFinishedID').find('#btnAcceptJobTraining').next('.fa-check').is(':visible') ? true : false;
                            }

                            if ($changeModal.find("#EducationID").find('#motherEducationDiv').is(':visible')) {
                                Transition.SchoolAchievement2 = $changeModal.find("#EducationID").find('#motherEducationDiv').find('#btnAcceptdegree2').next('.fa-check').is(':visible') ? $changeModal.find("#EducationID").find('#motherEducationDiv').find('input[name=EduType2]:checked').val() : null;
                                Transition.JobTrainingFinished2 = $changeModal.find('#parentJobDiv').is(':visible') && $changeModal.find('#parentJobDiv').find('#motherJobTrainingDiv').is(':visible') && $changeModal.find('input[name=JobTrainingFinished2]').is(':checked') ? $changeModal.find('input[name=JobTrainingFinished2]:checked').val() : null;
                                Transition.AcceptJobTrainingFinished2 = $changeModal.find('#JobTrainingFinishedID').find('#btnAcceptJobTraining2').next('.fa-check').is(':visible') ? true : false;
                            }





                           // fileData.append('Transition', JSON.stringify(Transition));

                            $.ajax({
                                url: HostedDir + "/AgencyUser/DropClient",
                                type: "POST",
                                dataType: 'JSON',
                                contentType:'application/json',
                                //async: true,
                                //contentType: false,
                                //processData: false,
                                beforeSend:function(){
                                    $('#spinner').show();
                                },
                                data: JSON.stringify({'transition':Transition}),

                                success: function (result) {
                                    if (result == 0) {
                                        customAlert("Error occurred please try again.");
                                    }
                                    if (result == 1) {
                                        customAlert("Client status changed successfully.");
                                        setTimeout(function () {
                                            window.location.href = HostedDir + "/Roster/Roster";
                                        }, 300);
                                    }
                                    if (result == 2) {
                                        customAlert("Client status already changed.");
                                        setTimeout(function () {
                                            window.location.href = HostedDir + "/AgencyUser/FamilySummary/" + $(EnrolledObject).attr("householdid") + "";
                                        }, 300);
                                    }
                                },
                                error: function () {
                                    $("#pleaseWaitDialog").modal('show');
                                }
                            });

                        }


                    }
                }


                else {
                    return true;
                }
            });
        }

    }

    function BindReason(object, clID) {

        $.ajax({
            url: HostedDir + "/Agencyuser/GetEnrollReason",
            type: "POST",
            data: {
                Status: $(object).attr("accesskey"),
                clientId: clID
            },
            dataType: "json",
            secureuri: false,
            async: false,
            success: function (response) {

                var $modal = $('#ChangeclientStatus');

                $modal.find('#accesskey').val($(object).attr("accesskey"));


                $modal.find('.status-hr-line').hide();
                $modal.find('#fatherEducationDiv,#motherEducationDiv,#fatherJobTrainingDiv,#motherJobTrainingDiv').hide();

                if (response != null && response.EnrollmentChangeReason != null && response.EnrollmentChangeReason.length > 0) {
                    var option = "";
                    for (var i = 0; i < response.EnrollmentChangeReason.length; i++) {
                        option = option + '<option value="' + response.EnrollmentChangeReason[i].ReasonID + '">' + response.EnrollmentChangeReason[i].ReasonText + '</option>';
                    }
                    $('#ddlreason').find('option').remove().end().append(option);
                    $('#ddlreason').val('');
                }
                else {
                    $('#ddlreason').find('option').remove();
                }

                if (response != null) {
                    //Insurance Type//


                    $modal.find('#ClientNameAll').html(response.Name);

                    var insur = $modal.find('#InsuranceTypeID')



                    $("#txtdatewithdrawn").datetimepicker("destroy");


                    if (response.FamilyType == 2) {
                        $modal.find('.status-hr-line:first').show();

                        if (response.JobTrainingSchool == true && response.JobTrainingSchool2 == true) {
                            $modal.find('.status-hr-line:last').show()
                        }
                    }
                    else {
                        $modal.find('.status-hr-line').hide();
                    }



                    if (response.IsPreg) {

                        $('#txtdatewithdrawn').datetimepicker({
                            timepicker: false,
                            format: 'm/d/Y',
                            validateOnBlur: false,
                            maxDate: new Date()
                        });


                        $modal.find('#isclientPreg').val(true);

                        $modal.find('#accessHealth,#uptodateMedical,#contdentalchild,#immunizationDiv,#familyServiceDiv,#parentEducationDiv,#parentJobDiv').hide();
                        $modal.find('#childBirthTypeDiv').show();

                        $modal.find('#DentaldivPrgChild').find('label:first-child').html('<strong class="pir-Q-lbl">Q2.</strong>&nbsp;Has pregnant mother had a professional dental exam since last year\'s PIR?');



                        insur.find('input[name=InsType]').prop('checked', false);

                        insur.find('input[name=InsType][value=' + response.InsuranceType + ']').prop('checked', true);

                        if (insur.find('input[name=InsType][value=' + response.TrnsInsuranceType + ']:checked').val() == '3') {
                            insur.find('#PregOtherInsuranceType').val(response.OtherInsuranceTypeDesc);
                            insur.find('#PregOtherInsuranceType').parent('div').show();
                        }
                        else {
                            insur.find('#PregOtherInsuranceType').val('');
                            insur.find('#PregOtherInsuranceType').parent('div').hide();
                        }

                        var newChildInfo = $('#ChangeclientStatus').find('#newChildInfoDiv');

                    }
                    else {


                        $('#txtdatewithdrawn').datetimepicker({
                            timepicker: false,
                            format: 'm/d/Y',
                            validateOnBlur: false

                        });


                        $modal.find('#isclientPreg').val(false);
                        $modal.find('#childBirthTypeDiv').hide();

                        $modal.find('#accessHealth,#uptodateMedical,#contdentalchild,#immunizationDiv,#familyServiceDiv,#parentEducationDiv,#parentJobDiv').show();

                        $modal.find('#DentaldivPrgChild').find('p').html('<strong class="pir-Q-lbl">Q5.</strong>&nbsp;Up-to-date on a schedule of age-appropriate preventive and primary oral health care according to the relevant state’s EPSDT schedule?');

                        insur.find('input[name=InsType]').prop('checked', false);

                        insur.find('input[name=InsType][value=' + response.InsuranceType + ']').prop('checked', true);


                        if (insur.find('input[name=InsType][value=' + response.InsuranceType + ']:checked').val() == '3') {
                            insur.find('#PregOtherInsuranceType').val(response.ChildOtherInsuranceTypeDesc);
                            insur.find('#PregOtherInsuranceType').parent('div').show();
                        }
                        else {
                            insur.find('#PregOtherInsuranceType').val('');
                            insur.find('#PregOtherInsuranceType').parent('div').hide();
                        }
                    }






                    if (!response.IsPreg) {
                        //family Services//
                        var familyService = $modal.find('#statusServicesDiv');

                        if (response.NONE) {

                            familyService.find('input[name=NONE]').prop('checked', true);
                        }
                        else {
                            if (response.TANF)
                                familyService.find('input[name=TANF]').prop('checked', true);

                            if (response.SSI)
                                familyService.find('input[name=SSI]').prop('checked', true);

                            if (response.SNAP)
                                familyService.find('input[name=SNAP]').prop('checked', true);

                            if (response.WIC)
                                familyService.find('input[name=WIC]').prop('checked', true);
                        }

                        var parentedu = $modal.find('#EducationID');



                        var parentTrain = $modal.find('#JobTrainingFinishedID');


                        if (response.IsShowJobTrainingQuestion) {
                            $modal.find('#parentJobDiv').show();
                        }
                        else {

                            $modal.find('#parentJobDiv').hide();
                        }

                        //For Father Education and Job Training//
                        if (response.ParentName != null && response.ParentName != undefined && response.ParentName != "" && response.ParentID != undefined && response.ParentID != null && response.ParentID != "") {

                            //Father Education//
                            if (response.AdvancedDegree) {
                                parentedu.find('input[name=EduType][value=1]').prop('checked', true);
                            }
                            else if (response.AssociateDegree) {
                                parentedu.find('input[name=EduType][value=2]').prop('checked', true);
                            }
                            else if (response.HighSchoolGraduate) {
                                parentedu.find('input[name=EduType][value=3]').prop('checked', true);
                            }
                            else {
                                parentedu.find('input[name=EduType][value=4]').prop('checked', true);
                            }

                            $modal.find('#fatherEducationDiv').find('#fatherNameLbl').html(response.ParentName);
                            $modal.find('#fatherEducationDiv').show();
                            $modal.find('#fatherEducationDiv').find('#ParentID').val(response.ParentID);

                            if (response.IsShowJobTrainingQuestion && response.JobTrainingSchool != null && response.JobTrainingSchool == true) {

                                $modal.find('#JobTrainingFinishedID').find('#fatherJobNameLbl').html(response.ParentName);
                                $modal.find('#JobTrainingFinishedID').find('#fatherJobTrainingDiv').show();
                                parentTrain.find('input[name=JobTrainingFinished][value=' + response.JobTrainingFinished + ']').prop('checked', true);

                            }
                            else {
                                parentTrain.find('input[name=JobTrainingFinished]').prop('checked', false);
                                $modal.find('#JobTrainingFinishedID').find('#fatherJobTrainingDiv').hide();
                            }
                        }



                        if (response.ParentName2 != null && response.ParentName2 != undefined && response.ParentName2 != "" && response.ParentID2 != undefined && response.ParentID2 != null && response.ParentID2 != "") {

                            //Father Education//
                            if (response.AdvancedDegree2) {
                                parentedu.find('input[name=EduType2][value=1]').prop('checked', true);
                            }
                            else if (response.AssociateDegree2) {
                                parentedu.find('input[name=EduType2][value=2]').prop('checked', true);
                            }
                            else if (response.HighSchoolGraduate2) {
                                parentedu.find('input[name=EduType2][value=3]').prop('checked', true);
                            }
                            else {
                                parentedu.find('input[name=EduType2][value=4]').prop('checked', true);
                            }

                            $modal.find('#motherEducationDiv').find('#motherNameLbl').html(response.ParentName2);
                            $modal.find('#motherEducationDiv').show();
                            $modal.find('#motherEducationDiv').find('#ParentID2').val(response.ParentID2);

                            if (response.IsShowJobTrainingQuestion && response.JobTrainingSchool2 != null && response.JobTrainingSchool2 == true) {

                                $modal.find('#JobTrainingFinishedID').find('#motherJobNameLbl').html(response.ParentName2);
                                $modal.find('#JobTrainingFinishedID').find('#motherJobTrainingDiv').show();
                                parentTrain.find('input[name=JobTrainingFinished2][value=' + response.JobTrainingFinished2 + ']').prop('checked', true);

                            }
                            else {
                                parentTrain.find('input[name=JobTrainingFinished2]').prop('checked', false);
                                $modal.find('#JobTrainingFinishedID').find('#motherJobTrainingDiv').hide();
                            }
                        }






                        //Job Training Finished//









                        //Medical Home//

                        $modal.find('#MedicalHomeID').find('input[name=MedicalHome][value=' + response.MedicalHome + ']').prop('checked', true);



                        //Primary Health care Services//
                        $modal.find('#MedicalServicesID').find('input[name=MedicalServices][value=' + response.MedicalServices + ']').prop('checked', true);

                        //dental home
                        $modal.find('#DentalHomeID').find('input[name=DentalHome][value=' + response.DentalHome + ']').prop('checked', true);


                        //Dental Service//
                        $modal.find('#DentalServicesID').find('input[name=DentalServices][value=' + response.DentalServices + ']').prop('checked', true);

                        //immunization//
                        var immu = $modal.find('#immunizationTypeDiv');

                        //immune =1 = No//
                        //immune=2=No//
                        //immune=3=Child has not received//
                        //immune=4=yes

                        switch (response.ImmunizationService) {
                            case 1:
                                immu.find('input[name=ddImmunizationType][value=2]').prop('checked', true);
                                break;

                            case 2:
                                immu.find('input[name=ddImmunizationType][value=2]').prop('checked', true);
                                break;

                            case 3:
                                immu.find('input[name=ddImmunizationType][value=3]').prop('checked', true);
                                break;

                            case 4:
                                immu.find('input[name=ddImmunizationType][value=1]').prop('checked', true);
                                break;
                            default:
                                immu.find('input[name=ddImmunizationType][value=2]').prop('checked', true);
                                break;

                        }




                    }

                    else {

                        //Dental Service//
                        $modal.find('#DentalServicesID').find('input[name=DentalServices][value=' + response.DentalServices + ']').prop('checked', true);
                    }


                

                    $modal.find("#HouseholdId").val(response.HouseholdId);

                }


            }
            , error: function (response) {

                // customAlert("Session Ended Log Onto The System Again.");setTimeout(function () {window.location.href= HostedDir + '/login/Loginagency';   }, 2000);
            },
            complete: function (data) {


                if (data.statusText == 'OK' && data.responseJSON != null) {
                    $.ajax({
                        url: '/AgencyUser/Getallcenter',
                        datatype: 'JSON',
                        type: 'post',
                        data: { mode: '0', homebased: (data.responseJSON.IsPreg == true) },
                        success: function (data) {

                            var appendText = '';
                            appendText += '<option value="0">-Select Center-</option>';

                            if (data != null && data.length > 0) {
                                $.each(data, function (k, cntr) {

                                    appendText += '<option value=' + cntr.Enc_CenterID + '>' + cntr.Name + '</option>';
                                });
                            }

                            $('#ChangeclientStatus').find('#centerList').html(appendText);
                        },
                        error: function (data) {


                        },
                        complete: function (data) {

                        }

                    });
                }




            }
        });




    }

  


    

    $(function () {

        $('#seatsButton').on('click', function (data) {

            location.reload(true);
        });


        $('#ChangeclientStatus').find('#withdrawalTypeSelect').on('change', function () {


            var withtags = '';
            var reason = $('#ChangeclientStatus').find('#ddlreason').val();
            reason = reason != "" ? $('#ChangeclientStatus').find('#ddlreason option:selected').text().split(':')[0] + ',,;' : '';

            withtags += 'Withdrawn,,;' + reason;

            switch ($('#withdrawalTypeSelect').val()) {
                case '2':
                    withtags += 'ANOTHER HS,,;';
                    break;
                case '3':
                    withtags += 'OTHER,,;';
                    break;
                case '4':
                    withtags += 'NOT CHILDHOOD,,;';
                    break;
                case '8':
                    withtags += 'ANOTHER EHS,,;'
                    break;

            }


            var $guid = $('#ChangeclientStatus').find('#divCaseNoteSection').attr('data-current-id');

            $('#txtCaseNoteTags_'+$guid+'').importTags(withtags);



        });


        $('#ChangeclientStatus').find(".transition-radio-btn input[name='BirthType']").click(function () {


            $('#newChildInfoDiv').find('input[name=newChildInstype]').prop('checked', false);
            $('.err-message').hide();

            //addNewChild

            var val = "0";
            if ($(this).is(":checked")) {
                val = $(this).val();

            }

            if (val == "0") {
                $('#newChildInfoDiv').hide();
                $('.divBirthType').hide();
            }
            else if (val == "1") {
                $('#newChildInfoDiv').hide();
                $('.divBirthType').hide();
            }
            else if (val == "2") {

                // $('#InsTypeHeading').text("Insurance Type For Child");

                $('#newChildInfoDiv').show();
                $('.divBirthType').hide();

                $('#additionalChildDiv').html(multiChildAppend);

                //if ($('.addInnerChildContent.childcontainer').length >= 1) {
                //    $('.addInnerChildContent.childcontainer').each(function (i) {
                //        $(this).remove();
                //    });
                //}


            }
            else if (val == "3") {
                $('#newChildInfoDiv').hide();
                $(this).closest('div').find('.divBirthType').show();
            }
            else {

                $('.divBirthType').hide();
            }

            bindStatusCaseNoteDetailsPregMom(val);

        });

        $('#spnMultiChildBirth').on('click', function () {


            $('.err-message-birthtype').hide();
            if ($('#MultiChildBirth').val() == "" || $('#MultiChildBirth').val() == null) {

                //  $('#spnMultiChildBirthErr').text("Please enter number of child.");
                //$('#spnMultiChildBirthErr').show();

                plainValidation('#MultiChildBirth');
                customAlert('Please select number of child(s)');
                return false;
            }


            $('#additionalChildDiv').html('');

            var multiChild = parseInt($('#MultiChildBirth').val());


            for (var i = 1; i <= multiChild; i++) {
                $('#additionalChildDiv').append(multiChildAppend);

            }
            //var inc = 1;
            //$('.addInnerChildContent').each(function (i) {
            //    if (inc != 1) {
            //        $(this).addClass('childcontainer');
            //    }
            //    inc++;
            //});

            $('#newChildInfoDiv').show();

        });


        $('input[name=InsType]').on('change', function () {

            $('#PregOtherInsuranceType').val('');
            if ($(this).is(":checked")) {
                val = $(this).val();
            }
            if (val == '3') {
                $('#PregOtherInsuranceType').parent('div').show();
            }
            else {

                $('#PregOtherInsuranceType').parent('div').hide();
            }



            $(this).closest('#InsuranceTypeID').find('.btn-accept').next('i').hide();

        });

        $('input[name=newChildInstype]').on('change', function () {

            $('#OtherInsuranceType').val('');
            if ($(this).is(":checked")) {
                val = $(this).val();
            }
            if (val == "3") {
                $('#OtherInsuranceType').parent('div').show();
            }
            else {

                $('#OtherInsuranceType').parent('div').hide();
            }



            $(this).closest('#InsuranceTypeID').find('.btn-accept').next('i').hide();

        });


        $('input[name=MedicalHome]').on('change', function () {


            $(this).closest('#MedicalHomeID').find('.btn-accept').next('i').hide();

        });

        $('input[name=MedicalServices]').on('change', function () {


            $(this).closest('#MedicalServicesID').children('.btn-accept').next('i').hide();

        });



        $('input[name=DentalHome]').on('change', function () {


            $(this).closest('#DentalHomeID').children('.btn-accept').next('i').hide();

        });

        $('input[name=DentalServices]').on('change', function () {

            $(this).closest('#DentalServicesID').children('.btn-accept').next('i').hide();

        });


        $('input[name=ddImmunizationType]').on('change', function () {

            $(this).closest('#immunizationTypeDiv').find('.btn-accept').next('i').hide();

        });

        $('#statusServicesDiv').find('input[type=checkbox]').on('change', function () {

            $(this).closest('#statusServicesDiv').siblings('div').find('.btn-accept').next('i').hide();


        });

        $('input[name=EduType]').on('change', function () {

            $('#ChangeclientStatus').find('#EducationID').find('input[name=EduType]:last').parent('div').next('#btnAcceptdegree').next('i').hide();

            //  $(this).closest('#EducationID').find('.btn-accept').next('i').hide();
        });

        $('input[name=EduType2]').on('change', function () {

            $('#ChangeclientStatus').find('#EducationID').find('input[name=EduType2]:last').parent('div').next('#btnAcceptdegree2').next('i').hide();

        });

        $('input[name=JobTrainingFinished]').on('change', function () {

            $(this).closest('#JobTrainingFinishedID').children('.btn-accept').next('i').hide();
        });


        $('.btn-accept').on('click', function () {
            cleanValidation();
            var fa_check = $(this).next('i');

            if ($(this).parent('div').parent('div').attr('id') == 'InsuranceTypeID') {
                if ($('input[name=InsType]:checked').length == 0) {
                    customAlert('Please Select Insurance Type');
                    return false;
                }
                else if (($('input[name=InsType]:checked').val() == '3') && $('#PregOtherInsuranceType').val() == '') {
                    plainValidation('#PregOtherInsuranceType');
                    customAlert('Please enter Other Insurance');
                    return false;
                }
            }
            if (!fa_check.is(':visible')) {
                fa_check.show();
            }

            return true;

        });





    




        $('.withdrawn-date-icon').click(function (e) {

            $('#txtdatewithdrawn').datetimepicker('show');
        });






        

    });


</script>





<div class="modal fade custom-modal" id="ChangeclientStatus" role="dialog">
    <div class="modal-dialog modal-dialog-ch">

        <div class="modal-content">

            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal"><img src="/Content/CaseNote/images/close.png"></button>
                <h2 class="extra-title muted">Change Status</h2>
                <form id="formEnrollmentStatusChange">

                    <div class="max_items_addn popup-addn-scroll col-xs-12">
                        <div class="col-xs-12">

                            <div class="form-group col-xs-12">
                                <label for="ClientNameAll" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Client</label>
                                <label class="col-md-5 col-lg-9 col-xs-12" style="text-shadow:2px 5px 6px #999393;" id="ClientNameAll"></label>
                                <input type="hidden" id="accesskey" />
                                <input type="hidden" id="isclientPreg" />
                            </div>

                            <div class="form-group col-xs-12">
                                <label for="lblCurrentStatus" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Current Status</label>
                                <label class="col-md-5 col-lg-9 col-xs-12" style="color: #337ab7;" id="lblCurrentStatus"></label>
                            </div>

                            <div class="form-group col-xs-12">
                                <label for="lblNewStatus" class="col-md-4 col-lg-3 col-xs-12 lbl-text">New Status</label>
                                <label class="col-md-5 col-lg-9 col-xs-12" style="color: #337ab7;" id="lblNewStatus"></label>
                            </div>

                            <div class="form-group col-xs-12" id="dateOfWithdrawnDiv">

                                <label for="lblNewStatus" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Date of Withdrawn&nbsp;<sup style="color:red;">*</sup></label>

                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <div class="input-group">
                                        <input type="text" class="form-control txtseatdate txt-date txt-mandatory " maxlength="12" placeholder="MM/DD/YYYY" id="txtdatewithdrawn">
                                        <span class="input-group-addon datepicker-icon withdrawn-date-icon" id="1" style="cursor:pointer;">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group col-xs-12" id="WithdrawnTypeDiv">

                                <label for="withdrawalTypeSelect" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Withdrawn Type&nbsp;<sup style="color:red;">*</sup></label>

                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <select class="form-control" id="withdrawalTypeSelect">

                                        <option value="0">--Select--</option>
                                        <option value="2">Enroll in “ANOTHER” Head Start Program</option>
                                        <option value="3">Enrolled in “OTHER” Childhood Program</option>
                                        <option value="4">Did not enter into another Childhood Program</option>
                                        <option value="8">Enroll in “ANOTHER” Early Head Start Program</option>

                                    </select>
                                </div>

                            </div>

                            <div class="form-group col-xs-12" style="display:none;" id="divSelectCenter">

                                <label for="centerList" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Center&nbsp;<sup style="color:red;">*</sup></label>
                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <select class="form-control" id="centerList" name="centerList"></select>
                                </div>

                            </div>


                            <div class="form-group col-xs-12" style="display:none;" id="divSelectClassroom">

                                <label for="classroomSelect" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Classroom&nbsp;<sup style="color:red;">*</sup></label>

                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <select class="form-control" id="classroomSelect" name="classroomSelect"></select>
                                </div>
                            </div>

                            <div class="form-group col-xs-12" id="divSelectDate" style="display:none;">
                                <label for="statusClassStart" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Class Start Date&nbsp;<sup style="color:red;">*</sup></label>

                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <input id="statusClassStart" style="width: 100%;" type="text" placeholder="MM/DD/YYYY" class="form-control">
                                </div>
                            </div>

                            <div class="form-group col-xs-12">

                                <label for="statusClassStart" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Reason&nbsp;<sup style="color:red;">*</sup></label>
                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <select id="ddlreason" onchange="Showreason(this);" class="form-control">
                                        <option>Others</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group col-xs-12" style="display:none;" id="Divreason">
                                <label for="txtreason" class="col-md-4 col-lg-3 col-xs-12 lbl-text" ></label>

                                <div class="col-md-5 col-lg-6 col-xs-12">
                                    <textarea id="txtreason" placeholder="Reason" class="form-control"></textarea>
                                </div>
                            </div>

                            <div class="form-group col-xs-12" style="display:none;" id="Divwaitinglist">

                                <label for="rdWaintingList" class="col-md-4 col-lg-3 col-xs-12 lbl-text">Place on Waiting List&nbsp;<sup style="color:red;">*</sup></label>

                                <div class="col-md-5 col-lg-6 col-xs-12" id="rblwaitinglist">
                                    <div class="transition-radio-btn enroll-sec">
                                        <div class="radio radio-info" style="margin-top:0;">
                                            <input id="rdWaintingList" name="waitinglist" tabindex="22" type="radio" value="1">

                                            <label>Yes</label>
                                        </div>
                                        <div class="radio radio-info" style="margin-top:0;">
                                            <input data-val="true" id="rdWaintingList" name="waitinglist" tabindex="23" type="radio" value="0">

                                            <label>No</label>
                                        </div>

                                        <div class="err-container irr-error col-xs-12" style="padding:0;">
                                            <span class="err-message err-message-ms">Waiting list is required</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div id="divForWithdrawn" class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="display:none;">
                            <div class="alert alert-info col-xs-12" role="alert" style="border-radius:unset;line-height:25px;">
                                <div class="col-lg-1 col-xs-2" style="font-weight:bold;margin-top:5px;">Note!&nbsp;</div>
                                <div class="col-lg-11 col-xs-10">
                                    Options are selected default based on the Start of Enrollment of Client. In case, same as followed or change on option,
                                    <br>Please, click on <button class="btn btn-primary">Accept</button> to see the effect of changes.
                                </div>
                            </div>

                            <div class="form-group col-xs-12">

                                <label for="MedicareInsurance" class="col-md-5 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q1.</strong>&nbsp;Insurance Type</label>

                                <div class="col-md-5 col-lg-7 col-xs-12">

                                    <div class="transition-radio-btn enroll-sec margin-enroll" id="InsuranceTypeID" style="margin-left:0px;">
                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="InsType" id="MedicareInsurance" class="InsuranceType" value="1">
                                                <label>Medicare / Chip</label>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="InsType" id="NoInsurance" class="InsuranceType" value="2">
                                                <label>No Insurance</label>
                                            </div>
                                        </div>


                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="InsType" id="OtherInsurance" class="InsuranceType" value="3">
                                                <label>Other Insurance</label>
                                            </div>
                                            <div class="col-lg-6" style="display:none;">
                                                <label style="color: #163b69;font-size: 14px;font-weight: normal;"><i>Please Specify</i></label>
                                                <input type="text" class="form-control" id="PregOtherInsuranceType" value="">
                                            </div>

                                        </div>

                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="InsType" id="PrivateInsurance" class="InsuranceType" value="4">
                                                <label>Private Health Insurance</label>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="InsType" id="StateInsurance" class="InsuranceType" value="5">
                                                <label>State Insurance</label>
                                            </div>

                                            <button type="button" class="btn btn-primary btn-accept" id="btnAcceptInsurance">Accept</button>
                                            <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                        </div>



                                    </div>

                                    <div class="err-container col-xs-12  irr-error" style="padding:0;">
                                        <span class="err-message err-message-instype">Insurance type is required</span>
                                    </div>

                                </div>

                            </div>



                            <div class="form-group col-xs-12" id="accessHealth">
                                <label for="MedicalHome" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q2.</strong>&nbsp;Ongoing source continuous, accessible health care?</label>
                                <div class="col-md-5 col-lg-7 col-xs-12">
                                    <div class="transition-radio-btn enroll-sec" id="MedicalHomeID">

                                        <div class="radio radio-info">
                                            <input type="radio" name="MedicalHome" class="MedicalHome" value="true">
                                            <label>Yes</label>
                                        </div>
                                        <div class="radio radio-info">
                                            <input type="radio" name="MedicalHome" class="MedicalHome" value="false">
                                            <label>No</label>
                                        </div>


                                        <div class="err-container irr-error col-xs-12" style="padding:0;">
                                            <span class="err-message err-message-ms">Medical Home is required</span>
                                        </div>

                                        <button type="button" class="btn btn-primary btn-accept" id="btnacceptmedical">Accept</button>
                                        <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>

                                    </div>


                                </div>
                            </div>


                            <div class="form-group col-xs-12" id="uptodateMedical">
                                <label for="MedicalServices" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q3.</strong>&nbsp;Is the child up-to-date on a schedule of age-appropriate preventive and primary health care, according to the relevant state’s EPSDT schedule for well child care?</label>

                                <div class="col-md-5 col-lg-7 col-xs-12" id="MedicalServicesID">
                                    <div class="transition-radio-btn enroll-sec">
                                        <div class="radio radio-info">
                                            <input type="radio" name="MedicalServices" class="MedicalServices" value="true">
                                            <label>Yes</label>
                                        </div>
                                        <div class="radio radio-info">
                                            <input type="radio" name="MedicalServices" class="MedicalServices" value="false">
                                            <label>No</label>
                                        </div>

                                        <div class="err-container irr-error col-xs-12" style="padding:0;">
                                            <span class="err-message err-message-ms">Medical services is required</span>
                                        </div>


                                    </div>
                                    <button type="button" class="btn btn-primary btn-accept" id="btnacceptSchedule">Accept</button>
                                    <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>


                                </div>
                            </div>



                            <div class="form-group col-xs-12" id="contdentalchild">

                                <label for="DentalHome" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q4.</strong>&nbsp;Did child have continual accessible dental care provided by a dentist?</label>
                                <div class="col-md-5 col-lg-7 col-xs-12" id="DentalHomeID">
                                    <div class="transition-radio-btn enroll-sec">
                                        <div class="radio radio-info">
                                            <input type="radio" name="DentalHome" class="DentalHome" value="true">
                                            <label>Yes</label>
                                        </div>
                                        <div class="radio radio-info">
                                            <input type="radio" name="DentalHome" class="DentalHome" value="false">
                                            <label>No</label>
                                        </div>


                                        <div class="err-container irr-error col-xs-12" style="padding:0;">
                                            <span class="err-message err-message-ms">Medical services is required</span>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-primary btn-accept" id="btnAcceptDental">Accept</button>
                                    <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                </div>

                            </div>


                            <div class="form-group col-xs-12" id="DentaldivPrgChild">
                                <label for="DentalHome" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q5.</strong>&nbsp;Up-to-date on a schedule of age-appropriate preventive and primary oral health care according to the relevant state’s EPSDT schedule?</label>
                                <div class="col-md-5 col-lg-7 col-xs-12" id="DentalServicesID">
                                    <div class="transition-radio-btn enroll-sec">
                                        <div class="radio radio-info">
                                            <input type="radio" name="DentalServices" class="DentalServices" value="true">
                                            <label>Yes</label>
                                        </div>
                                        <div class="radio radio-info">
                                            <input type="radio" name="DentalServices" class="DentalServices" value="false">
                                            <label>No</label>
                                        </div>

                                        <div class="err-container irr-error col-xs-12" style="padding:0;">
                                            <span class="err-message err-message-ms">Medical services is required</span>
                                        </div>
                                    </div>

                                    <button type="button" class="btn btn-primary btn-accept" id="btnAcceptOral">Accept</button>
                                    <i class="fa fa-check" aria-hidden="true" style="padding-left:  8px;font-size:  15px;color:  green;display:none;"></i>
                                </div>


                            </div>


                            <div class="form-group col-xs-12" id="immunizationDiv">

                                <label for="immunizationTypeDiv" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q6.</strong>&nbsp;Is Child up-to-date on all immunizations appropriate for their age?</label>
                                <div class="col-md-5 col-lg-7 col-xs-12" id="immunizationTypeDiv">
                                    <div class="col-xs-12 no-padding">
                                        <div class="radio radio-info">
                                            <input type="radio" name="ddImmunizationType" id="ddimmuniztion-iyes" class="InsuranceType" value="1">
                                            <label for="ddimmuniztion-iyes">Yes</label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 no-padding">
                                        <div class="radio radio-info">
                                            <input id="ddimmuniztion-ino" type="radio" name="ddImmunizationType" class="InsuranceType" value="2">
                                            <label for="ddimmuniztion-ino">Exempt</label>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 no-padding">
                                        <div class="radio radio-info col-lg-7">

                                            <input type="radio" name="ddImmunizationType" id="ddimunication-icc" class="InsuranceType" value="3">


                                            <label class="col-md-9 col-lg-9" for="ddimunication-icc">Child has not received all immunizations appropriate for their age</label>

                                            <button type="button" class="btn btn-primary btn-accept" id="btnAcceptImmune">Accept</button>
                                            <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>

                                        </div>
                                    </div>


                                </div>

                            </div>



                            <div class="form-group col-xs-12" id="familyServiceDiv">

                                <label for="statusServicesDiv" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q7.</strong>&nbsp;Is the family receiving any of the following services?</label>
                                <div class="col-md-5 col-lg-7 col-xs-12" id="statusServicesDiv" style="padding:0;">



                                    <div class="transition-radio-btn enroll-sec col-xs-7" style="padding:0;">


                                        <div class="col-xs-2" style="padding:0;">



                                            <div class="col-xs-12 form-group" style="padding:0;">

                                                <div class="checkbox-inline fa-checkbox all-notes-check">
                                                    <input type="checkbox" id="TANFStatus" name="TANF" class="services allnotesChk" onchange="uncheckdataNone();" value="true" style="display:none;" />
                                                    <label for="TANFStatus" style="font-weight:normal;">TANF</label>

                                                </div>
                                            </div>


                                            <div class="col-xs-12 form-group" style="padding:0;">
                                                <div class="checkbox-inline fa-checkbox all-notes-check">
                                                    <input type="checkbox" id="SSIStatus" name="SSI" class="services" onchange="uncheckdataNone();" value="true" style="display:none;"/>
                                                    <label for="SSIStatus" style="font-weight:normal;">SSI</label>
                                                </div>
                                            </div>
                                          

                                        </div>
                                        <div class="col-xs-2">
                                            <div class="col-xs-12 form-group" style="padding:0;">
                                                <div class="checkbox-inline fa-checkbox all-notes-check">
                                                    <input type="checkbox" id="SNAPStatus" name="SNAP" class="services" onchange="uncheckdataNone();" value="true" style="display:none;" />
                                                    <label for="SNAPStatus" style="font-weight:normal;">SNAP</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 form-group" style="padding:0;">
                                                <div class="checkbox-inline fa-checkbox all-notes-check">
                                                    <input type="checkbox" id="WICStatus" name="WIC" class="services" onchange="uncheckdataNone();" value="true" style="display:none;" />
                                                    <label for="WICStatus" style="font-weight:normal;">WIC</label>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-xs-2">

                                            <div class="col-xs-12 form-group" style="padding:0;">
                                                <label class="checkbox-inline fa-checkbox all-notes-check">
                                                    <input type="checkbox" id="NONEStatus" onchange="uncheckdata();" name="NONE" class="services" value="true" style="display:none;" />
                                                    <label for="NONEStatus" style="font-weight:normal;">NONE</label>
                                                </label>
                                            </div>

                                        </div>
                                        <div class="col-xs-4 col-sm-4 col-lg-4" style="float:right;">
                                            <button type="button" style="margin-top:-10px;" class="btn btn-primary btn-accept response-mtop" id="btnAcceptServices">Accept</button>
                                            <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                        </div>




                                    </div>



                                </div>


                            </div>


                            <div class="form-group col-xs-12" id="parentEducationDiv">

                                <label for="statusServicesDiv" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q8.</strong>&nbsp;Has any parent/guardian completed the following (education)?</label>

                                <div class="col-md-5 col-lg-7 col-xs-12">

                                    <div class="transition-radio-btn enroll-sec margin-enroll" id="EducationID" style="margin-left:0px;">

                                        <div class="col-xs-12 col-lg-12" id="fatherEducationDiv" style="padding:0;">
                                            <label id="fatherNameLbl" style="font-weight:bold;"></label>
                                            <input type="hidden" name="ParentID" id="ParentID" />
                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType" class="Education" value="1">
                                                    <label>Advanced Degree or Baccalaureate</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType" class="Education" value="2">
                                                    <label>Associate, Vocational, or some College</label>
                                                </div>
                                            </div>


                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType" class="Education" value="3">
                                                    <label>High School Graduate or GED</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType" class="Education" value="4">
                                                    <label>Less than High school</label>
                                                </div>
                                                <button type="button" class="btn btn-primary btn-accept" id="btnAcceptdegree">Accept</button>
                                                <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                            </div>

                                        </div>
                                        <hr style="margin-top:10px;border: 1px solid #295b8f;" class="status-hr-line">

                                        <div class="col-xs-12 col-lg-12" id="motherEducationDiv" style="padding:0;">
                                            <label id="motherNameLbl" style="font-weight:bold;"></label>
                                            <input type="hidden" name="ParentID" id="ParentID2" />
                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType2" class="Education" value="1">
                                                    <label>Advanced Degree or Baccalaureate</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType2" class="Education" value="2">
                                                    <label>Associate, Vocational, or some College</label>
                                                </div>
                                            </div>


                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType2" class="Education" value="3">
                                                    <label>High School Graduate or GED</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12 no-padding">
                                                <div class="radio radio-info">
                                                    <input type="radio" name="EduType2" class="Education" value="4">
                                                    <label>Less than High school</label>
                                                </div>
                                                <button type="button" class="btn btn-primary btn-accept" id="btnAcceptdegree2">Accept</button>
                                                <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>

                            <div class="form-group col-xs-12" id="parentJobDiv">
                                <label for="statusServicesDiv" class="col-md-4 col-lg-5 col-xs-12 lbl-text"><strong class="pir-Q-lbl">Q9.</strong>&nbsp;Has parent/guardian completed Job Training?</label>

                                <div class="col-md-5 col-lg-7 col-xs-12" id="JobTrainingFinishedID" style="padding:0;">
                                    <div class="col-xs-12 col-lg-12" id="fatherJobTrainingDiv">

                                        <label id="fatherJobNameLbl" style="font-weight:bold;"></label>

                                        <div class="transition-radio-btn enroll-sec">
                                            <div class="radio radio-info">
                                                <input type="radio" name="JobTrainingFinished" class="JobTrainingFinished" value="true">
                                                <label>Yes</label>
                                            </div>
                                            <div class="radio radio-info">
                                                <input type="radio" name="JobTrainingFinished" class="JobTrainingFinished" value="false">
                                                <label>No</label>
                                            </div>
                                            <div class="err-container irr-error col-xs-12" style="padding:0;">
                                                <span class="err-message err-message-ms">Medical services is required</span>
                                            </div>
                                        </div>

                                        <button type="button" class="btn btn-primary btn-accept" id="btnAcceptJobTraining">Accept</button>
                                        <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                    </div>

                                    <hr style="margin-top:10px;border: 1px solid #295b8f;" class="status-hr-line">

                                    <div class="col-xs-12 col-lg-12" id="motherJobTrainingDiv">

                                        <label id="motherJobNameLbl" style="font-weight:bold;"></label>

                                        <div class="transition-radio-btn enroll-sec">
                                            <div class="radio radio-info">
                                                <input type="radio" name="JobTrainingFinished2" class="JobTrainingFinished" value="true">
                                                <label>Yes</label>
                                            </div>
                                            <div class="radio radio-info">
                                                <input type="radio" name="JobTrainingFinished2" class="JobTrainingFinished" value="false">
                                                <label>No</label>
                                            </div>
                                            <div class="err-container irr-error col-xs-12" style="padding:0;">
                                                <span class="err-message err-message-ms">Medical services is required</span>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-primary btn-accept" id="btnAcceptJobTraining2">Accept</button>
                                        <i class="fa fa-check" aria-hidden="true" style="padding-left:8px;font-size:15px;color:green;display:none;"></i>
                                    </div>

                                </div>
                            </div>



                            <div class="col-xs-12 form-group" id="childBirthTypeDiv">

                                <label for="" class="col-md-4 col-lg-5 col-xs-12 lbl-text">Type of Birth&nbsp;<sup style="color:red;">*</sup></label>


                                <div class="col-md-5 col-lg-7 col-xs-12">
                                    <div class="transition-radio-btn enroll-sec margin-enroll" style="margin-left:0px;">
                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="BirthType" class="ClsBirthType" value="0">
                                                <label>No Birth</label>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="BirthType" class="ClsBirthType" value="1">
                                                <label>Left Before Birth of Child</label>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info">
                                                <input type="radio" name="BirthType" class="ClsBirthType" value="2">
                                                <label>Single Child Birth</label>
                                            </div>
                                        </div>
                                        <div class="col-xs-12 no-padding">
                                            <div class="radio radio-info" style="width:100%;">
                                                <input type="radio" name="BirthType" class="ClsBirthType" value="3">
                                                <label>Multi Child Birth</label>
                                                <div class="divBirthType col-xs-12 no-padding" style="position: relative;display: none;">
                                                    <span class="transition-field-style"></span>
                                                    <input type="text" class="form-control" id="MultiChildBirth" value="" style="width: 80px;display:inline-block;height: 36px;margin-top: 3px;" onkeypress="return isNumber(event)">
                                                    <span id="spnMultiChildBirth" style="display:inline-block;background: #1e5482;/* width: 42px; *//* height: 42px; */text-align: center;line-height: 32px;color: #fff;font-size: 24px;cursor: pointer;font-size: 15px;padding: 0 10px;border-radius: 5px;margin-left: 10px;margin-top: 6px;">Load Forms</span>

                                                </div>
                                                <div class="err-container col-xs-12  irr-error" style="padding:0;">
                                                    <span id="spnMultiChildBirthErr" class="err-message"></span>

                                                </div>
                                            </div>




                                        </div>

                                    </div>

                                    <div class="err-container col-xs-12  irr-error" style="padding:0;">
                                        <span class="err-message err-message-birthtype" style="display: none;">Type of child birth is required</span>
                                    </div>

                                </div>

                            </div>






                            <div class="col-xs-12 form-group addNewChildBody edu_header" id="newChildInfoDiv">
                                <input type="hidden" id="allowFutureInput" value="0" />
                                <input type="hidden" id="allowCurrentInput" value="0" />

                                <h3><i class="fa fa-child" aria-hidden="true"></i> Child Information</h3>


                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">

                                    <div class="col-xs-12 form-group" style="padding:0;">
                                        <label class="col-md-5 col-lg-5 col-xs-12 lbl-text">&nbsp;Insurance Type<sup style="color:red;">*</sup></label>

                                        <div class="col-lg-7 col-sm-7 col-xs-12" id="newChildInsuranceDiv">
                                            <div class="transition-radio-btn enroll-sec margin-enroll" style="margin-left:0px;">
                                                <div class="col-xs-12 no-padding">
                                                    <div class="radio radio-info">
                                                        <input type="radio" name="newChildInstype" class="InsuranceType" value="1">
                                                        <label>Medicare / Chip</label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 no-padding">
                                                    <div class="radio radio-info">
                                                        <input type="radio" name="newChildInstype" class="InsuranceType" value="2">
                                                        <label>No Insurance</label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 no-padding">
                                                    <div class="radio radio-info">
                                                        <input type="radio" name="newChildInstype" class="InsuranceType" value="3">
                                                        <label>Other Insurance</label>
                                                    </div>
                                                    <div class="col-lg-6" style="display:none;">
                                                        <label style="color: #163b69;font-size: 14px;font-weight: normal;"><i>Please Specify</i></label>
                                                        <input type="text" class="form-control optional" id="OtherInsuranceType" value="">
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 no-padding">
                                                    <div class="radio radio-info">
                                                        <input type="radio" name="newChildInstype" class="InsuranceType" value="4">
                                                        <label>Private Health Insurance</label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 no-padding">
                                                    <div class="radio radio-info">
                                                        <input type="radio" name="InsType" class="newChildInstype" value="5">
                                                        <label>State Funded</label>
                                                    </div>



                                                </div>
                                            </div>

                                            <div class="err-container col-xs-12  irr-error" style="padding:0;">
                                                <span class="err-message err-message-instype">Insurance type is required</span>
                                            </div>

                                        </div>
                                    </div>
                                    

                                    
                                </div>










                                <div class="col-xs-12" id="additionalChildDiv">

                                </div>
                            </div>



























                        </div>

                        <div class="col-xs-12 col-lg-12 no-padding new-casenote" id="caseNoteStatDiv">






                        </div>




                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                <div class="btnwrp_subcal glossy_btn">
                                    <button type="button" class="glossy-button-button button-green" onclick="return isValidStatusChange();">Submit
                                    <span class="glossy-button-before"></span>
                                    <span class="glossy-button-after"></span>
                                    
                                    </button>
                                    &nbsp;
                                    &nbsp;
                                    <button tabindex="17" class="glossy-button-button button-red" data-dismiss="modal" type="button">Exit
                                    <span class="glossy-button-before"></span>
                                    <span class="glossy-button-after"></span>
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>


                </form>



            </div>
        </div>


        @*<div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">x</button>
                    <h3 class="text-center">Change Status<span class="extra-title muted"></span></h3>
                </div>

                <div class="control-group">
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                            <div class="add-useragform1">

                                <div class="col-sm-12">
                                    <fieldset style="border: 1px solid #295b8f; ">
                                        <legend class="legend1"></legend>



                                        <div id="divForWithdrawn" class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="display:none;">


































                                        </div>




                                    </fieldset>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <div class="btnwrp_subcal">
                                <button type="button" class="my-btn" onclick="return isValidStatusChange();">Submit</button>
                                <button tabindex="17" class="my-btn" data-dismiss="modal" type="button">Exit</button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>*@



    </div>
</div>


<div class="modal fade" id="SeatsAvailability" role="dialog">
    <div class="modal-dialog">
        @*Modal content*@
        <div class="modal-content">
            <div class="modal-header">
                <h4>Information</h4>
            </div>

            <div class="form-group">
                <label id="lblSeatsAvailability" style="width:  100%; text-align:  center;padding:  0; margin:  0;font-family: inherit;" class="control-label"></label>

            </div>
            <div class="modal-footer">
                <button type="button" id="seatsButton" class="my-btn1">OK</button>
            </div>
        </div>
    </div>
</div>