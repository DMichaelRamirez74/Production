@model FingerprintsModel.ExternalLeadsFamily
@{
    ViewBag.Title = "ExternalApplicantInformation";
    Layout = "~/Views/Shared/AgencyStaffLayout.cshtml";
}
@section MainContentHolder{
    <style>
        #page-wrapper {
            padding-left: 0;
            padding-right: 0;
        }

        /*Information*/
        body {
            font-family: "Verdana" !important;
        }

        .top-header-title-transportation {
            background: #f9c751;
            border-radius: 5px;
            margin-top: 20px;
        }

            .top-header-title-transportation h1 {
                color: #000;
                font-size: 24px;
                text-transform: uppercase;
                padding: 20px 10px;
                text-align: center;
                display: block;
                font-weight: bold;
                margin: 0;
            }

        .right-side-container-ch {
            width: 100%;
            float: left;
            background: url('../../Images/body-bg.jpg') center no-repeat;
            background-size: cover;
            min-height: 700px;
        }

        .no-padding {
            padding: 0;
        }

        .information-content-desc p {
            background: #fff;
            border: 1px solid #e7e7e7;
            padding: 10px 10px;
            color: #163b69;
            text-align: left;
            font-size: 15px;
            margin: 0;
            text-transform: none;
            width: 100%;
            float: left;
            line-height: 22px !important;
        }

        .information-analysis-btn a:hover {
            text-decoration: none;
        }

        .information-analysis-btn a {
            font-size: 16px;
            text-transform: capitalize;
            text-align: center;
            display: inline-block;
            background: #2ecc71;
            color: #fff;
            margin: 0;
            border-radius: 4px;
            padding: 8px 20px;
            margin: auto;
            /* font-weight: bold; */
            line-height: 20px;
            border-radius: 4px;
        }

        .information-analysis-btn {
            margin-top: 30px;
            margin-bottom: 0px;
            width: auto;
            display: inline-block;
            margin-left: 10px;
        }

        .information_title {
            background: #9b59b6;
            border-radius: 0px;
            margin-top: 15px;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }

            .information_title h4 {
                color: #fff;
                font-size: 20px;
                text-transform: capitalize;
                padding: 12px 10px;
                text-align: center;
                display: block;
                font-weight: bold;
                margin: 0;
            }
        /*Information*/
    </style>
    <div class="container-fluid">
        <div class="row">
            <!------------Your Code----------------->
            <div class="right-side-container-ch col-xs-12 no-padding">
                <div class="col-xs-12 no-padding">
                    <div class="top-header-title-transportation">
                        <h1>information</h1>
                    </div>
                </div>

                <div class="col-xs-12" style="text-align:right;">

                    <div class="information-analysis-btn">
                        <a href="/ExternalLeads/AcceptExternalApplicant/?parentId=@ViewBag.ParentId">Accept</a>
                    </div>
                    <div class="information-analysis-btn">
                        <a class="btnReject" style="background:#e74c3c;">Reject</a>
                    </div>
                </div>
                <div class="col-xs-12">
                    <div class="col-xs-12 no-padding">
                        <div class="information_title">
                            <h4>Parent Information</h4>
                        </div>
                    </div>
                    <div class="col-xs-12 no-padding" style="border-radius: 10px;background: #f1f5f8;padding: 10px;width: 100%;margin-top: 0px;margin-bottom: 20px; border-top-left-radius: 0px;border-top-right-radius: 0px;">
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>First Name</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.FirstName</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Last Name</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.LastName</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Date of Birth</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.DOB</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Address</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>
                                        @Model.family.Address
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>City</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.City</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>State</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.State</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Zip Code</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.ZipCode</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Email</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.EmailAddress</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Contact Number</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.PhoneNumber</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Work Extension</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>@Model.family.Extension</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Child Transport</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">
                                    @if (Model.family.ChildTransport == true)
                                    {
                                        <p>Yes</p>
                                    }
                                    else
                                    {
                                        <p>No</p>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                            <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                <div class="information-content-desc" style="position: relative;">
                                    <p>Location Request</p>
                                </div>
                            </div>
                            <div class="col-lg-9 col-xs-7 no-padding">
                                <div class="information-content-desc" style="position: relative;">                                    
                                    <p>@Model.family.LocationRequest</p>
                                </div>
                            </div>
                        </div>

                    </div>


                </div>

                @if (Model.child.Count() > 0)
                {

                    foreach (var item in Model.child)
                    {


                        <div class="col-xs-12">
                            <div class="col-xs-12 no-padding">
                                <div class="information_title" style="background:#3498db;">
                                    <h4>Child Information</h4>
                                </div>
                            </div>
                            <div class="col-xs-12 no-padding" style="border-radius: 10px;background: #f1f5f8;padding: 10px;width: 100%;margin-top: 0px;margin-bottom: 30px; border-top-left-radius: 0px;border-top-right-radius: 0px;">
                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                                    <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>First Name</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-xs-7 no-padding">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>@item.FirstName</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                                    <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>Last Name</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-xs-7 no-padding">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>@item.LastName</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                                    <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>Date of Birth</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-xs-7 no-padding">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>@item.DOB</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                                    <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>Gender</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-xs-7 no-padding">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>
                                                @item.Gender
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 no-padding" style="margin-bottom: 10px;">
                                    <div class="col-lg-3 col-xs-5" style="padding-left: 0;">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>Disability</p>
                                        </div>
                                    </div>
                                    <div class="col-lg-9 col-xs-7 no-padding">
                                        <div class="information-content-desc" style="position: relative;">
                                            <p>@item.Disability</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                }

            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Application Rejection</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-4">
                                Reason for Reject
                            </div>
                            <div class="col-xs-8">
                                <textarea rows="4" cols="50" class="form-control txt-reason"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="hidden" class="parent-id" value="@ViewBag.ParentId" />
                    <button type="button" class="btn btn-primary btn-save-reject">Submit</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>
    <script>
        $(function () {
            $('.btnReject').click(function () {
                $('#myModal').modal('show');
            });
            $('.btn-save-reject').click(function () {
                $.ajax({
                    type: "POST",
                    url: "/ExternalLeads/ApplicationRejection",
                    data: { 'ParentId': $('.parent-id').val(), 'Reason': $('.txt-reason').val() },
                    success: function (data) {
                        if (data) {
                            window.location.href = "/Yakkr/YakkrDetails/"
                        }
                    },
                    error: function (data) {
                        console.log('Error');
                    }
                });

            });
        });
    </script>
}
