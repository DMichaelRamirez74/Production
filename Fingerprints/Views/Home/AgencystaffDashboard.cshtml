@{
    @section Title
{
        Dashboard
    }
    ViewBag.Title = "AgencystaffDashboard";
    //if (Session["Roleid"] != null && (Session["Roleid"].ToString().Contains("94cdf8a2-8d81-4b80-a2c6-cdbdc5894b6d")))
    //{
    Layout = "~/Views/Shared/AgencyStaffLayout.cshtml";
    //}
    //if (Session["Roleid"] != null && (Session["Roleid"].ToString().Contains("e4c80fc2-8b64-447a-99b4-95d1510b01e9")))
    //{
    //    Layout = "~/Views/Shared/HomeVisitorLayout.cshtml";
    //}

    int fswHV = (FingerprintsModel.StaffDetails.GetInstance().RoleId.ToString() == FingerprintsModel.EnumHelper.GetEnumDescription(FingerprintsModel.Enums.RoleEnum.FamilyServiceWorker).ToLowerInvariant()
                    || FingerprintsModel.StaffDetails.GetInstance().RoleId.ToString() == FingerprintsModel.EnumHelper.GetEnumDescription(FingerprintsModel.Enums.RoleEnum.HomeVisitor).ToLowerInvariant()) ? 1 : 0;
}
@section Script{

    <script src="~/Scripts/amcharts.js"></script>
<script src="~/Scripts/serial.js"></script>
    <script src="~/Scripts/gauge.js"></script>
    <script src="~/Scripts/light.js"></script>
    <script src="~/Content/Select2-3.5.3/select2.js"></script>
<script src="~/Scripts/amcharts/plugins/responsive.min.js"></script>

    <script type="text/javascript">
        var dbevents = [];
        var _centerid = null;
        var _option = null;
        var _option1 = null;
        var _programtype = 0;
        var _Nurse = 0;
        var _programtype1 = 0;
        var _Nurse1 = 0;
        var WaitObject = null;
        var _Object = null;
        var AcceptObject = null;
        var Acceptwaitingobject = null;
        var PYStartDate = "@ViewBag.PYStartDate";
        var reloadPage = false;
        var globeParam = {}; //grid parameter for all client status (pendin,OI-Pending,Accepted,Returned,OI-Returned)
        var sort = {
            column: "name",
            dir: "asc"
        };


        var clientAcceptanceType=@(FingerprintsModel.EnumHelper.ConvertToJson(typeof(FingerprintsModel.Enums.ClientAcceptanceType)));
        var futureClientType=@(FingerprintsModel.EnumHelper.ConvertToJson(typeof(FingerprintsModel.Enums.FutureClientType)));


        $(document).ready(function () {
            BindDropdownDisable();

            //tool tip on hover center name//
            $('[data-toggle="tooltip"]').tooltip();


            $("#ModalAcceptanceList").on("hidden.bs.modal", function () {
                $("#ModalAcceptanceList #HVAcceptancedivClient").css("display","none")
            
            })

            $("#ModalWaitingList,#ModalWaitingListAll").on("hide.bs.modal", function () {

                if (reloadPage) {
                    $('#spinner').show();
                    window.location.reload();
                }
                $('.AssignFSW').hide();
                $('.selAssignFSW').val('');
                $('.selAssignHV').val('');
                $('#Acceptancediv').hide();
                multipleArr = [];

                $(this).find("#AcceptancedivClient").hide();
                $(this).find("#HVAcceptancedivClient").hide();

            });

            $("#ModalWaitingList").on("hidden.bs.modal", function () {

                $('#dvClientName').html("");

                $('.AssignFSW').hide();
                $('.selAssignFSW').val('');
                $('.selAssignHV').val('');
                $('#Acceptancediv').hide();
                multipleArr = [];
            });





            $("#ModalClientPendingList").on("hidden.bs.modal", function () {
                $('#DivPendingStatusTrack').hide();
            });
            $("#Modalrejected").on("hidden.bs.modal", function () {
                $('#DivRejectedStatusTrack').hide();
            });


            $('#HVtxtclassstartdate').mask("99/99/9999", { placeholder: 'MM/DD/YYYY' });
            $('#HVmeetingdate').mask("99/99/9999", { placeholder: 'MM/DD/YYYY' });
            setendtime();
            setStartTime();
            $('input#ondate').mask("99/99/9999", { placeholder: 'MM/DD/YYYY' })
            var min = new Date();
            $('input#ondate').datetimepicker({
                timepicker: false,
                minDate: min,
                format: 'm/d/Y',
                scrollMonth: false,
                scrollInput: false
            });


            $('.class-start-date').mask("99/99/9999", { placeholder: 'MM/DD/YYYY' });

            $('#ddlchildwt').val('');
            $("#DivWaitinglist > tbody >tr").each(function () {
                $(this).find('td:eq(4) :input').val("");
            });

            $('#DivAcceptedWaitinglist > tbody > tr').each(function(){

                $(this).find('td:eq(4) :input').val("");
            });


            $('#Yakkrli').removeClass("active");
            $('#Appointmentli').removeClass("active");


            $('.js-gauge--1').kumaGauge({
                fill: '0-#fa4133:0-#fdbe37:50-#1cb42f:100',
                showNeedle: true,
                radius: 140,
                gaugeBackground: '#1E4147',
                gaugeWidth: 10,
                showNeedle: true,
                label: {
                    display: true,
                    left: 'Min',
                    right: 'Max',
                    fontFamily: 'Helvetica',
                    fontColor: '#1E4147',
                    fontSize: '11',
                    fontWeight: 'bold'
                },
                //value: Math.floor((Math.random() * 99) + 1)
            });



            //$('.js-gauge--2').kumaGauge({
            //    value: Math.floor((Math.random() * 99) + 1),
            //    //fill: '#F34A53',
            //    fill: '0-#fa4133:0-#fdbe37:50-#1cb42f:100',
            //    gaugeBackground: '#1E4147',
            //    gaugeWidth: 10,
            //    showNeedle: true,
            //    label: {
            //        display: true,
            //        left: 'Min',
            //        right: 'Max',
            //        fontFamily: 'Helvetica',
            //        fontColor: '#1E4147',
            //        fontSize: '11',
            //        fontWeight: 'bold'
            //    }
            //});

            $('#Schedulesli').removeClass('active');
            getAllUserEvents();




            $(document).on('click', '#ModalFutureWaitingList input:checkbox[name="lblselectall"]', function () {

                var chkAll = $(this);
                var chkLength = 0;
                if (chkAll.is(":checked")) {
                    chkAll.closest('table').find('tbody').find('tr').find('td:eq(0)').find('input:checkbox').prop('checked', true);

                    chkLength = chkAll.closest('table').find('tbody').find('tr').find('td:eq(0)').find('input:checkbox:checked').length;

                    $('#ModalFutureWaitingList').find('#lblSelectedClients').html(chkLength);

                }
                else {
                    chkAll.closest('table').find('tbody').find('tr').find('td:eq(0)').find('input:checkbox').prop('checked', false);
                    $('#ModalFutureWaitingList').find('#lblSelectedClients').html(chkLength);

                }


            });

            $('#ModalFutureWaitingList #classroomSelect').on('change', function () {

                 var $futureModal=$('#ModalFutureWaitingList');

                 if ($futureModal.find('#classroomSelect').val() == undefined || $futureModal.find('#classroomSelect').val() == null || $futureModal.find('#classroomSelect').val() == '0') {
                     plainValidation($futureModal.find('#classroomSelect'));
                     customAlert('please select classroom');
                     $futureModal.find('#slotsCountDiv').hide();
                     return false;
                 }

              
      
                 $.ajax({
                     url: HostedDir + '/AgencyUser/GetSeatsCountByCenter',
                     type: 'post',
                     datatype: 'json',
                     beforeSend: function () { $('#spinner').show() },
                     data: {
                    
                         classroomId: $('#classroomSelect').val(),
                         centerid: $futureModal.find('#hide-centerid').val()
                     },
                     success: function (data) {

                         var $slotsDiv = $futureModal.find('#slotsCountDiv');
                         if (data != null) {

                             $('#spanAgencyCount').html(data.TotalSlots);
                             $('#spanRetClientAgency').html(data.ClientsReturningAgency);

                             $slotsDiv.find('#spanAvailClsroom').html(data.AvailableSeats);

                             $slotsDiv.find('#spanRetClientClsroom').html(data.ClientsReturningCenter);

                             $slotsDiv.find('#spanOpenClsroom').html(data.OpenSeats);

                             $slotsDiv.show();
                         }
                         else {
                             $slotsDiv.find('#spanAvailClsroom').html(0);

                             $slotsDiv.find('#spanRetClientClsroom').html(0);

                             $slotsDiv.find('#spanOpenClsroom').html(0);

                             $slotsDiv.hide();




                         }
                     },
                     error: function (data) {

                     },
                     failure: function (data) {
                     },
                     complete: function (data) {
                         $('#spinner').hide();
                     }

                 });

        });

        


            //    $('#ModalFutureWaitingList #classroomSelect').on('change', function () {


            //    debugger;

            //    var $futureModal=$('#ModalFutureWaitingList');
            //    var $modaltbody= $futureModal.find('#DivWaitingListPopup').find('tbody');
            //    if (validateClassroomAssignment() == true) {

            //        var clientIds = new Array();

            //        $modaltbody.find('input:checkbox:checked').each(function () {

            //            clientIds.push($(this).attr('eclientid'));
            //        });


            //        $.ajax({
            //            //url: HostedDir + '/AgencyUser/GetSeatsCountByCenter',
            //            url: HostedDir + '/AgencyUser/AssignClassroomFutureClients',
            //            type: 'post',
            //            datatype: 'json',
            //            beforeSend: function () { $('#spinner').show() },
            //            data: {
            //                clientIds: clientIds.join(),
            //                classroomId: $futureModal.find('#classroomSelect').val(),
            //                centerId: $futureModal.find('#hide-centerid').val(),
            //                clsStartDate: $futureModal.find('#txtclsStartDate').val()
            //            },
            //            success: function (data) {




            //                switch (data.result) {
            //                    case '1':

            //                        var selectedText =  $futureModal.find("#classroomSelect").find("option:selected").text();

            //                        $modaltbody.find('input:checkbox:checked').each(function () {
            //                            $(this).parent('td').parent('tr').children('td[data-title=Classroom]').html(selectedText);
            //                        });

            //                        $futureModal.find('#lblselectall').prop('checked', false);
            //                        $modaltbody.find('tr').find('td:eq(0)').find('input:checkbox').prop('checked', false);
            //                        customAlert('Record updated successfully');

            //                        break;

            //                    case '2':
            //                        customAlert('Selected client(s) are greater than available seats.');
            //                        break;

            //                    case '0':
            //                        customAlert('Error occurred. Please, try again later.');
            //                        break;
            //                }


            //                var $slotsDiv = $futureModal.find('#slotsCountDiv');
            //                if (data != null && data.dictionraySeats != null) {

            //                    $('#spanAgencyCount').html(data.dictionraySeats.TotalSlots);
            //                    $('#spanRetClientAgency').html(data.dictionraySeats.ClientsReturningAgency);

            //                    $slotsDiv.find('#spanAvailClsroom').html(data.dictionraySeats.AvailableSeats);

            //                    $slotsDiv.find('#spanRetClientClsroom').html(data.dictionraySeats.ClientsReturningCenter);

            //                    $slotsDiv.find('#spanOpenClsroom').html(data.dictionraySeats.OpenSeats);

            //                    $slotsDiv.show();
            //                }
            //                else {
            //                    $slotsDiv.find('#spanAvailClsroom').html(0);

            //                    $slotsDiv.find('#spanRetClientClsroom').html(0);

            //                    $slotsDiv.find('#spanOpenClsroom').html(0);

            //                    $slotsDiv.hide();




            //                }
            //            },
            //            error: function (data) {

            //            },
            //            failure: function (data) {
            //            },
            //            complete: function (data) {
            //                $('#spinner').hide();
            //            }

            //        });




            //    }

            //});



                $('#ModalFutureWaitingList #searchByfilter').on('click', function () {


                    var $futureModal=$('#ModalFutureWaitingList');

                    //if ($('#ddlCenterDetails').val() == undefined || $('#ddlCenterDetails').val() == null || $('#ddlCenterDetails').val() == '' ||
                    //    $('#ddlCenterDetails').val() == '0') {
                    //    plainValidation('#ddlCenterDetails');
                    //    customAlert('Please select center');
                    //    return false;
                    //}






                   // $('#totalclientsCountSpan').html(0);

                    $futureModal.find('#divselectclients').find('#lblSelectedClients').html(0);
                    $futureModal.find('#divClassStartDate').find('#txtclsStartDate').val('');

                    $futureModal.find('#classroomSelect').find('#classroomSelect').val('0');

                    $futureModal.find('#divselectclients,#divClassStartDate,#divselectClassroom,#slotsCountDiv').hide();

                    $futureModal.find('#btnConfirm').hide();
                    $futureModal.find('#lblselectall').prop({ 'checked': false, 'disabled': true });
                    var $age=$futureModal.find('#ageSelect').val();

                    loadclientlist(WaitObject,$futureModal.find('#hide-centerid').val(),4,ishomebased,$age);





                });



        });

        function assignClassroomFutureClients(ele)
        {
            var result=false;
            var $futureModal=$('#ModalFutureWaitingList');
            var $modaltbody= $futureModal.find('#DivWaitingListPopup').find('tbody');
            if (validateClassroomAssignment() == true) {

                var clientIds = new Array();

                $modaltbody.find('input:checkbox:checked').each(function () {

                    clientIds.push($(this).attr('eclientid'));
                });


                $.ajax({
                    //url: HostedDir + '/AgencyUser/GetSeatsCountByCenter',
                    url: HostedDir + '/AgencyUser/AssignClassroomFutureClients',
                    type: 'post',
                    datatype: 'json',
                    beforeSend: function () { $('#spinner').show() },
                    async:false,
                    data: {
                        clientIds: clientIds.join(),
                        classroomId: $futureModal.find('#classroomSelect').val(),
                        centerId: $futureModal.find('#hide-centerid').val(),
                        clsStartDate: $futureModal.find('#txtclsStartDate').val()
                    },
                    success: function (data) {




                        switch (data.result) {
                            case '1':

                                result=true;

                                //var selectedText =  $futureModal.find("#classroomSelect").find("option:selected").text();

                                //$modaltbody.find('input:checkbox:checked').each(function () {
                                //    $(this).parent('td').parent('tr').children('td[data-title=Classroom]').html(selectedText);
                                //});

                                //$futureModal.find('#lblselectall').prop('checked', false);
                                //$modaltbody.find('tr').find('td:eq(0)').find('input:checkbox').prop('checked', false);
                                //customAlert('Record updated successfully');

                                break;

                            case '2':
                                customAlert('Selected client(s) are greater than available seats.');
                                break;

                            case '0':
                                customAlert('Error occurred. Please, try again later.');
                                break;
                        }


                        //var $slotsDiv = $futureModal.find('#slotsCountDiv');
                        //if (data != null && data.dictionraySeats != null) {

                        //    $('#spanAgencyCount').html(data.dictionraySeats.TotalSlots);
                        //    $('#spanRetClientAgency').html(data.dictionraySeats.ClientsReturningAgency);

                        //    $slotsDiv.find('#spanAvailClsroom').html(data.dictionraySeats.AvailableSeats);

                        //    $slotsDiv.find('#spanRetClientClsroom').html(data.dictionraySeats.ClientsReturningCenter);

                        //    $slotsDiv.find('#spanOpenClsroom').html(data.dictionraySeats.OpenSeats);

                        //    $slotsDiv.show();
                        //}
                        //else {
                        //    $slotsDiv.find('#spanAvailClsroom').html(0);

                        //    $slotsDiv.find('#spanRetClientClsroom').html(0);

                        //    $slotsDiv.find('#spanOpenClsroom').html(0);

                        //    $slotsDiv.hide();




                        //}
                    },
                    error: function (data) {

                    },
                    failure: function (data) {
                    },
                    complete: function (data) {
                        $('#spinner').hide();
                    }

                });




            }

            return result;
        }


        function confirmChanges(ele) {


            var $futureModal=$('#ModalFutureWaitingList');


            var $tbody=$futureModal.find('#DivWaitingListPopup').find('tbody');

            var chckth = $tbody.find('tr').find('td:eq(0)').find('input:checkbox:checked').length;



          if( assignClassroomFutureClients())

          {

              if (chckth == 0 && $tbody.find('tr').find('td:eq(0)').find('input:checkbox').length > 0) {
                  $tbody.find('tr').find('td:eq(0)').find('input:checkbox')[0].focus();
                  customAlert('At-least one client should be selected');
                  $('#classroomSelect').val(0);
                  return false;
              }

              else if ($tbody.find('tr').find('td:eq(0)').find('input:checkbox').length > 0 && chckth > 0) {

                  debugger;
                  var clientIds2 = new Array();

                  $tbody.find('input:checkbox:checked').each(function () {

                      clientIds2.push($(this).attr('eclientid'));
                  });

                  $.ajax({

                      url: HostedDir + '/AgencyUser/AcceptClassroomAssignment',
                      type: 'post',
                      datatype: 'json',
                      beforeSend: function () { $('#spinner').show() },
                      data: {
                          clientIds: clientIds2.join(),
                          classroomId: $futureModal.find('#classroomSelect').val(),
                          centerId: $futureModal.find('#hide-centerid').val(),
                          clsStartDate: $futureModal.find('#txtclsStartDate').val()
                      },
                      success: function (data) {
                          if (data != null) {

                              if (data == '1') {

                                  customAlert('Record updated successfully');


                                  window.setTimeout(function(){

                                      location.reload(true);

                                  },500);
                                 // $futureModal.find('#searchByfilter').trigger('click');
                              }

                              else if (data == '0') {
                                  customAlert('Error occurred.Please, try again later');
                              }

                          }

                      },
                      error: function (data) {

                      },
                      complete: function (data) {
                          $('#spinner').hide();
                      }


                  });


              }

          }
       



        }


        function validateClassroomAssignment() {
            debugger;
            cleanValidation();

            var $futureModal=$('#ModalFutureWaitingList');

            var $tbody=$futureModal.find('#DivWaitingListPopup').find('tbody');

            try {




                //if ($('#ddlCenterDetails').val() == '0') {
                //    plainValidation('#ddlCenterDetails');
                //    customAlert('please select center');
                //    $('#slotsCountDiv').hide();
                //    $('#classroomSelect').val(0);
                //    return false;
                //}


                var chckth = $tbody.find('tr').find('td:eq(0)').find('input:checkbox:checked').length;

                if (chckth == 0 && $tbody.find('tr').find('td:eq(0)').find('input:checkbox').length > 0) {
                    $tbody.find('tr').find('td:eq(0)').find('input:checkbox')[0].focus();
                    customAlert('At-least one client should be selected');
                    $('#classroomSelect').val(0);
                    return false;
                }

                if ($futureModal.find('#classroomSelect').val() == undefined || $futureModal.find('#classroomSelect').val() == null || $futureModal.find('#classroomSelect').val() == '0') {
                    plainValidation($futureModal.find('#classroomSelect'));
                    customAlert('please select classroom');
                    $futureModal.find('#slotsCountDiv').hide();
                    return false;
                }


                if ($futureModal.find('#txtclsStartDate').val() == null || $futureModal.find('#txtclsStartDate').val() == '') {
                    plainValidation($futureModal.find('#txtclsStartDate'));
                    customAlert('Please enter class start date');
                    $futureModal.find('#classroomSelect').val(0);
                    return false;
                }

                if (!isDate($futureModal.find('#txtclsStartDate').val().trim())) {
                    plainValidation($futureModal.find('#txtclsStartDate'));
                    customAlert('Please enter valid date');
                    $futureModal.find('#classroomSelect').val(0);
                    return false;

                }

                var d = new Date();
                d.setHours(0, 0, 0, 0);

                if (new Date($futureModal.find('#txtclsStartDate').val().trim()) < new Date(d)) {
                    plainValidation($futureModal.find('#txtclsStartDate'));
                    customAlert('Class start date should not be past date');
                    $futureModal.find('#classroomSelect').val(0);
                    return false;
                }


                return true;
            }
            catch (error) {
                console.log(error);
                return false;

            }
        }


        function setendtime() {
            var mm = "";
            var HH = "";
            var listduration = [];
            for (var j = 0; j < 5; j++) {
                for (var i = 0; i < 2; i++) {
                    if (i == 0) {
                        mm = '00';
                    }
                    else {
                        mm = '30';
                    }
                    if (j < 10) {
                        HH = "0";
                    }
                    else {
                        HH = "";
                    }
                    if (j == 0 && mm == '00') {

                    }
                    else {
                        if (j == 4 && mm == '30') {
                        } else {
                            listduration.push(HH + j.toString() + ":" + mm);
                        }
                    }
                }
            }
            $.each(listduration, function (i, item) {
                $('.select-end-time').append($('<option>', {
                    value: item,
                    text: item
                }));
            });
        }
        function setStartTime() {
            var listTime = [];
            var m;
            var min;
            for (var i = 0; i < 2; i++) {
                if (i == 0) {
                    m = 'AM';
                } else {
                    m = 'PM';
                }
                for (var j = 1; j < 13; j++) {
                    if (j > 7 && m == 'AM' || j < 7 && m == 'PM') {
                        for (var k = 0; k < 2; k++) {
                            if (k == 0) {
                                min = ':00 ';
                            }
                            else {
                                min = ':30 ';
                            }
                            if (min == ':30 ' && j == 6)
                            { break; }
                            if (j == 12) {
                                m = 'PM';
                                listTime.push(j + min + m);
                            }
                            else {
                                if (j > 9) {
                                    listTime.push(j + min + m);
                                }
                                else {
                                    listTime.push('0' + j + min + m);
                                }
                            }
                        }


                    }
                }

            }


            $.each(listTime, function (i, item) {
                $('.select-meeting-date').append($('<option>', {
                    value: item,
                    text: item
                }));
            });
        }


        function isDate(txtDate) {
            var currVal = txtDate;
            if (currVal == '')
                return false;

            var rxDatePattern = /^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/; //Declare Regex
            var dtArray = currVal.match(rxDatePattern); // is format OK?

            if (dtArray == null)
                return false;

            //Checks for mm/dd/yyyy format.
            dtMonth = dtArray[1];
            dtDay = dtArray[3];
            dtYear = dtArray[5];

            if (dtMonth < 1 || dtMonth > 12)
                return false;
            else if (dtDay < 1 || dtDay > 31)
                return false;
            else if ((dtMonth == 4 || dtMonth == 6 || dtMonth == 9 || dtMonth == 11) && dtDay == 31)
                return false;
            else if (dtMonth == 2) {
                var isleap = (dtYear % 4 == 0 && (dtYear % 100 != 0 || dtYear % 400 == 0));
                if (dtDay > 29 || (dtDay == 29 && !isleap))
                    return false;
            }
            return true;
        }


        var ishomebased=false;




        function BindFutureWaitinglist(Data,option)
        {

            var availablecheck = 0;
            console.log(Data);
            var appendData='';
            var classroomBody='';
            var $futureModal=$('#ModalFutureWaitingList');



           // $('#totalclientsCountSpan').html(0);

            $futureModal.find('#divselectclients').find('#lblSelectedClients').html(0);
            $futureModal.find('#divClassStartDate').find('#txtclsStartDate').val('');

            $futureModal.find('#divselectClassroom').find('#classroomSelect').val('0');

            $futureModal.find('#divselectclients,#divClassStartDate,#divselectClassroom,#slotsCountDiv').hide();

            $futureModal.find('#btnConfirm').hide();

            $futureModal.find('#lblselectall').prop({ 'checked': false, 'disabled': true });

            var $slotsClientDiv=$futureModal.find('#slotsCountDiv');

            var $centerNameanchor=$(WaitObject).closest('tr').children('td:eq(0)').find('a');
            $futureModal.find('#CenterName').html($centerNameanchor.html()+'&nbsp;(<span style="color:#f9c751;">Future Waiting</span>)');

            $futureModal.find('#hide-centerid').val( $centerNameanchor.attr('accesskey'));

            if(Data!=null )
            {




                if(Data.acceptedClients!=null && Data.acceptedClients.length>0)

                {
                    $.each(Data.acceptedClients,function(i,clients){


                        if (clients.IsFutureApplication == 'True') {
                            appendData += '<tr class="trow">';
                        }
                        else {
                            appendData += '<tr>';
                        }

                        appendData += '<td data-title="Select All" style="text-align:center;">';

                        if (clients.ClassroomConfirmed == false) {
                            appendData += ' <input type="checkbox" eclientid=' + clients.ClientId + '>';
                            availablecheck++;
                        }
                        appendData += '</td>';


                        appendData+='<td data-title="Name">'+clients.Name+'</td>\
                                 <td data-title="Selection Points">'+clients.SelectionPoints+'</td>\
       <td data-title="Date on List">'+clients.DateOnList+'</td>\
        <td data-title="Program Type">'+clients.ProgramType+'   </td>\
                               <td data-title="Gender">'+clients.Gender+'</td>\
                                <td data-title="DOB">'+clients.DOB+'</td>\
                                <td data-title="Age">'+clients.Age+'</td>\
                                <td data-title="Classroom">'+clients.ClassroomName+'</td>\
                                <td data-title="Remove"><a href="#" onclick="removeFromWaiting(this);" option='+clients.Option+'  clientid="'+clients.ClientId+'" householdid='+clients.HouseholdId+' programid='+clients.ProgramID+'  centerid='+clients.CenterId+' style="text-decoration:underline;">Remove</a></td>\
                                </tr>';
                    });


                    if (availablecheck > 0) {
                        $futureModal.find('#divselectclients,#divClassStartDate,#divselectClassroom').show();
                        $futureModal.find('#btnConfirm').show();
                        $futureModal.find('#lblselectall').prop({ 'disabled': false });
                    }



                }


                else
                {

                    appendData = '<tr style="width:98.3%">\
            <td colspan="10" style="text-align:center;font-weight:bold;text-transform:none;">Records not Found</td>\
        </tr>';
                }


                if (Data.classRoomList != null && Data.classRoomList.length > 0) {

                    classroomBody += '<option value="0">--Select Classroom--</option>';
                    $.each(Data.classRoomList, function (j, classroom) {
                        classroomBody += '<option value=' + classroom.Enc_ClassRoomId + '>' + classroom.ClassName + '</option>';
                    });
                }








                if (Data!=null && Data.seatsCountDictionary != null) {

                    $futureModal.find('#spanAgencyCount').html(Data.seatsCountDictionary["TotalSlots"]);
                    $futureModal.find('#spanRetClientAgency').html(Data.seatsCountDictionary["ClientsReturningAgency"]);
                    $futureModal.find('#spanAvailCenter').html(Data.seatsCountDictionary["AvailableSeats"]);
                    $futureModal.find('#spanRetClientCenter').html(Data.seatsCountDictionary["ClientsReturningCenter"]);
                    $futureModal.find('#spanOpenCenter').html(Data.seatsCountDictionary["OpenSeats"]);
                }

            }


            $futureModal.find('#DivWaitingListPopup').find('tbody').html(appendData);



            $futureModal.find('#DivWaitingListPopup').find('tbody').find('tr').each(function () {

                $(this).children('td:eq(0)').find('input:checkbox').unbind('click')
            });

            $futureModal.find('#DivWaitingListPopup').find('tbody').find('tr').each(function () {
                debugger;
                $(this).children('td:eq(0)').find('input:checkbox').bind('click', updateCheckedClient);
                //    updateCheckedClient();

            });


            $futureModal.find('#classroomSelect').html(classroomBody);

            $futureModal.modal('show');
        }


        function updateCheckedClient() {

            var $futureModal=$('#ModalFutureWaitingList');
            var checkedCount = 0;

            $futureModal.find('#DivWaitingListPopup').find('tbody').find('tr').each(function () {

                if ($(this).children('td:eq(0)').find('input:checkbox').is(':checked')) {
                    checkedCount++;
                }

            });


            $futureModal.find('#lblSelectedClients').html(checkedCount);

        }


        function loadclientlist(Object, Centerid, Option,homebased,age) {
            WaitObject = Object;
            _centerid = Centerid;
            _option = Option;
            _programtype = 0;
            _Nurse = 0;
            ishomebased=homebased;
            $('#Acceptancediv').hide();
            $('#ddlProgramtype').val('');
            $('#ddlnurse').val('');
            if (Option == 1)
                $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + 'Wait1');
            if (Option == 2)
                $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + 'Wait2');
            if (Option == 3)
                $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + 'Wait3');
            if (Option == 4)
                $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + 'Future Waiting');


            var $url=(Option==4)?HostedDir+'/AgencyUser/GetAcceptedFutureClients' : HostedDir + "/Home/GetclientWaitingList";
            var $data=(Option==4)? {centerid:Centerid,age:age,futureClientType:futureClientType.WaitingList,option:Option} :{Centerid: Centerid,Option: Option,Programtype: 0};

            $.ajax({
                url:  $url,
                type: "POST",
                data: $data ,
                dataType: "json",
                secureuri: false,
                async: true,
                beforeSend: function () { $('#spinner').show() },
                success: function (Data) {
                    $('#spinner').hide();


                    if(Option==4)
                        BindFutureWaitinglist(Data,Option);
                    else
                        BindClientlist(Data, Option);




                }
			   , error: function (Data) {
			       $('#spinner').hide();
			       customAlert("Session Ended Log Onto The System Again.");
			       setTimeout(function () {
			           window.location.href = HostedDir + '/login/Loginagency';
			       }, 2000);
			   }
            });
        }
        function BindClientlist(Data,option) {


            $(_option).attr('')
            var seatCount = Data.slotsDictionary;
            Data=Data._clientWaitingList;
            if (Data != null && Data.length > 0) {
                $('#div1').hide();
                var tbody = "";
                var option = "";
                $('#DivWaitingListPopup > tbody > tr').remove();
                for (var i = 0; i < Data.length; i++) {


                    if ('@fswHV' == '1') {
                        //        tbody = tbody + '<tr><td><input   name="' + Data[i].Name + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '"  type="Checkbox" class="chckClient" onchange="ChangeCheckBox(this,$(this));"  /></td><td>' + Data[i].Name + '</td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
                        // ' </td><td>' + Data[i].ProgramType + '</td><td>' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td> <td> ' +
                        //'<a href="#"  onclick="LoadFSWorHVList(this);" name="' + Data[i].Name + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '" style="text-decoration:underline;">Acceptance Process</a> </td>' +
                        // '<td><a href="#" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  IsHomeBased="' + Data[i].IsHomeBased + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>' +
                        //'</tr>';






                        
                        if(Data[i].ProgramType=="PM")
                        {

                            //<td><input   name="' + Data[i].Name + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '"  type="Checkbox" class="chckClient" onchange="ChangeCheckBox(this,$(this));"  />\
                            //</td>\
                            tbody = tbody + '<tr>\
                                <td>' + Data[i].Name + '</td>\
                                <td>' + Data[i].SelectionPoints + '</td>\
                                <td>' + Data[i].DateOnList +' </td>\
                                <td>' + Data[i].ProgramType + '</td>\
                                <td>' + Data[i].Gender + '</td>\
                                <td>' + Data[i].DOB + '</td>\
                                <td><a href="#" onclick="showdiv2(this,' + 0 + ',' + 0 + ','+clientAcceptanceType.ImmediateEnrollment+');" IsHomeBased="' + Data[i].IsHomeBased + '" option="' + Data[i].Option + '"  IsIEP="' + Data[i].IsIEP + '" IsIFSP="' + Data[i].IsIFSP + '" IsExpired="' + Data[i].IsExpired + '" ClientId="' + Data[i].ClientId + '" Programid="' + Data[i].Programid + '"        HouseHoldId="' + Data[i].HouseholdId + '" CenterID="' + Data[i].CenterId + '" Transport="' + Data[i].CTransport + '" BMIStatus="' + Data[i].ChildWeight + '" FoodAllergies="' + Data[i].FoodAllergies + '" accesskey=' + Data[i].ClientId + '>Schedule Appointment</a>\
                               </td>\
                               <td><a href="javascript:void(0);" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  IsHomeBased="' + Data[i].IsHomeBased + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>\
                              </tr>';

                         
                        }

                        else{



                            tbody = tbody + '<tr>\
                                <td>' + Data[i].Name + '</td>\
                                <td>' + Data[i].SelectionPoints + '</td>\
                                <td>' + Data[i].DateOnList +' </td>\
                                <td>' + Data[i].ProgramType + '</td>\
                                <td>' + Data[i].Gender + '</td>\
                                <td>' + Data[i].DOB + '</td>\
                                <td> <a href="#" onclick="showdiv(this,' + Data[i].ChildWeight + ',' + Data[i].CParentDisable + ','+clientAcceptanceType.ImmediateEnrollment+');" IsHomeBased="' + Data[i].IsHomeBased + '" option="' + Data[i].Option + '"  IsIEP="' + Data[i].IsIEP + '" IsIFSP="' + Data[i].IsIFSP + '" IsExpired="' + Data[i].IsExpired + '" ClientId="' + Data[i].ClientId + '" Programid="' + Data[i].Programid + '"        HouseHoldId="' + Data[i].HouseholdId + '" CenterID="' + Data[i].CenterId + '" Transport="' + Data[i].CTransport + '" BMIStatus="' + Data[i].ChildWeight + '" FoodAllergies="' + Data[i].FoodAllergies + '" accesskey=' + Data[i].ClientId + '>Assign Classroom</a>\
                               </td>\
                               <td><a href="javascript:void(0);" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  IsHomeBased="' + Data[i].IsHomeBased + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>\
                              </tr>';
                        }

     

 //                       if(ishomebased)
 //                       {
 //                           tbody = tbody + '<tr><td><input   name="' + Data[i].Name + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '"  type="Checkbox" class="chckClient" onchange="ChangeCheckBox(this,$(this));"  /></td><td>' + Data[i].Name + '</td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
 // ' </td><td>' + Data[i].ProgramType + '</td><td>' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td> <td> ' +
 //'<a href="#"  onclick="LoadFSWorHVList(this);" name="' + Data[i].Name + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '" style="text-decoration:underline;">Schedule Appointment</a> </td>' +
 // '<td><a href="#" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  IsHomeBased="' + Data[i].IsHomeBased + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>' +
 //'</tr>';
 //                       }
 //                       else{
 //                           tbody = tbody + '<tr><td><input   name="' + Data[i].Name + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '"  type="Checkbox" class="chckClient" onchange="ChangeCheckBox(this,$(this));"  /></td><td>' + Data[i].Name + '</td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
 // ' </td><td>' + Data[i].ProgramType + '</td><td>' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td> <td> ' +
 //'<a href="#"  onclick="LoadFSWorHVList(this);" name="' + Data[i].Name + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '" IsHomeBased="' + Data[i].IsHomeBased + '" style="text-decoration:underline;">Assign Classroom</a> </td>' +
 // '<td><a href="#" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  IsHomeBased="' + Data[i].IsHomeBased + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>' +
 //'</tr>';
 //                       }

                      

                    }
                    else {
                        tbody = tbody + '<tr><td>' + Data[i].Name + '</td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
      ' </td><td>' + Data[i].ProgramType + '</td><td>' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td> ' +
     '</tr>';
                    }


                }
                if (_programtype == 0) {
                    if (Data[0].UserList != null && Data[0].UserList.length > 0) {
                        _programtype = 1;
                        for (var i = 0; i < Data[0].UserList.length; i++) {
                            option = option + '<option value="' + Data[0].UserList[i].userId + '">' + Data[0].UserList[i].Name + '</option>';
                        }
                        $('#ddlnurse').find('option').remove().end().append(option);
                        $('#ddlnurse').val('');
                    }
                    else {
                        $('#ddlnurse').find('option').remove();
                    }
                }
                option = "";
                if (_Nurse == 0) {
                    if (Data[0].ProgramsList != null && Data[0].ProgramsList.length > 0) {
                        _Nurse = 1;
                        for (var i = 0; i < Data[0].ProgramsList.length; i++) {
                            option = option + '<option value="' + Data[0].ProgramsList[i].Id + '">' + Data[0].ProgramsList[i].Name + '</option>';
                        }
                        $('#ModalWaitingList').find('#ddlProgramtype').find('option').remove().end().append(option);
                        $('#ddlProgramtype').val('');
                    }
                    else {
                        $('#ddlProgramtype').find('option').remove();
                    }
                }

                var classroomOption='';
                if (Data[0].Classroom != null && Data[0].Classroom.length > 0) {
                    for (var i = 0; i < Data[0].Classroom.length; i++) {
                        if (Data[0].Classroom[i].ActualSeats <= 0) {
                            classroomOption = classroomOption + '<option value="' + Data[0].Classroom[i].ClassroomID + '" disabled="disabled" style="color: red;">' + Data[0].Classroom[i].ClassName + '</option>';
                        }
                        else {
                            classroomOption = classroomOption + '<option value="' + Data[0].Classroom[i].ClassroomID + '">' + Data[0].Classroom[i].ClassName + '</option>';
                        }

                    }
                    $('#ModalWaitingList').find('#ddlclassroom').find('option').remove().end().append(classroomOption);
                    $('#ModalWaitingList').find('#ddlclassroom').val('');

                    $('#ModalWaitingList').find('#HVddlclassroom').find('option').remove().end().append(classroomOption);
                    $('#ModalWaitingList').find('#HVddlclassroom').val('');

                }


                $('#ModalWaitingList').find('#DivWaitingListPopup > tbody').append(tbody);
                if (!$('#ModalWaitingList').hasClass('in'))
                    $('#ModalWaitingList').modal('toggle');
            }
            else {
                $('#ModalWaitingList').find('#DivWaitingListPopup > tbody > tr').remove();
                $('#ModalWaitingList').find('#DivWaitingListPopup').find('#div1').show();
            }


      
            //var $countDiv = $('#ModalWaitingList').find('#slotsCountDiv');
            //if (seatCount != null && option == '4') {


            //    $countDiv.find('#spanAgencyCount').html(seatCount.TotalSlots);
            //    $countDiv.find('#spanRetClientAgency').html(seatCount.ClientsReturningAgency);
            //    $countDiv.find('#spanRetClientCenter').html(seatCount.ClientsReturningCenter);
            //    $countDiv.find('#spanAvailCenter').html(seatCount.AvailableSeats);
            //    $countDiv.find('#spanOpenCenter').html(seatCount.OpenSeats);


            //    $countDiv.show();

            //}
            //else {
            //    $countDiv.hide();
            //}
        }


        var disbilityTypeJson = null;
        //method to bind the disability type//

        //function BindDropdownDisable() {;
        //    $.ajax({
        //        url: HostedDir + "/Home/BindDisabilityType",
        //        type: "POST",
        //        dataType: "json",
        //        secureuri: false,
        //        async: false,
        //        success: function (data) {
        //            //var dts = ''
        //            //$('#pchechkbox').html('');
        //            //for (var i = 0; i < data.list.disabilitytype.length; i++) {
        //            //    dts += '<div class="col-xs-6 col-sm-4" style="width:300px;"><label class="checkbox-inline"><input  type="checkbox" value=' + data.list.disabilitytype[i].Id + ' name="disabilitytype" onclick="bindPrimaryDisability(this);"><span>' + data.list.disabilitytype[i].DisabilityType + '</span></label></div>'
        //            //}
        //            //$('#pchechkbox').html(dts);

        //            disbilityTypeJson = data;

        //        }
        //       , error: function (data) {
        //           customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
        //       }
        //    });
        //}

        function loadDisability(ele) {
          

            

            var $centerId = $(ele).closest('tr').find('td:eq(0)').find('a').attr('accesskey')

            $.ajax({
                url: HostedDir + "/Home/LoadPendingDisableRoster",
                type: "POST",
                data: {
                    Centerid: $centerId,
                    Mode: 'Qualified',
                    sortOrder: "ss",
                    sortDirection: "ss",
                    clientId: '0'
                },
                dataType: "json",
                secureuri: true,
                async: true,
                success: function (data) {
                    debugger;
                    console.log(data);
                    var appendData = null;
                    $('#ModalDisabilityList').find('tbody').html('');
                    if (data != null && data.list!=null && data.list.Rosters != null && data.list.Rosters.length > 0) {
                        $('#ModalDisabilityList').find('#CenterName').html(data.list.Rosters[0].CenterName + '- Qualified Disability Client');


                        $.each(data.list.Rosters, function (i, roster) {

                            var gender = (roster.Gender == '1') ? 'Male' : (roster.Gender == "2") ? 'Female' : 'Other';

                            if (roster.IsWithdrawn == 1) {
                                appendData += '<tr style="color:red;">';
                                appendData += '<td><a href="javascript:void(0);" clientid="' + roster.Eclientid + '"  onclick="LoadNotes(this);" style="text-decoration:underline;cursor:pointer;color:red;">' + roster.Name + '</a></td>';

                            }
                            else {

                                appendData += '<tr>';
                                appendData+='<td><a href="javascript:void(0);" clientid="'+roster.Eclientid+'"  onclick="LoadNotes(this);" style="text-decoration:underline;cursor:pointer;">' + roster.Name + '</a></td>';

                            }

                            appendData+='<td>'+ gender + '</td>\
    <td>'+ roster.DOB + '</td>\
    <td>'+ roster.District + '</td>\
    <td>'+ roster.FSW + '</td>\
    <td>' + roster.ClassroomName + '</td>\
    <td>'+ roster.recordCreated + '</td>\
    </tr>';



                        });

                        $('#ModalDisabilityList').find('tbody').html(appendData);

                    }
                    else {
                        $('#ModalDisabilityList').find('#CenterName').html($(ele).closest('tr').find('td:eq(0)').find('a').html() + '- Qualified Disability Client');

                    }





                    $('#ModalDisabilityList').modal('show');

                }
          , error: function (data) {
              customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
          }
            });
        }

        function loadOverIncome(ele) {
            var $centerId = $(ele).closest('tr').find('td:eq(0)').find('a').attr('accesskey')

            var $centerName = $(ele).closest('tr').find('td:eq(0)').find('a').html();

            $('#ModalOverIncome').find('#centerName').html($centerName+'&nbsp;(<span style="color:#f9c751;">Over Income</span>)');

            sort.column="name"; sort.dir="asc";

            getpaginatedOverIncome(1,"",$centerId,$centerName);
            /*
                        $.ajax({
                            url: HostedDir + '/Home/GetOverIncomeClient',
                            datatype: 'json',
                            type: 'post',
                            async: false,
                            //data: { encCenterId: $centerId },
                            data:JSON.stringify({ encCenterId: $centerId, gparam:globeParam }),
                            success: function (data) {

                                var overIncomeAppend = '';

                                if (data != null && data.childInfo != null && data.childInfo.OverIncomeChildrenList != null && data.childInfo.OverIncomeChildrenList.length > 0) {
                                    $.each(data.childInfo.OverIncomeChildrenList, function (i, child) {

                            var Gender = (child.Gender == '1') ? 'Male' : (child.Gender == '2') ? 'Female' : 'Other';

                            var parentguard = '';


                            if (data.parentNameList.length > 0) {

                                var parentarray = [];

                                            $.each(data.parentNameList, function (k, parent) {
                                                if (child.ClientId == parent.Value)
                                                    parentarray.push(parent.Text);
                                            });
                                            parentguard = '<td data-title="Parent Name"><p class="tbl-elipsis2">' + parentarray.join() + '</p></td>';
                                        }


                                        overIncomeAppend += '<tr>\
                                                          <td><p class="tbl-elipsis2">'+ child.ClientName + '</p></td>\
                                                          <td>'+ Gender + '</td>\
                                                           <td>' + child.Dob + '</td>\
                                                            '+ parentguard + '\
                                                            <td>' + child.ChildIncome + '</td>\
                                                            </tr>';
                                    });
                                }

                    $('#ModalOverIncome').find('tbody').html(overIncomeAppend);

                    $('#ModalOverIncome').find('#centerName').html($centerName);
                    $('#ModalOverIncome').modal('show');
                },
                error: function (data) {
                   
                    customAlert('Error occurred. Please, try again later.');

                }

                        });

                        */


        }


        $(document).on("change", "#ddlpaging_oi", function (e) {
            e.preventDefault();
            var _nxtPg = $(this).val();

            getpaginatedOverIncome( _nxtPg, globeParam.search, globeParam.Centerid,globeParam.CenterName);

        });

        $(document).on("change", "#ddlpagetodisplay_oi", function (e) {

            // var _type = $(this).prop('id');
            //  globeParam.RequestedPage=1;
            $("#ddlpaging_oi").val(1);
            globeParam.RequestedPage=1;
            getpaginatedOverIncome( globeParam.RequestedPage, globeParam.search, globeParam.Centerid,globeParam.CenterName);
        });


        function drawrOverincomePagedropdown(TotalRecord, pagno) {

            var _psize = parseInt($("#ddlpagetodisplay_oi").val());
            var _pcount = Math.ceil(TotalRecord / _psize); //ceil- Round a number upward to its nearest integer:

            $("#ddlpaging_oi").html('');
            for (var i = 1; i <= _pcount; i++) {

                $("#ddlpaging_oi").append('<option value="' + i + '">' + i + '</option>')
            }

            $("#ddlpaging_oi").val(pagno);


        };

        function getpaginatedOverIncome(RequestedPage,search,$centerId,$centerName){


            globeParam.RequestedPage = RequestedPage;
            globeParam.search = search, globeParam.Centerid = $centerId,globeParam.CenterName;


            $.ajax({
                url: HostedDir + '/Home/GetOverIncomeClient',
                datatype: 'json',
                contentType: "application/json;",
                type: 'post',
                async: false,
                //data: { encCenterId: $centerId },
                data:JSON.stringify({ encCenterId: $centerId,
                    // gparam:globeParam
                    Gparam: {
                        PageSize: $("#ddlpagetodisplay_oi").val(),
                        RequestedPage: RequestedPage,
                        SortColumn:sort.column,
                        SortOrder: sort.dir,
                        Search: search
                    }

                }),
                // success: function (data) {
                success: function (data) {

                    var overIncomeAppend = '';

                    if (data != null && data.childInfo != null && data.childInfo.OverIncomeChildrenList != null && data.childInfo.OverIncomeChildrenList.length > 0) {

         
                        if (data.TotalCount > 0) {
                            drawrOverincomePagedropdown(data.TotalCount, RequestedPage)
                        }

                        $.each(data.childInfo.OverIncomeChildrenList, function (i, child) {

                            var Gender = (child.Gender == '1') ? 'Male' : (child.Gender == '2') ? 'Female' : 'Other';

                            var parentguard = '';


                            if (data.parentNameList.length > 0) {

                                var parentarray = [];

                                $.each(data.parentNameList, function (k, parent) {
                                    if (child.ClientId == parent.Value)
                                        parentarray.push(parent.Text);
                                });
                                parentguard = '<td data-title="Parent Name"><p class="tbl-elipsis2">' + parentarray.join() + '</p></td>';
                            }


                            overIncomeAppend += '<tr>\
                                              <td><p class="tbl-elipsis2">'+ child.ClientName + '</p></td>\
                                              <td>'+ Gender + '</td>\
                                               <td>' + child.Dob + '</td>\
                                                '+ parentguard + '\
                                                <td>' + child.ChildIncome + '</td>\
                                                </tr>';
                        });
                    }

                    $('#ModalOverIncome').find('tbody').html(overIncomeAppend);

                   // $('#ModalOverIncome').find('#centerName').html($centerName+'&nbsp;(<span style="color:#f9c751;">Over Income</span>)');
                    $('#ModalOverIncome').modal('show');
                },
                error: function (data) {

                    customAlert('Error occurred. Please, try again later.');

                }

            });

        };


        //method to bind the notes from db//
        //function LoadNotes(Object) {
        //    $.ajax({
        //        url: HostedDir + "/Home/LoadNotes",
        //        type: "POST",
        //        data: {
        //            Clientid: $(Object).attr("clientid")
        //        },
        //        dataType: "json",
        //        secureuri: false,
        //        async: false,
        //        success: function (data) {

        //            if (data != null) {
        //                debugger;

        //                BindSelectedDisabilities(data,Object);
        //                BindNotesHtml(data);
        //               BindDocumentsHtml(data);
        //            }
        //        }
        //       , error: function (data) {
        //           customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
        //       }
        //    });
        //}


        function hideDisabilityDiv(ele) {

            $(ele).closest('#divChangeStatus').find('.checkbox-inline').html('');
            $(ele).closest('#divChangeStatus').hide();
        }



        //function BindSelectedDisabilities(data,Object)
        //{
        //    var $disabilityModal = $('#ModalDisabilityList');
        //    var $divChangeStatus = $disabilityModal.find('#divChangeStatus');
        //    $divChangeStatus.find('#divddlDisabilityType').show();

        //    var disabilityType = '';
        //    var disability = disbilityTypeJson.list.disabilitytype.find(function (item, i) {
        //        if (item.Id === parseInt(data.list.disablenotes[0].NotesList[0].DisabilityTypeID)) {
        //            disabilityType = item.DisabilityType;

        //            return i;
        //        }
        //    });
        //    $divChangeStatus.find('#pchechkbox').html(disabilityType);
        //    var _primaryDisability = '';
        //    var primaryDisability = disbilityTypeJson.list.disabilitytype.find(function (item, i) {
        //        if (item.Id == parseInt(data.list.disablenotes[0].NotesList[0].PrimaryDisability)) {
        //            _primaryDisability = item.DisabilityType;
        //            return i;
        //        }
        //    });
        //    $divChangeStatus.find('#primaryDisabilityLbl').html(_primaryDisability);



        //    var $specialServiceDisability = [];

        //    var disabilityList = data.list.disablenotes[0].NotesList[0].SpecialServiceDisability.split(',');

        //    $.each(disabilityList, function (i, dis) {


        //        var disService = disbilityTypeJson.list.disabilitytype.find(function (item, i) {
        //            if (item.Id == parseInt(dis)) {
        //                $specialServiceDisability.push(item.DisabilityType);
        //                return i;
        //            }
        //        });
        //    });


        //    if ($specialServiceDisability.length > 0) {
        //        $divChangeStatus.find('#specialServiceDisability').html($specialServiceDisability.join(', '));

        //    }
        //    else {
        //        $divChangeStatus.find('#specialServiceDisability').html('Not Available');

        //    }

        //    $divChangeStatus.find('#lblClientName').html($(Object).html());

        //    $divChangeStatus.show();


        //}


        ////method to bind the notes to modal popup//
        //function BindNotesHtml(data) {

        //    var $disabilityModal = $('#ModalDisabilityList');

        //    if (data.list.disablenotes == null) {
        //        $disabilityModal.find('#tblNotesList > tbody > tr').remove();
        //        $disabilityModal.find('#divnodata').show();
        //    }
        //    else {
        //        $disabilityModal.find('#divnodata').hide();
        //        $disabilityModal.find('#disableheader').show();
        //        $disabilityModal.find('#tblNotesList > tbody > tr').remove();

        //        for (var i = 0; i < data.list.disablenotes.length; i++) {

        //            if (data.list.disablenotes[i].NotesList.length > 0) {
        //                $.each(data.list.disablenotes[i].NotesList, function (k, notes) {
        //                    var tr = "";
        //                    tr += "<tr>";
        //                    tr += '<td height="50">' + notes.Notes + '</td>';
        //                    tr += '<td height="50">' + notes.Name + '</td>';
        //                    tr += '<td height="50">' + notes.Createdon + '</td>';
        //                    tr += "</tr>";
        //                    $disabilityModal.find('#tblNotesList > tbody').append(tr);
        //                });
        //            }
        //        }


        //    }
        //}

        ////method to bind the disability documents to modal popup//
        //function BindDocumentsHtml(data) {

        //    var $disabilityModal = $('#ModalDisabilityList');

        //    if (data.list.disablenotes == null) {

        //        $disabilityModal.find('#Docdivnodata').show();
        //        $disabilityModal.find('#tblDocumentList > tbody > tr').remove();
        //    }
        //    else {
        //        $disabilityModal.find('#Docdivnodata').hide();
        //        $disabilityModal.find('#disableheader').show();
        //        $disabilityModal.find('#tblDocumentList > tbody > tr').remove();
        //        for (var i = 0; i < data.list.disablenotes.length; i++) {
        //            if (data.list.disablenotes[i].DocumentList.length > 0) {

        //                var tr = "";
        //                var documentDesc = '';
        //                var docName = '';

        //                $.each(data.list.disablenotes[i].DocumentList, function (j, notes) {

        //                    if (notes.DisableDocumentName != '') {

        //                        docName += '<tr><td height="50">\
        //                                    <a title="Click here to open document" style="text-decoration:underline;font-size:17px;cursor:pointer;" href="/Home/getDisableDocument/' + notes.NotesId + '"> ' + notes.DisableDocumentName + '<i class="fa fa-arrow-down"></i></a></td>\
        //                                    <td height="50">'+ notes.DocumentDescription + '</td></tr>';
        //                    }
        //                });
        //                if (docName != '') {
        //                    $disabilityModal.find('#tblDocumentList > tbody').html(docName);
        //                    $disabilityModal.find('#Docdivnodata').hide();
        //                }
        //                else {
        //                    $disabilityModal.find('#Docdivnodata').show();
        //                    $disabilityModal.find('#tblDocumentList > tbody > tr').remove();
        //                }


        //            }
        //            else {
        //                $disabilityModal.find('#Docdivnodata').show();
        //                $disabilityModal.find('#tblDocumentList > tbody > tr').remove();
        //            }
        //        }
        //    }
        //}


        function ShowHealthstaff() {
            //  _Object = Aobject;
            var clientname = $(_Object).closest("tr").find("td:eq(0)").text();
           
            if ($('#ModalWaitingListAll').is(':visible') && ($('#ModalWaitingListAll').find('.selAssignFSW').val() == "0"|| $('#ModalWaitingListAll').find('.selAssignHV').val()=="0")) {
                customAlert("Please select family advocate");
                return false;
            }
            else if ($('#ModalWaitingList').is(':visible') && ($('#ModalWaitingList').find('.selAssignFSW').val() == "0" || $('#ModalWaitingList').find('.selAssignHV').val() == "0")) {
                customAlert("Please select family advocate");
                return false;
            }

            else {
                BootstrapDialog.confirm('Click OK to move ' + clientname + ' to acceptance process', function (result) {
                    if (result) {
                     
                        var familyAdvocateId;
                        var parent;
                        if ($('#ModalWaitingList').is(':visible')) {
                            parent = '#ModalWaitingList';
                        }
                        else if ($('#ModalWaitingListAll').is(':visible')) {
                            parent = '#ModalWaitingListAll';
                        }


                        if ($('.DivForHV').is(':visible')) {
                            familyAdvocateId = $(parent).find('.selAssignHV :selected').val();
                        }
                        else {
                            familyAdvocateId = $(parent).find('.selAssignFSW :selected').val();
                        }
                        $.ajax({
                            url: HostedDir + "/Agencyuser/SaveAcceptanceprocess",
                            type: "POST",
                            data: {
                                Clientid: $(_Object).attr("clientid"),
                                UserFSWId: familyAdvocateId,
                                householdid: $(_Object).attr("householdid"),
                                centerid: $(_Object).attr("centerid"),
                                Programid: $(_Object).attr("programid"),

                            },
                            dataType: "json",
                            secureuri: false,
                            async: false,
                            traditional: true,
                            success: function (response) {
                                if (response == 1) {
                                    customAlert("Record saved successfully.");
                                    $('#Acceptancediv').hide();
                                    $('#ddlnurse').val('');
                                    $(_Object).closest('tr').remove();
                                    if ($('#DivWaitingListPopup > tbody tr').length < 1) {
                                        $('#div1').show();
                                    }
                                    if ($(WaitObject).text() != "" && $(WaitObject).text() != "0") {
                                        $(WaitObject).text(parseInt($(WaitObject).text()) - 1);
                                        $(WaitObject).closest('tr').find('td a').eq(5).text(parseInt($(WaitObject).closest('tr').find('td a').eq(5).text()) + 1);
                                        $(WaitObject).closest('tr').find('td a').eq(4).text(parseInt($(WaitObject).closest('tr').find('td a').eq(4).text()) - 1);
                                    }
                                    if ($(WaitObject).text() == "0") {
                                        $(WaitObject).attr("href", "#");
                                    }
                                    setTimeout(function () {
                                        window.location.reload();
                                    }, 800);
                                }
                                if (response == 2) {
                                    customAlert("No available slots. Please contact your administrator for assistance.");
                                }
                            }
                  , error: function (response) {
                      customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                  }
                        });

                    }
                });
                $('#Acceptancediv').hide();
                $('#Acceptancediv').focus();
            }


        }

        function GetUserList(ele) {
            $(ele).find('#Acceptancediv').hide();
            if (_centerid != null && _option != null) {
                $.ajax({
                    url: HostedDir + "/Home/GetclientWaitingList",
                    type: "POST",
                    data: {
                        Centerid: _centerid,
                        Option: _option,
                        Programtype: $(ele).find('#ddlProgramtype').val()
                    },
                    dataType: "json",
                    secureuri: false,
                    async: true,
                    beforeSend: function () { $('#spinner').show() },
                    success: function (Data) {
                        $('#spinner').hide();

                       
                            BindClientlist(Data,_option);

                      

                    }
				, error: function (Data) {
				    $('#spinner').hide();
				    customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
				}
                });

            }
        }
        function ClearUserList(ele) {
            $(ele).find('#Acceptancediv').hide();
            $(ele).find('#ddlProgramtype').val('');
            if (_centerid != null && _option != null) {
                $.ajax({
                    url: HostedDir + "/Home/GetclientWaitingList",
                    type: "POST",
                    data: {
                        Centerid: _centerid,
                        Option: _option,
                        Programtype: 0
                    },
                    dataType: "json",
                    secureuri: false,
                    async: false,
                    success: function (Data) {

                        BindClientlist(Data._clientWaitingList,_option);
                       
                   
                    }
				, error: function (Data) {
				    customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
				}
                });

            }
        }
        function SaveWaiting() {
            //debugger
            var count = 0;
            var count1 = 0;
            var hid;
            var clientarray = [];
            var householdids = [];
            var familyAdvocate = [];
            var userid = '';
            cleanValidation();
            isValid = true;

            $('#DivWaitingListPopup > tbody > tr').each(function () {
                //debugger
                if ($(this).find('td:eq(0)').find('input[type="checkbox"]').prop("checked")) {
                    count = count + 1;
                    clientid = ($(this).find('td:eq(0)').find('input[type="checkbox"]').attr("clientid"));
                    userid = $('#dvClientName').find('span[id=' + clientid + ']').next('select').val();
                    clientarray.push(clientid + ',' + userid);


                    hid = ($(this).find('td:eq(0)').find('input[type="checkbox"]').attr("householdid"));
                    householdids.push(hid);

                }
            });
            $('.households').each(function () {
                if ($(this).val() != "0") {
                    count1 = count1 + 1;
                    familyAdvocate.push($(this).val());
                }
            });

            var i = -1, j = 0;
            for (var a = 0 ; a < householdids.length; a++) {
                var cls = '.household' + householdids[a];
                $(cls).each(function () {
                    var comp = $(this).val();
                    j = 0;
                    $(cls).each(function () {

                        if ($(this).val() != comp && i >= j) {
                            //customAlert("One household can have one family advocate.");
                            //  planValidation(cls);
                            isValid = false;
                        }
                        j++;
                    });
                    i++;
                });
            }

            if (count == 0) {
                isValid = false;
                customAlert("Please select client.");
                return isValid;
            }
            else if (count1 == 0 || count1 != householdids.length) {
                isValid = false;
                customAlert("Please select family advocate for selected clients");
                return isValid;
            }
            else if (isValid == 0) {
                isValid = false;
                customAlert("One household can have one family advocate.");
                return isValid;
            }

            else {
                if (_Object != null && _centerid != null) {

                    BootstrapDialog.confirm('Click OK to move clients to acceptance process', function (result) {
                        if (result) {




                            $.ajax({
                                url: HostedDir + "/Agencyuser/SaveMultipleAcceptanceprocess",
                                type: "POST",
                                data: {
                                    // Clientid: $(_Object).attr("clientid"),
                                    ClientList: clientarray,

                                    Usernurseid: $('#ddlnurse').val(),
                                    householdid: $(_Object).attr("householdid"),
                                    centerid: $(_Object).attr("CenterID"),
                                    Programid: $(_Object).attr("programid"),

                                },
                                dataType: "json",
                                secureuri: false,
                                async: false,
                                traditional: true,
                                success: function (response) {
                                    if (response == 1) {
                                        customAlert("Record saved successfully.");
                                        $('#Acceptancediv').hide();
                                        $('#ddlnurse').val('');
                                        $(_Object).closest('tr').remove();
                                        if ($('#DivWaitingListPopup > tbody tr').length < 1) {
                                            $('#div1').show();
                                        }
                                        if ($(WaitObject).text() != "" && $(WaitObject).text() != "0") {
                                            $(WaitObject).text(parseInt($(WaitObject).text()) - 1);
                                            $(WaitObject).closest('tr').find('td a').eq(5).text(parseInt($(WaitObject).closest('tr').find('td a').eq(5).text()) + 1);
                                            $(WaitObject).closest('tr').find('td a').eq(4).text(parseInt($(WaitObject).closest('tr').find('td a').eq(4).text()) - 1);
                                        }
                                        if ($(WaitObject).text() == "0") {
                                            $(WaitObject).attr("href", "#");
                                        }
                                        setTimeout(function () {
                                            window.location.reload();
                                        }, 800);
                                    }
                                    if (response == 2) {
                                        customAlert("No available slots. Please contact your administrator for assistance.");
                                    }
                                }
					   , error: function (response) {
					       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
					   }
                            });





                        }
                    });
                }
            }
        }
        function CancelWaiting() {
            $('.AssignFSW').hide();
            $('.selAssignFSW').val('');
            $('.selAssignHV').val('');
            $('#Acceptancediv').hide();
            $('#dvClientName').html("");
            $('.chckClient').prop('checked', false);

            multipleArr = [];
        }




        $(document).on("click","#btnSearchauto",function(e){
            e.preventDefault();
            var _type = $(this).data("type");;
            var svale = $("#searchclient-input").val();
            var cid = $(this).data("Centerid");

            ClientPendinListwithPagination(_type,1,svale,cid);
        });


        function loadclientPendinglist(Object, Centerid, type) {

             sort = {  //reset sorting
                column: "name",
                dir: "asc"
            };

             WaitObject = Object;


          //  $('#PendingWaiting').hide();
            //$("#DivWaitinglist > tbody >tr").each(function () {
            //    $(this).find('input:text,select').val("");
            //    $(this).find('input[type = checkbox]').prop("checked", false);
            //});

            var _centername = $(Object).closest("tr").find("td:first a").text();

            if(type==1)
                $('#CenterNameclient').html(_centername+"&nbsp;(<span style='color:#f9c751;'>Pending</span>)");

            else if(type==3)
                $('#CenterNameclient').html(_centername+"&nbsp;(<span style='color:#f9c751;'>Over-Income Pending</span>)");


            // $('#CenterNameclient').text();

            $("#loadclientPendinglist").data("type", type);
            ClientPendinListwithPagination(type, 1, "", Centerid);
            $("#btnSearchauto").data("type", type); $("#btnSearchauto").data("Centerid", Centerid);
        };



        function ClientPendinListwithPagination(type, RequestedPage, search, Centerid) {
            //declare globe parameter for get datagrid
            globeParam.type = type, globeParam.RequestedPage = RequestedPage,
            globeParam.search = search, globeParam.Centerid = Centerid;

            //  var pno = $("#ddlpaging").val();
            $.ajax({
                url: HostedDir + "/Home/LoadClientPendinglist",
                type: "POST",
                beforeSend: function () { $("#spinner").show(); },
                data: JSON.stringify({
                    Centerid: Centerid,
                    //Type: 1
                    Type: type,
                    Gparam: {
                        // PageSize:$("#ddlpagetodisplay").val(),
                        PageSize: $("#ddlpagetodisplay").val(),
                        //  RequestedPage:pno,
                        RequestedPage: RequestedPage,
                     //   SortOrder: 'asc',
                        // SortColumn: 'name',
                        SortColumn:sort.column,
                        SortOrder: sort.dir,
                        Search: search
                    },

                }),
                //data: JSON.stringify({
                //    Centerid: Centerid,
                //    //Type: 1
                //    Type: type

                //}),
                dataType: "json",
                contentType: "application/json;",
                // secureuri: false,
                // async: false,
                success: function (Data) {
                    BindClientPendinglist(Data.data, type, Data.TotalRecords, RequestedPage);
                }
       , error: function (Data) {
           customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
       },
                complete: function (res) {

                    $("#spinner").hide();
                }
            });




        }

        /*
                function loadclientPendinglist(Object, Centerid,type) {
                    WaitObject = Object;
                    $('#PendingWaiting').hide();
                    $("#DivWaitinglist > tbody >tr").each(function () {
                        $(this).find('input:text,select').val("");
                        $(this).find('input[type = checkbox]').prop("checked", false);
                    });
                    $('#CenterNameclient').text($(Object).closest("tr").find("td:first a").text());

                    $("#loadclientPendinglist").data("type",type);

                    $.ajax({
                        url: HostedDir + "/Home/LoadClientPendinglist",
                        type: "POST",
                        data:  JSON.stringify( {
                            Centerid: Centerid,
                            //Type: 1
                            Type: type,
                            page: {
                                PageSize:10,
                                RequestedPage:1,
                                SortOrder:'asc',
                            SortColumn:'name'
                            }
                        }),
                        //data: JSON.stringify({
                        //    Centerid: Centerid,
                        //    //Type: 1
                        //    Type: type

                        //}),
                        dataType: "json",
                        contentType: "application/json;",
                       // secureuri: false,
                       // async: false,
                        success: function (Data) {
                            BindClientPendinglist(Data,type);
                        }
                       , error: function (Data) {
                           customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                       }
                    });
                }



                */





        $(document).on("click", "#First,#Back,#Next,#Last", function (e) {
            e.preventDefault();

            var _modalType = $(this).parents('div.modal').attr('id');
            var _type = $(this).prop('id');
            var _curentPg = parseInt($("#ddlpaging").val());
            var _lastpg = parseInt($("#ddlpaging option:last").val());

            if (_modalType == "Modalrejected") { //returned modal

                _curentPg = parseInt($("#ddlpaging-rej").val());
                _lastpg = parseInt($("#ddlpaging-rej option:last").val());

            } else if (_modalType == "ModalAcceptanceList") {//accepted Modal

                _curentPg = parseInt($("#ddlpaging_accept").val());
                _lastpg = parseInt($("#ddlpaging_accept option:last").val());

            } else if( _modalType == "ModalOverIncome"){
                _curentPg= $("#ddlpaging_oi").val();
                _lastpg = parseInt($("#ddlpaging_oi option:last").val());

            } else if( _modalType == "ModalWaitingListAll"){
                _curentPg= $("#ddlpaging_waiting").val();
                _lastpg = parseInt($("#ddlpaging_waiting option:last").val());

            }

            switch (_type) {
                case "First":
                    _curentPg = 1;
                    break;
                case "Back":
                    _curentPg--;
                    break;
                case "Next":
                    _curentPg++;
                    break;
                case "Last":
                    _curentPg = _lastpg;
                    break;

            };

            if (_modalType == "Modalrejected") {

                $("#ddlpaging-rej").val(_curentPg);
                ClientRejectedListwithPagination(globeParam.type, _curentPg, globeParam.search, globeParam.Centerid);
            } else if (_modalType == "ModalAcceptanceList") {


                $("#ddlpaging_accept").val(_curentPg);
                ClientAcceptanceListwithPagination(gparamAccept.Option, _curentPg, gparamAccept.search, gparamAccept.Centerid);

            }else if( _modalType == "ModalOverIncome"){

                $("#ddlpaging_oi").val(_curentPg);
                getpaginatedOverIncome(_curentPg,globeParam.search, globeParam.Centerid,globeParam.Centername);

            }else if( _modalType == "ModalWaitingListAll"){

                $("#ddlpaging_waiting").val(_curentPg);
                // getpaginatedOverIncome(_curentPg,globeParam.search, globeParam.Centerid,globeParam.Centername);

            }

            else{
                $("#ddlpaging").val(_curentPg);
                ClientPendinListwithPagination(globeParam.type, _curentPg, globeParam.search, globeParam.Centerid);
            }

            if (_curentPg == 1) {
                $("#Back").prop("disabled", true);
            } else {
                $("#Back").prop("disabled", false);
            }

            if (_lastpg == _curentPg) {
                $("#Next").prop("disabled", true);
            } else {
                $("#Next").prop("disabled", false);
            }


        });

        


        $(document).on("click", '[data-sort="true"]', function (e) {
            e.preventDefault();
            var _clmnName = $(this).data("name");
            var _modalType = $(this).parents('div.modal').attr('id');

            // console.log(_clmnName);
            if (sort.column == _clmnName) {
                if (sort.dir == "asc") {
                    sort.dir = "desc";
                } else {
                    sort.dir = "asc";
                }
            } else {
                sort.column = _clmnName; sort.dir = "asc";
            }

            console.log(sort);

           // $('[data-sort="true"] span').removeClass('fa-sort-amount-asc fa-sort-amount-desc');
            //$('[data-name="' + sort.column + '"] span').addClass('fa-sort-amount-' + sort.dir);
            $('[data-sort="true"] i').css("display","none");
            if(sort.dir == 'asc'){
                $('[data-name="' + sort.column + '"] i.i-asc').css("display","inline-block");
            }else{
                $('[data-name="' + sort.column + '"] i.i-desc').css("display","inline-block");
            }
                //.addClass('fa-sort-amount-' + sort.dir);
            //refreshTagReport(1, $("#page-length-drop").val());
            var _curentPg = 1;
            if (_modalType == "Modalrejected") {

                _curentPg = $("#ddlpaging-rej").val();
                ClientRejectedListwithPagination(globeParam.type, _curentPg, globeParam.search, globeParam.Centerid);
            } else if (_modalType == "ModalAcceptanceList") {


                _curentPg= $("#ddlpaging_accept").val();
                ClientAcceptanceListwithPagination(gparamAccept.Option, _curentPg, gparamAccept.search, gparamAccept.Centerid);

            }else if( _modalType == "ModalOverIncome"){
                _curentPg= $("#ddlpaging_oi").val();
                getpaginatedOverIncome(_curentPg,globeParam.search, globeParam.Centerid,globeParam.Centername);

            } else {
                _curentPg= $("#ddlpaging").val();
                ClientPendinListwithPagination(globeParam.type, _curentPg, globeParam.search, globeParam.Centerid);
            }


        });


        $(document).on("change", "#ddlpagetodisplay", function (e) {

            //  var _type = $("#btnSearchauto").data("type");;
            // var svale = $("#searchclient-input").val();
            // var cid =  $("#btnSearchauto").data("Centerid");

            //  ClientPendinListwithPagination(_type,1,svale,cid);

            var _type = $(this).prop('id');
            ClientPendinListwithPagination(globeParam.type, 1, globeParam.search, globeParam.Centerid);
        })

        $(document).on("change", "#ddlpaging", function (e) {
            e.preventDefault();
            var _nxtPg = $(this).val();

            ClientPendinListwithPagination(globeParam.type, _nxtPg, globeParam.search, globeParam.Centerid);


        });

        function drawPagedropdown(TotalRecord, pagno) {

            var _psize = parseInt($("#ddlpagetodisplay").val());
            var _pcount = Math.ceil(TotalRecord / _psize); //ceil- Round a number upward to its nearest integer:

            $("#ddlpaging").html('');
            for (var i = 1; i <= _pcount; i++) {

                $("#ddlpaging").append('<option value="' + i + '">' + i + '</option>')
            }

            $("#ddlpaging").val(pagno);


        };

        function BindClientPendinglist(Data, type, totalrec, pno) {

            $("#trecord").text(Data.length);
            if (totalrec > 0) {
                drawPagedropdown(totalrec, pno)
            }

            if (Data != null && Data.length > 0) {
                // ;
                $('#div2').hide();
                var tbody = "";
                var option = "";
                $('#DivPendingclientlist > tbody > tr').remove();
                for (var i = 0; i < Data.length; i++) {

                    if(Data[i].IsFutureApplication==true)
                    {
                        tbody=tbody+'<tr data-index="' + i + '"  style="color:green;">';
                    }
                    else{

                        tbody = tbody + '<tr data-index="' + i + '">';

                    }

                        
                        
                       tbody=tbody+' <td  class="name-clmn"> <span class="name-clmn" style="text-overflow: ellipsis; overflow: hidden;display: inline-block;border:none;white-space:nowrap;">' + Data[i].Name + '</span></td>';
                    if (Data[i].IsReviewed != 0)
                        //  tbody = tbody + ' <td><a data-index="' + i + '" data-type="' + type + '" href="#DivPendingStatusTrack" class="scroll-click" onclick="AcceptanceStatus(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  PopupFrom="1"  style="text-decoration:underline;">Reviewed</a></td>';
                        tbody = tbody + ' <td><a data-index="' + i + '" data-type="' + type + '" href="javascript:void(0)" class="scroll-click" onclick="AcceptanceStatus(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  PopupFrom="1"  style="text-decoration:underline;">Reviewed</a></td>';
                    else
                        tbody = tbody + ' <td>Not Reviewed</td>';



                    tbody = tbody + '  <td class="pt-clmn">' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
                  ' </td><td class="prg-clmn">' + Data[i].ProgramType + '</td><td class="prg-clmn">' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td>';


                    if ('@fswHV' == '1') {
                        // tbody = tbody + '<td><a href="#" onclick="DeleteClient(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>';
                        //   tbody = tbody + '<td class="remv-clmn"><a href="#" onclick="DeleteClient(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  style="font-size: 18px;" class="fa fa-trash"></a> </td>';

                        tbody = tbody + '<td class="remv-clmn"><a href="#" onclick="DeleteClient(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '">Remove</a> </td>';
                    }
                    tbody = tbody + '</tr><tr class="status-row" style="display:none;"><td colspan="8" ></td></tr>';

                }


                $('#DivPendingclientlist > tbody').append(tbody);
                if (!$('#ModalClientPendingList').hasClass('in'))
                    $('#ModalClientPendingList').modal('toggle');
            }
            else {
                $('#DivPendingclientlist > tbody > tr').remove();
                $('#div2').show();
            }
        }




        function AcceptanceStatus(Object) {

            var type = $(Object).data('type'); //1-> Pending(Y100), 3-> IO-Pending(Y106), all-OI-returned

            // var parentTr = $(Object).parents('tr');

            var index = $(Object).data('index');
            var popupType = $(Object).attr("popupfrom");
            if (type == "all" && popupType == "3") {

                var _cid = $(Object).attr("clientid");
                var _hid = $(Object).attr("householdid");

                $('#spinner').show();

                window.location.href = "@Url.Action("DisableYakkr", "Home")?cid=" + _cid + "&hid="+_hid+"";
                
            }else{

            //hide div when click on already opened
            //  var stRow = $('#DivPendingclientlist tr[data-index="'+index+'"]').next('.status-row');
            var stRow = $(Object).parents('tr[data-index="' + index + '"]').next('.status-row');
            if (stRow && stRow.css("display") != "none") {
                stRow.slideUp();
                return false;
            }


            //  index += 1;
            // console.info(parentTr);

            //   parentTr.after('<tr> <td colspan="8"> Status Div </td></tr>');

            //  $('#ASClientName').text("Acceptance Status for "+$(Object).closest("tr").find("td:first a").text());
            $('#DivPendingStatusTrack').find('.lblClient').text("Acceptance Status for " + $(Object).closest("tr").find("td:first ").text());
            $('#DivAcceptedListStatusTrack').find('.lblClient').text("Acceptance Status for " + $(Object).closest("tr").find("td:first a").text());

            $('#DivRejectedStatusTrack').find('.lblClient').text("Rejected Status for " + $(Object).closest("tr").find("td:first ").text());

            var _cname = $(Object).closest("tr").find("td:first ").text();

            $.ajax({
                url: HostedDir + "/AgencyUser/GetAcceptanceStatus",
                type: "POST",
                data: {
                    Clientid: $(Object).attr('ClientId'),
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (response) {

                    console.log(response);
                    BindAcceptanceStatus(response, $(Object).attr('ClientId'), $(Object).attr('PopupFrom'), type, index, _cname);



                }
          , error: function (response) {
              customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
          }
            });


        }

        }
        function BindAcceptanceStatus(Data, clientid, popuptype, type, index, childname) {



            $('#PendingWaiting').hide();

            $('#AcceptanceDivAppend').html("");
            $('#AcceptedListDivAppend').html("");
            $('#RejectedDivAppend').html("");
            var _status = popuptype == ""
            var _Tempstr = '<h2 class="panel-sec-title lblClient" >Acceptance Status for ' + childname + '</h2>';
            if (Data != null && Data.length > 0) {
                var DivContent = "", tabContent = "", tabRow = "";;

                //  var _ovincome = Data.find(x=>x.PriorityLevel == 10);
                var _ovincome = Data.filter(x=>x.PriorityLevel > 9);

                if (type == 3) {            //IO - Pending(Y106)
                    renderOverincomeStatus(_ovincome, popuptype, index, _Tempstr);
                    return false;
                }

                for (var i = 1; i < Data.length; i++) {
                    if (Data[i].PriorityLevel > 9) continue;

                    DivContent = "", tabContent = "", tabRow = "";;
                    DivContent = $('#GetAppendDiv').html();
                    //DivContent = DivContent.replace('#collapse13', "#collapse" + (i + 1))
                    //DivContent = DivContent.replace('collapse13', "collapse" + (i + 1))
                    DivContent = DivContent.replace('#collapse13', "#collapse-" + type + "-" + (i + 1))
                    DivContent = DivContent.replace('collapse13', "collapse-" + type + "-" + (i + 1))
                    DivContent = DivContent.replace('#accordion13', "#accordion-" + type + "-" + (i + 1));
                    DivContent = DivContent.replace('HeadingRoleName', Data[i].RoleName);
                    DivContent = DivContent.replace('CurrentStatus', Data[i].IsAccepted);
                    DivContent = DivContent.replace('ReviewerLevel', Data[i].PriorityLevel);
                    var Hstatus = '';

                    if (Data[i].IsAccepted == 'Accepted') {
                        Hstatus = ' <span style="background: #4CAF50;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                    }
                    else if (Data[i].IsAccepted == 'Rejected') {
                        Hstatus = ' <span style="background: #e04412;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                    }
                    else if ((Data[i].IsAccepted == 'Pending')) {
                        Hstatus = ' <span style="background: #dca709;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                    }
                    DivContent = DivContent.replace('HeadingStatus', Hstatus);
                    DivContent = DivContent.replace('RequestDate', Data[i].AcceptanceStartDate);
                    DivContent = DivContent.replace('UserReason', Data[i].Reason);
                    DivContent = DivContent.replace('ReviewId', 'ReviewId' + (i + 1));
                    if (Data[i].IsAccepted == "Rejected" && Data[i].IsReviewAgain != 1 && popuptype === "1")
                        DivContent = DivContent.replace('ReviewAgain', '<a href="#" onclick="ReviewAgainClient(this)" data-id="' + (i + 1) + '" data-ClientId="' + clientid + '" data-RoleId="' + Data[i].RoleId + '" >Click here to Review Again</a>');
                    else if (Data[i].IsReviewAgain == 1 && popuptype === "1")
                        DivContent = DivContent.replace('ReviewAgain', '<span style="color:#a52677;"> Requested to review again</span>');

                    else
                        DivContent = DivContent.replace('ReviewAgain', '--');

                    if (Data[i].AppNotes != null && Data[i].AppNotes.length > 0) {
                        var tr = "<tbody>";
                        for (var j = 0; j < Data[i].AppNotes.length; j++) {

                            tr += "<tr>";
                            tr += '<td>' + Data[i].AppNotes[j].notes + '</td>';
                            tr += '<td>' + Data[i].AppNotes[j].Name + '</td>';
                            tr += '<td>' + Data[i].AppNotes[j].CreatedOn + '</td>';
                            tr += '<td>' + Data[i].AppNotes[j].AppStatus + '</td>';
                            tr += "</tr>";
                        }
                        DivContent = DivContent.replace("<tbody>", tr);
                    }
                    else {
                        var tr = "";
                        tr += "<tbody><tr>";
                        tr += "<td colspan='4' style=' text-align: center; color: #db4437;'>No record found</td>";
                        tr += "</tr>";
                        DivContent = DivContent.replace("<tbody>", tr);
                    }
                    /*  switch (popuptype) {
                          case "1":
                              $('#AcceptanceDivAppend').append(DivContent);
                              break;
                          case "2":
                              $('#AcceptedListDivAppend').append(DivContent);
                              break;
                          case "3":
                              $('#RejectedDivAppend').append(DivContent);
                              break;

                      }
                      */
                    _Tempstr += DivContent;
                }



                DivContent = "", tabContent = "", tabRow = "";;

                DivContent = $('#GetAppendDiv').html();
                DivContent = DivContent.replace('#collapse13', "#collapse" + (1))
                DivContent = DivContent.replace('collapse13', "collapse" + (1));
                DivContent = DivContent.replace('#accordion13', "#accordion-" + type + "-" + (i + 1));
                DivContent = DivContent.replace('HeadingRoleName', Data[0].RoleName);
                DivContent = DivContent.replace('CurrentStatus', Data[0].IsAccepted);
                DivContent = DivContent.replace('ReviewerLevel', Data[0].PriorityLevel);
                // DivContent = DivContent.replace('HeadingStatus', Data[0].IsAccepted);
                if (Data[0].IsAccepted == 'Accepted') {
                    Hstatus = ' <span style="background: #4CAF50;padding: 3px 10px;margin-left: 10px;">' + Data[0].IsAccepted + '</span>';

                }
                else if (Data[0].IsAccepted == 'Rejected') {
                    Hstatus = ' <span style="background: #e04412;padding: 3px 10px;margin-left: 10px;">' + Data[0].IsAccepted + '</span>';

                }
                else if ((Data[0].IsAccepted == 'Pending')) {
                    Hstatus = ' <span style="background: #dca709;padding: 3px 10px;margin-left: 10px;">' + Data[0].IsAccepted + '</span>';

                }
                DivContent = DivContent.replace('HeadingStatus', Hstatus);
                DivContent = DivContent.replace('RequestDate', Data[0].AcceptanceStartDate);
                DivContent = DivContent.replace('UserReason', Data[0].Reason);
                DivContent = DivContent.replace('ReviewId', 'ReviewId' + (1));
                if (Data[0].IsAccepted == "Rejected" && Data[0].IsReviewAgain != 1 && popuptype === "1")
                    DivContent = DivContent.replace('ReviewAgain', '<a href="#" onclick="ReviewAgainClient(this)" data-id="' + (1) + '" data-ClientId="' + clientid + '" data-RoleId="' + Data[0].RoleId + '" >Click here to Review Again</a>');
                else if (Data[0].IsReviewAgain == 1 && popuptype === "1")
                    DivContent = DivContent.replace('ReviewAgain', '<span style="color:#a52677;"> Requested to review again</span>');

                else
                    DivContent = DivContent.replace('ReviewAgain', '--');

                if (Data[0].AppNotes != null && Data[0].AppNotes.length > 0) {
                    var tr = "<tbody>";
                    for (var j = 0; j < Data[0].AppNotes.length; j++) {

                        tr += "<tr>";
                        tr += '<td>' + Data[0].AppNotes[j].notes + '</td>';
                        tr += '<td>' + Data[0].AppNotes[j].Name + '</td>';
                        tr += '<td>' + Data[0].AppNotes[j].CreatedOn + '</td>';
                        tr += '<td>' + Data[0].AppNotes[j].AppStatus + '</td>';
                        tr += "</tr>";
                    }
                    DivContent = DivContent.replace("<tbody>", tr);
                }
                else {
                    var tr = "";
                    tr += "<tbody><tr>";
                    tr += "<td colspan='4' style=' text-align: center; color: #db4437;'>No record found</td>";
                    tr += "</tr>";
                    DivContent = DivContent.replace("<tbody>", tr);
                }


                /*
                   switch (popuptype) {
                    case "1":
                       $('#AcceptanceDivAppend').append(DivContent);
                         $('#DivPendingStatusTrack').show();
                        //showStatus(1)
                        break;
                    case "2":
                        $('#AcceptedListDivAppend').append(DivContent);
                        $('#DivAcceptedListStatusTrack').show();
                        $('#AcceptancedivClient').hide();
                        break;
                    case "3":
                        $('#RejectedDivAppend').append(DivContent);
                        $('#DivRejectedStatusTrack').show();
                        break;

                }
                */

                _Tempstr += DivContent;


                /* if (_ovincome) {
                    // renderOverincomeStatus([_ovincome], popuptype);
                     renderOverincomeStatus(_ovincome, popuptype);
                 }*/


                if (type == 'all' && _ovincome && _ovincome.length) { //
                    renderOverincomeStatus(_ovincome, popuptype, index, _Tempstr);
                    return false;
                }




                /*

                function showStatus(popuptype) {


                    $(".status-row").slideUp();
                    //  setTimeout(function () {
                    console.log(index);
                    //   var _str = '<tr></td colspan="8">';
                    //  var _str = $("#DivPendingStatusTrack").html();

                    //  $("#DivPendingStatusTrack").html('');
                    //  _str += "</td></tr>";
                    $("tr.status-row td").html(''); //reset all html of status
                    var stsRow = $('tr[data-index="' + index + '"]').next('.status-row');

                    stsRow.find('td').empty();
                    stsRow.find('td').append(DivContent);
                    stsRow.slideDown();

                }
                */

            }
            /*
                $(".status-row").slideUp();
              //  setTimeout(function () {
                console.log(index);
                 //   var _str = '<tr></td colspan="8">';
                var _str = $("#DivPendingStatusTrack").html();

               // $("#DivPendingStatusTrack").html('');
                  //  _str += "</td></tr>";
                   var stsRow = $('tr[data-index="' + index + '"]').next('.status-row');

                   stsRow.find('td').empty();
                   stsRow.find('td').append(_str);
                 stsRow.slideDown();
                // $("#DivPendingStatusTrack").empty();
              //  }, 1000)
                 */

            //_Tempstr += DivContent;
            //$('#DivPendingStatusTrack').find('.lblClient').text("Acceptance Status for "
            //var _str = $("#DivPendingStatusTrack").html();


            /*

            $(".status-row").slideUp();
            $("tr.status-row td").html('')//reset
            var stsRow = $('tr[data-index="' + index + '"]').next('.status-row');
            console.log(_Tempstr, stsRow, stsRow.find('td'));
           // stsRow.find('td').html('');
            stsRow.find('td').append(_Tempstr);
            stsRow.slideDown();

            */

            renderDynamicStatus(_Tempstr, index);
            // $("#DivPendingStatusTrack").html()
        }




        function renderOverincomeStatus(Data, popuptype, index, _Tempstr) {



            for (var i = 0; i < Data.length; i++) {
                //  if (Data[i].PriorityLevel == 10 && Data[i].PriorityLevel == 11) continue;

                var _rLevel = Data[i].PriorityLevel == "10" ? "Over Income Reviewer" : "Over Income Final Reviewer";

                DivContent = "", tabContent = "", tabRow = "";;
                DivContent = $('#GetAppendDiv').html();
                DivContent = DivContent.replace('#collapse13', "#collapse" + (i + 11))
                DivContent = DivContent.replace('collapse13', "collapse" + (i + 11));
                DivContent = DivContent.replace('#accordion13', "#accordion-" + popuptype + "-" + (i + 1));
                if (Data[i].PriorityLevel == "10") {
                    var _tempR = Data[i].RoleName.split(",");
                    _tempR.pop();
                    DivContent = DivContent.replace('HeadingRoleName', _tempR.join(', ') + ' (Over Income Reviewer)');
                } else {
                    DivContent = DivContent.replace('HeadingRoleName', Data[i].RoleName + ' (Over Income Final Reviewer)');
                }

                DivContent = DivContent.replace('CurrentStatus', Data[i].IsAccepted);
                DivContent = DivContent.replace('ReviewerLevel', _rLevel);
                var Hstatus = '';

                if (Data[i].IsAccepted == 'Accepted') {
                    Hstatus = ' <span style="background: #4CAF50;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                }
                else if (Data[i].IsAccepted == 'Rejected') {
                    Hstatus = ' <span style="background: #e04412;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                }
                else if ((Data[i].IsAccepted == 'Pending')) {
                    Hstatus = ' <span style="background: #dca709;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

                }
                DivContent = DivContent.replace('HeadingStatus', Hstatus);
                DivContent = DivContent.replace('RequestDate', Data[i].AcceptanceStartDate);
                DivContent = DivContent.replace('UserReason', Data[i].Reason);
                DivContent = DivContent.replace('ReviewId', 'ReviewId' + (i + 11));
                if (Data[i].IsAccepted == "Rejected" && Data[i].IsReviewAgain != 1 && popuptype === "1")
                    DivContent = DivContent.replace('ReviewAgain', '<a href="#" onclick="ReviewAgainClient(this)" data-id="' + (i + 11) + '" data-ClientId="' + clientid + '" data-RoleId="' + Data[i].RoleId + '" >Click here to Review Again</a>');
                else if (Data[i].IsReviewAgain == 1 && popuptype === "1")
                    DivContent = DivContent.replace('ReviewAgain', '<span style="color:#a52677;"> Requested to review again</span>');

                else
                    DivContent = DivContent.replace('ReviewAgain', '--');

                if (Data[i].AppNotes != null && Data[i].AppNotes.length > 0) {
                    var tr = "<tbody>";
                    for (var j = 0; j < Data[i].AppNotes.length; j++) {

                        tr += "<tr>";
                        tr += '<td>' + Data[i].AppNotes[j].notes + '</td>';
                        tr += '<td>' + Data[i].AppNotes[j].Name + '</td>';
                        tr += '<td>' + Data[i].AppNotes[j].CreatedOn + '</td>';
                        tr += '<td>' + Data[i].AppNotes[j].AppStatus + '</td>';
                        tr += "</tr>";
                    }
                    DivContent = DivContent.replace("<tbody>", tr);
                }
                else {
                    var tr = "";
                    tr += "<tbody><tr>";
                    tr += "<td colspan='4' style=' text-align: center; color: #db4437;'>No record found</td>";
                    tr += "</tr>";
                    DivContent = DivContent.replace("<tbody>", tr);
                }
                switch (popuptype) {
                    case "1":
                        $('#AcceptanceDivAppend').append(DivContent);
                        $('#DivPendingStatusTrack').show();
                        break;
                    case "2":
                        $('#AcceptedListDivAppend').append(DivContent);
                        break;
                    case "3":
                        $('#RejectedDivAppend').append(DivContent);
                        break;

                }

                _Tempstr += DivContent;
            }

            renderDynamicStatus(_Tempstr, index);


           /* 

            for (var i = 0; i < Data.length; i++) {

            DivContent = "", tabContent = "", tabRow = "";;

            DivContent = $('#GetAppendDiv').html();
            DivContent = DivContent.replace('#collapse13', "#collapse" + (1))
            DivContent = DivContent.replace('collapse13', "collapse" + (1))
            DivContent = DivContent.replace('HeadingRoleName', Data[i].RoleName + ' (Over Income)');
            DivContent = DivContent.replace('CurrentStatus', Data[i].IsAccepted);
            DivContent = DivContent.replace('ReviewerLevel', Data[i].PriorityLevel);
            // DivContent = DivContent.replace('HeadingStatus', Data[0].IsAccepted);
            if (Data[i].IsAccepted == 'Accepted') {
                Hstatus = ' <span style="background: #4CAF50;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

            }
            else if (Data[i].IsAccepted == 'Rejected') {
                Hstatus = ' <span style="background: #e04412;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

            }
            else if ((Data[i].IsAccepted == 'Pending')) {
                Hstatus = ' <span style="background: #dca709;padding: 3px 10px;margin-left: 10px;">' + Data[i].IsAccepted + '</span>';

            }
            DivContent = DivContent.replace('HeadingStatus', Hstatus);
            DivContent = DivContent.replace('RequestDate', Data[i].AcceptanceStartDate);
            DivContent = DivContent.replace('UserReason', Data[i].Reason);
            DivContent = DivContent.replace('ReviewId', 'ReviewId' + (1));
            if (Data[i].IsAccepted == "Rejected" && Data[1].IsReviewAgain != 1 && popuptype === "1")
                DivContent = DivContent.replace('ReviewAgain', '<a href="#" onclick="ReviewAgainClient(this)" data-id="' + (11) + '" data-ClientId="' + clientid + '" data-RoleId="' + Data[0].RoleId + '" >Click here to Review Again</a>');
            else if (Data[0].IsReviewAgain == 1 && popuptype === "1")
                DivContent = DivContent.replace('ReviewAgain', '<span style="color:#a52677;"> Requested to review again</span>');

            else
                DivContent = DivContent.replace('ReviewAgain', '--');

            if (Data[0].AppNotes != null && Data[0].AppNotes.length > 0) {
                var tr = "<tbody>";
                for (var j = 0; j < Data[0].AppNotes.length; j++) {

                    tr += "<tr>";
                    tr += '<td>' + Data[0].AppNotes[j].notes + '</td>';
                    tr += '<td>' + Data[0].AppNotes[j].Name + '</td>';
                    tr += '<td>' + Data[0].AppNotes[j].CreatedOn + '</td>';
                    tr += '<td>' + Data[0].AppNotes[j].AppStatus + '</td>';
                    tr += "</tr>";
                }
                DivContent = DivContent.replace("<tbody>", tr);
            }
            else {
                var tr = "";
                tr += "<tbody><tr>";
                tr += "<td colspan='4' style=' text-align: center; color: #db4437;'>No record found</td>";
                tr += "</tr>";
                DivContent = DivContent.replace("<tbody>", tr);
            }
            switch (popuptype) {
                case "1":
                    $('#AcceptanceDivAppend').append(DivContent);
                    $('#DivPendingStatusTrack').show();
                    break;
                case "2":
                    $('#AcceptedListDivAppend').append(DivContent);
                    $('#DivAcceptedListStatusTrack').show();
                    $('#AcceptancedivClient').hide();
                    break;
                case "3":
                    $('#RejectedDivAppend').append(DivContent);
                    $('#DivRejectedStatusTrack').show();
                    break;

            }


        }
            
            */

        };

        function renderDynamicStatus(_Tempstr, index) {

            $(".status-row").slideUp();
            $("tr.status-row td").html('')//reset
            var stsRow = $('tr[data-index="' + index + '"]').next('.status-row');
            console.log(_Tempstr, stsRow, stsRow.find('td'));
            // stsRow.find('td').html('');
            stsRow.find('td').append(_Tempstr);
            stsRow.slideDown();
        };


        function ReviewAgainClient(arg) {

            var spanid = '#ReviewId' + $(arg).attr('data-id');
            BootstrapDialog.confirm("Do you want to send review again request?", function (result) {
                if (result) {
                    $.ajax({
                        url: HostedDir + "/AgencyUser/SaveReviewAgainDetails",
                        type: "POST",
                        data: {
                            Clientid: $(arg).attr('data-ClientId'),
                            RoleId: $(arg).attr('data-RoleId')
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {

                            $(spanid).text("Requested to review again");
                            $(spanid).css('color', '#a52677');
                        }
    , error: function (response) {
        customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
    }
                    });
                }

            });

        }

        function DeleteClient(Object) {

       


            //$('#DivPendingStatusTrack').hide();
            //$('#DivRejectedStatusTrack').hide();

            //$('#PendingWaiting').show();
            //$('#centerall').prop("checked", false);
            //$('#PendingWaiting').focus();
            //Acceptwaitingobject = Object;
            //$('#ClientNamePending').text($(Object).closest("tr").find("td:first").text());
            //$("#DivWaitinglist > tbody >tr").each(function () {
            //    $(this).find('input:text,select').val("");
            //    $(this).find('input[type = checkbox]').prop("checked", false);
            //});

        var $clientName=    $(Object).closest('tr').children('td:eq(0)').children('span').html();


        BootstrapDialog.confirm("You are about to remove <strong>"+$clientName+"</strong> from pending list. Click OK to proceed.", function (result) {
                if (result) {
                    $.ajax({
                        url: HostedDir + "/Home/DeletePendingRecord",
                        type: "POST",
                        data: {
                            //Id: $(Object).attr("Yakkrid"),
                            Id:"",
                            ClientId: $(Object).attr("clientid"),
                            HouseholdId: $(Object).attr("householdid")
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {
                            if (response == 1) {
                                customAlert("Record removed successfully.");
                                setTimeout(function () {
                                    //window.location.href = HostedDir + '/AgencyUser/FamilyDetails/' + $(object).attr("HouseholdIdencrypted");
                                    window.location.href = HostedDir + '/Home/AgencystaffDashboard/';
                                }, 800);
                            }
                            else if (response == 2) {
                                customAlert("Record not exists or already removed from client pending list.");
                                setTimeout(function () {
                                    window.location.href = HostedDir + '/AgencyUser/FamilyDetails/' + $(object).attr("HouseholdIdencrypted");
                                }, 800);
                            }
                        }
                   , error: function (response) {
                       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                   }
                    });


                }
            });
        }
        //Changes
        function SaveAcceptedInfo() {

            
            cleanValidation();
            isValid = true;

            var $modal=$(_Object).closest('.modal');

            if ($modal.find('#ddlclassroom').val() == "" || $modal.find('#ddlclassroom').val() == null) {
                isValid = false;
                customAlert("Please select classroom from list. ");
                plainValidation('#ddlclassroom');
                return isValid;
            }
            else if ($modal.find('#txtclassstartdate')[0].value.trim() == "") {
                isValid = false;
                customAlert("Class start date is required. ");
                plainValidation('#txtclassstartdate');
                return isValid;
            }
            else {
                if (_Object != null && _centerid != null) {
                    //  BootstrapDialog.confirm('Are you sure want to send this client for approval?', function (result) {
                    //  if (result) {
                    $.ajax({
                        url: HostedDir + "/AgencyUser/SaveAcceptEnrollInfo",
                        type: "POST",
                        data: {
                            Clientid: $(_Object).attr("clientid"),
                            ClassroomID: $modal.find('#ddlclassroom').val(),
                            centerid: $(_Object).attr("CenterID"),
                            Reason: $modal.find('#chkincome:checked').val(),
                            StartDate:$modal.find('#txtclassstartdate').val(),
                            Programid: $(_Object).attr("Programid"),
                            ChildTran: $modal.find('#childtransId').val(),
                            ChildBMI:$modal.find('#ddlchildwtId').val(),
                            ChildDis: $modal.find('#childdisId').val(),
                            ChildFood: $modal.find('#childfoodId').val()
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {
                            if (response == 1) {
                                customAlert("Record saved successfully.");
                                $modal.find('#AcceptancedivClient').hide();
                                $modal.find('#DivAcceptedListStatusTrack').hide();
                                $modal.find('#ddlProgramtype').val('');
                                $modal.find('#ddlclassroom').val('');
                                S(_Object).closest('tr').remove();
                                if ($modal.find('#DivAcceptanceListPopup > tbody tr').length < 1) {
                                    $modal.find('#divA1').show();
                                }
                                if ($(AcceptObject).text() != "" && $(AcceptObject).text() != "0") {
                                    $(AcceptObject).text(parseInt($(AcceptObject).text()) - 1);
                                    $(AcceptObject).closest('tr').find('td a').eq(4).text(parseInt($(AcceptObject).closest('tr').find('td a').eq(4).text()) + 1);
                                }
                                if ($(AcceptObject).text() == "0") {
                                    $(AcceptObject).attr("href", "#");
                                }
                                setTimeout(function () {
                                    window.location.reload();
                                }, 800);
                            }
                            else if (response == 2) {
                                customAlert("Client already enrolled.");
                                setTimeout(function () {
                                    window.location.reload();
                                }, 800);
                            }
                            else if (response == 5) {
                                customAlert("No available slots. Please contact your administrator for assistance.");

                            }



                        }
			   , error: function (response) {
			       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
			   }
                    });
                    //}
                    // });
                }
            }
        }
        function HVSaveAcceptedInfo(e,ele) {

            cleanValidation();
            isValid = true;

            var $modal=$(ele).closest('.modal');

            if ($modal.find('#HVddlclassroom').val() == "" || $modal.find('#HVddlclassroom').val() == null) {
                isValid = false;
                customAlert("Please select classroom from list. ");
                plainValidation($modal.find('#HVddlclassroom'));
                return isValid;
            }
            else if ($modal.find('#HVtxtclassstartdate')[0].value.trim() == "") {
                isValid = false;
                customAlert("Class start date is required. ");
                plainValidation($modal.find('#HVtxtclassstartdate'));
                return isValid;
            }
            else if ($modal.find('#HVmeetingdate')[0].value.trim() == "") {
                isValid = false;
                customAlert("Meeting start date is required. ");
                plainValidation($modal.find('#HVmeetingdate'));
                return isValid;
            }
            else if ($modal.find('#title').val().trim() == "") {
                plainValidation($modal.find('#title'));
                customAlert("Please enter title.");
                e.preventDefault();
                return;
            }
            else if (new Date($modal.find('#HVmeetingdate')[0].value.trim()).setHours(0,0,0,0) > new Date($modal.find('#HVtxtclassstartdate')[0].value.trim()).setHours(0,0,0,0)) {
                plainValidation($modal.find('#HVmeetingdate'));
                customAlert("Meeting start date can not be greater than class start date.");
                e.preventDefault();
                return;
            }
            else if ($modal.find('#apptStartTime').val().trim() == "") {
                plainValidation($modal.find('#apptStartTime'));
                customAlert("Please enter meeting start time.");
                e.preventDefault();
                return;

            }
            else if ($modal.find('#apptEndTime').val().trim() == "") {
                plainValidation($modal.find('#apptEndTime'));
                customAlert("Please select meeting duration.");
                e.preventDefault();
                return;
            }
            else {
                if (_Object != null && _centerid != null) {
                    var startdate = new Date($modal.find('#HVmeetingdate')[0].value.trim() + ' ' + $modal.find('#apptStartTime').val());
                    var arr = $modal.find('#apptEndTime').val().split(":");
                    var dt = new Date(startdate);
                    var addtime = new Date(dt.setHours(startdate.getHours() + parseInt(arr[0])));
                    var addmin = new Date(addtime.setMinutes(addtime.getMinutes() + parseInt(arr[1])));
                    var enddate = new Date(addmin);
                    var EndTime = moment(enddate).format('hh:mm A');
                    var ev = {
                        _id: new Date($modal.find("#HVmeetingdate").val() + ' ' + EndTime).getTime(),
                        title: $modal.find("#title").val(),
                        Clientid: $(_Object).attr("clientid"),
                        MeetingDescription: $modal.find("#title").val(),
                        Date: $modal.find("#HVmeetingdate").val(),
                        StartTime: $modal.find("#apptStartTime").val(),
                        Duration: $modal.find("#apptEndTime").val(),
                        EndTime: EndTime,
                        start: new Date($modal.find("#HVmeetingdate").val() + ' ' + $modal.find("#apptStartTime").val()),
                        end: new Date($modal.find("#HVmeetingdate").val() + ' ' + EndTime),
                        IsRecurrence: false,
                    }
                    var result = compareEvent(ev);

                    if (result) {
                        plainValidation($modal.find('#apptStartTime'));
                        customAlert("Scheduled meeting overlapping other event. ");
                        return;
                    }

                    $.ajax({
                        url: HostedDir + "/AgencyUser/SaveHVAcceptEnrollInfo",
                        type: "POST",
                        data: {
                            Clientid: $(_Object).attr("clientid"),
                            ClassroomID: $modal.find('#HVddlclassroom').val(),
                            centerid: $(_Object).attr("CenterID"),
                            Reason: $modal.find('[name="HVchkincome"]:checked').val(),
                            StartDate: $modal.find('#HVtxtclassstartdate').val(),
                            Programid: $(_Object).attr("Programid"),
                            ChildTran: $modal.find('#childtransId').val(),
                            ChildBMI: $modal.find('#ddlchildwtId').val(),
                            ChildDis: $modal.find('#childdisId').val(),
                            ChildFood: $modal.find('#childfoodId').val(),
                            MeetingDescription: $modal.find("#title").val(),
                            Description: $modal.find("#description").val(),
                            Date: $modal.find("#HVmeetingdate").val(),
                            StartTime: $modal.find("#apptStartTime").val(),
                            Duration: $modal.find("#apptEndTime").val(),
                            EndTime: EndTime,
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {

                            if (response.result == '1') {
                               
                                customAlert("Record saved successfully.");
                                $modal.find('#HVAcceptancedivClient').hide();
                                $modal.find('#HVddlclassroom').val('');
                                $(_Object).closest('tr').remove();
                                if ($modal.find('#DivHVAcceptanceListPopup > tbody tr').length < 1) {
                                    $modal.find('#divHVA1').show();
                                }
                                if ($(AcceptObject).text() != "" && $(AcceptObject).text() != "0") {
                                    $(AcceptObject).text(parseInt($(AcceptObject).text()) - 1);
                                    $(AcceptObject).closest('tr').find('td a').eq(4).text(parseInt($(AcceptObject).closest('tr').find('td a').eq(4).text()) + 1);
                                }
                                if ($(AcceptObject).text() == "0") {
                                    $(AcceptObject).attr("href", "#");
                                }

                                window.location.reload();

                            }
                            else if (response.result == 2) {
                                customAlert("Client already enrolled.");
                                setTimeout(function () {
                                    window.location.reload();
                                }, 800);
                            }
                            else if (response.result == 5) {
                                customAlert("No available slots. Please contact your administrator for assistance.");

                            }



                        }
			   , error: function (response) {
			      customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
			   }
                    });
                    //}
                    // });
                }
            }
        }
        // }
        // for family advocate
        function AskForAlert(arg) {
            var prev = $(arg).data('val');
            if (advocate != "") {
                BootstrapDialog.confirm('You are trying to change the advocate for this family. Please click OK to confirm', function (result) {
                    if (!result) {
                        if (CenterType == 1) {
                            $('.selAssignFSW').val(advocate);
                        }
                        else {
                            $('.selAssignHV').val(advocate);
                        }
                    }


                });
            }
        }
        function AskForAlert1(arg) {
            debugger;
            var hid = $(arg).attr('householdid');
            for (var a = 0; multipleArr.length > 0; a++) {
                var check = multipleArr[a].split(',')[0];
                if (check == hid && multipleArr[a].split(',')[1] != "") {
                    BootstrapDialog.confirm('You are trying to change the advocate for this family. Please click OK to confirm', function (result) {
                        if (!result) {
                            $('.household' + hid).val(multipleArr[a].split(',')[1]);
                        }
                        else {
                            $('.household' + hid).val($(arg).val());
                        }
                    });
                    break;
                }


            }

        }
        var CenterType = 0;
        var advocate = "";
        function LoadFSWorHVList(arg) {
            _Object = arg;
            var index = -1;
            advocate = "";
            CenterType = $(arg).attr("IsHomeBased") === 'true' ? 2 : 1;
            $('#Acceptancediv').hide();
            $('#dvClientName').html("");
            $('.chckClient').prop('checked', false);
            $('.lblClientName').text($(arg).attr("name"))
            $('.AssignFSW').show();
            $('.DivHide').hide();
            $.ajax({
                url: HostedDir + "/Home/GetFSWOrHVList",
                type: "POST",
                data: {
                    ClientId: $(_Object).attr("clientid"),
                    CenterId: $(_Object).attr("centerid"),
                    ListType: CenterType
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (data) {
                    console.log(data);
                    if (data != null && data.length > 0) {

                        var option = '';
                        if (CenterType == 1)
                            option = option + '<option  value="0">Select FSW</option>';
                        else
                            option = option + '<option  value="0">Select HV</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].IsSelected === true)
                                index = i;
                            option = option + '<option value="' + data[i].userId + '">' + data[i].Name + '</option>';
                        }


                        if (CenterType == 1) {
                            $('.selAssignFSW').find('option').remove();
                            $('.selAssignFSW').find('option').remove().end().append(option);
                            $('.DivForFSW').show();
                            if (index == -1)
                                $('.selAssignFSW').val('0');
                            else {
                                advocate = data[index].userId;
                                $('.selAssignFSW').val(data[index].userId);
                            }



                        }
                        else {
                            $('.selAssignHV').find('option').remove();
                            $('.selAssignHV').find('option').remove().end().append(option);
                            $('.DivForHV').show();
                            if (index == -1)
                                $('.selAssignHV').val('0');
                            else {
                                advocate = data[index].userId;
                                $('.selAssignHV').val(data[index].userId);
                            }

                        }

                    }
                    else {
                        $('.selAssignFSW').find('option').remove();
                        $('.selAssignHV').find('option').remove();
                    }
                }
    , error: function (data) {
        customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
    }
            });
        }


        var multipleArr = [];
        function LoadMultipleFSWorHVList(arg) {
            _Object = arg;
            var index = -1;
            advocate = "";
            CenterType = $(arg).attr("IsHomeBased") === 'true' ? 2 : 1;


            $('.AssignFSW').hide();
            $('.DivHide').hide();
            $.ajax({
                url: HostedDir + "/Home/GetFSWOrHVList",
                type: "POST",
                data: {
                    ClientId: $(_Object).attr("clientid"),
                    CenterId: $(_Object).attr("centerid"),
                    ListType: CenterType
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (data) {
                    console.log(data);
                    if (data != null && data.length > 0) {

                        var option = '<select class="form-control households household' + $(arg).attr("householdid") + '" householdid="' + $(arg).attr("householdid") + '" onchange="AskForAlert1(this)" > ';
                        if (CenterType == 1)
                            option = option + '<option  value="0">Select FSW</option>';
                        else
                            option = option + '<option  value="0">Select HV</option>';

                        for (var i = 0; i < data.length; i++) {
                            if (data[i].IsSelected === true)
                                index = i;
                            option = option + '<option value="' + data[i].userId + '">' + data[i].Name + '</option>';
                        }
                        option = option + '</select> ';



                        $('#dvClientName').append('<div class="listmulti-client divMultiClient' + $(_Object).attr("clientid") + '"><span style="margin-bottom:0px;"  id=' + $(_Object).attr("clientid") + ' class="SpnSelectedClient">' + $(arg).attr("name") + '</span>' + option + '</div>');
                        if (index == -1) {
                            $('.household' + $(arg).attr("householdid")).val('0');
                            multipleArr.push($(arg).attr("householdid") + ',' + '');
                        }

                        else {
                            multipleArr.push($(arg).attr("householdid") + ',' + data[index].userId);
                            $('.household' + $(arg).attr("householdid")).val(data[index].userId);
                        }


                    }
                    else {

                    }
                }
    , error: function (data) {
        customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
    }
            });
        }

        //end

        var isHome=false;

        function showdiv(Aobject, BMIStatus, Disability,acceptanceType) {
            // alert($(Aobject).attr('transport'));
            _Object = Aobject;

            



            var $modalAccepted=$(_Object).closest('.modal');
            var $centerId=$(_Object).attr('centerid');
            var $progName=$(_Object).attr('programtype');

            if(acceptanceType==clientAcceptanceType.WaitingList)
            {




                $modalAccepted.find('#DivAcceptedListStatusTrack').hide();
                $modalAccepted.find('#AcceptancedivClient').hide();
                $modalAccepted.find('#acceptedWaitingList').show();
                $modalAccepted.find('#acceptedWaitingList').find('#centerall').prop("checked", false);

                $modalAccepted.find('.control-group').animate({ scrollTop: $modalAccepted.find('#acceptedWaitingList').offset().top - 50 }, 1000);
                //  $('#ModalAcceptanceList').animate({ scrollTop: $('#acceptedWaitingList').offset().top - 50 }, 1000);


                $modalAccepted.find('#acceptedWaitingList').find('#ClientNameAccepted').text($(_Object).closest("tr").find("td:first").text());
              
                
                
                $modalAccepted.find('#acceptedWaitingList').find("#DivAcceptedWaitinglist > tbody >tr").each(function () {
                    $(this).find('input:text,select').val("");
                    $(this).find('input[type = checkbox]').prop("checked", false);


                    if($(this).attr('ackey')=="False" && $progName=="PM")
                    {
                        $(this).hide();
                        isHome=true;

                    }

                    else if($progName!="PM")
                    {
                        $(this).show();
                        isHome=false;
                    }


                    if($(this).find('input:checkbox[name="Accept"]').val()==$centerId)
                    {
                        $(this).find('input:checkbox[name="Accept"]').prop('checked',true);

                        $(this).find('select').val('1');
                    }

                });




               

            }
            else 
            {
                var Transport = null;
                var FoodAllergies = null;
                $modalAccepted.find('#ddlchildwt').text('');
                $modalAccepted.find('#childtrans').text('');
                $modalAccepted.find('#childdis').text('');
                $modalAccepted.find('#childFoodAllergy').text('');
                $modalAccepted.find('#acceptedWaitingList').hide();
                $modalAccepted.find('#AcceptancedivClient').show();
                $modalAccepted.find('#DivAcceptedListStatusTrack').hide();
                $modalAccepted.find('#AcceptancedivClient').focus();
                $modalAccepted.find('#ddlclassroom').focus();
                $modalAccepted.find('#ClientNameAccept').text($(Aobject).closest("tr").find("td:first").text());
                Transport = $(_Object).attr("Transport")
                // alert(Transport);
                FoodAllergies = $(_Object).attr("FoodAllergies")
                //var text = "Teacher will be notified for Classroom Assignment.";
                //if ($(Aobject).attr('transport'))
                //{
                //    text = text + "/" + "Transport Manager will be notified for Classroom Assignment"
                //}
                $modalAccepted.find('#Teacher').css({ color: "#800080" });
                $modalAccepted.find('#Teacher').text("Teacher will be notified for Classroom Assignment.");
                if (Transport == "True") {
                    $modalAccepted.find('#ChildTrans').show();
                    $modalAccepted.find('#childtrans').text("Transportation Manager will be notified for Child Transportation");
                    $modalAccepted.find('#childtrans').css({ color: "#800080" });
                    $modalAccepted.find('#childtransId').val("1");
                }
                else {
                    $modalAccepted.find('#ChildTrans').hide();
                }
                if (BMIStatus == "1") {
                    $modalAccepted.find('#BMI').show();
                    $modalAccepted.find('#ddlchildwt').text("Child is Underweight.");
                    $modalAccepted.find('#ddlchildwt').css({ color: "#800080" });
                    $modalAccepted.find('#ddlchildwtId').val("1");
                }
                if (BMIStatus == "3") {
                    $modalAccepted.find('#BMI').show();
                    $modalAccepted.find('#ddlchildwt').text("Child is Overweight.");
                    $modalAccepted.find('#ddlchildwt').css({ color: "#800080" });
                    $modalAccepted.find('#ddlchildwtId').val("3");
                }

                if (BMIStatus == "4") {
                    $modalAccepted.find('#BMI').show();
                    $modalAccepted.find('#ddlchildwt').text("Child is Obese.");
                    $modalAccepted.find('#ddlchildwt').css({ color: "#800080" });
                    $modalAccepted.find('#ddlchildwtId').val("4");
                }
                if (Disability == "1") {
                    if ($(_Object).attr("IsIEP") == "true") {
                        if ($(_Object).attr("IsExpired") == "true") {
                            $modalAccepted.find('#childdis').text("Child has an IEP Expired.");
                        }
                        else {
                            $modalAccepted.find('#childdis').text("Child has an IEP.");
                        }
                    }
                    else if ($(_Object).attr("IsIFSP") == "true") {
                        if ($(_Object).attr("IsExpired") == "true") {
                            $modalAccepted.find('#childdis').text("Child has an IFSP Expired.");
                        }
                        else {
                            $modalAccepted.find('#childdis').text("Child has an IFSP.");
                        }
                    }

                    else {

                        $modalAccepted.find('#childdis').text("Child has Suspected Disability.");

                    }
                    $modalAccepted.find('#ChildDis').show();
                    $modalAccepted.find('#childdis').css({ color: "#800080" });
                    $modalAccepted.find('#childdisId').val("1");
                }
                else {
                    //$('#ChildDis').show();
                    //$('#childdis').text("Child has No Disability");
                }
                if (FoodAllergies == "1") {
                    $modalAccepted.find('#ChildFAllergy').show();
                    $modalAccepted.find('#childFoodAllergy').text("Child has Food Allergies.");
                    $modalAccepted.find('#childFoodAllergy').css({ color: "#800080" });
                    $modalAccepted.find('#childfoodId').val("1");
                }
                else {

                }
            }



        }
        function showdiv2(Aobject, BMIStatus, Disability) {

            _Object = Aobject;
           

            var fullname = $(Aobject).closest("tr").find("td:first").text().split(' ');
            var lastname = fullname[fullname.length - 1];
            $('#title').val('Meeting with - ' + lastname);
            // $('#HVClientNameAccept
            
            var $hvModal=$(Aobject).closest('.modal');
            
            $hvModal.find('#HVddlclassroom')[0].selectedIndex = -1;
            $hvModal.find('#HVmeetingdate').val('');
            $hvModal.find('#HVtxtclassstartdate')[0].selectedIndex = -1;

            $hvModal.find('#apptEndTime')[0].selectedIndex = -1;
            $hvModal.find('#apptStartTime')[0].selectedIndex = -1;
            //  $('#HVmeetingdate

            $hvModal.find('#HVmeetingdate')[0].selectedIndex = -1;
            $('#txtclassstartdate')[0].selectedIndex = -1;
            var Transport = null;
            var FoodAllergies = null;
            $hvModal.find('#HVddlchildwt').text('');
            $hvModal.find('#HVchildtrans').text('');
            $hvModal.find('#HVchilddis').text('');
            $hvModal.find('#childFoodAllergy').text('');
            $hvModal.find('#HVClientId').val($(Aobject).attr("accesskey"));
            $hvModal.find('#HVAcceptancedivClient').show();
            $hvModal.find('#HVAcceptancedivClient').focus();
            $hvModal.find('#HVddlclassroom').focus();
            $hvModal.find('#HVClientNameAccept').text($(Aobject).closest("tr").find("td:first").text());

            FoodAllergies = $(Aobject).attr("FoodAllergies");

            if (BMIStatus == "1") {
                $hvModal.find('#HVBMI').show();
                $hvModal.find('#HVddlchildwt').text("Child is Underweight.");
                $hvModal.find('#HVddlchildwt').css({ color: "#800080" });
                $hvModal.find('#HVddlchildwtId').val("1");
            }
            if (BMIStatus == "3") {
                $hvModal.find('#HVBMI').show();
                $hvModal.find('#HVddlchildwt').text("Child is Overweight.");
                $hvModal.find('#HVddlchildwt').css({ color: "#800080" });
                $hvModal.find('#HVddlchildwtId').val("3");
            }

            if (BMIStatus == "4") {
                $hvModal.find('#HVBMI').show();
                $hvModal.find('#HVddlchildwt').text("Child is Obese.");
                $hvModal.find('#HVddlchildwt').css({ color: "#800080" });
                $hvModal.find('#HVddlchildwtId').val("4");
            }
            if (Disability == "1") {

                $hvModal.find('#HVChildDis').show();
                $hvModal.find('#HVchilddis').text("Child has Suspected Disability.");
                $hvModal.find('#HVchilddis').css({ color: "#800080" });
                $hvModal.find('#HVchilddisId').val("1");
            }
            else {
                //$('#ChildDis').show();
                //$('#childdis').text("Child has No Disability");
            }
            if (FoodAllergies == "1") {
                $hvModal.find('#HVChildFAllergy').show();
                $hvModal.find('#HVchildFoodAllergy').text("Child has Food Allergies.");
                $hvModal.find('#HVchildFoodAllergy').css({ color: "#800080" });
                $hvModal.find('#HVchildfoodId').val("1");
            }
            else {

            }


        }
        function CancelAccepted(ele) {

            var $modal=$(ele).closest('.modal');
            $modal.find('#AcceptancedivClient').hide();
            $modal.find('#DivAcceptedListStatusTrack').hide();
        }
        function HVCancelAccepted(ele) {

            var $modal=$(ele).closest('.modal');

            $modal.find('#title').val('');
            // $('#HVClientNameAccept
            $modal.find('#HVddlclassroom')[0].selectedIndex = -1;
            $modal.find('#HVmeetingdate').val('');
            $modal.find('#HVtxtclassstartdate').val('');
            //$('name=["HVchkincome"]').each(function (i) {
            //    $('name=["HVchkincome"]')[0].checked = false;

            //});
            $modal.find('#apptEndTime')[0].selectedIndex = -1;
            $modal.find('#apptStartTime')[0].selectedIndex = -1;
            //  $('#HVmeetingdate

            $modal.find('#HVmeetingdate')[0].selectedIndex = -1;
            $modal.find('#txtclassstartdate')[0].selectedIndex = -1;
            $modal.find('#HVAcceptancedivClient').hide();
            $modal.find('#DivAcceptedListStatusTrack').hide();
        }

        var gparamAccept = {};
        function loadclientinfo(Object, Centerid, Option) {

            AcceptObject = Object;
            _centerid = Centerid;
            _option = Option;
            $('#ModalAcceptanceList').find('#AcceptancedivClient').hide();
            $('#ModalAcceptanceList').find('#acceptedWaitingList').hide();
            $('#ModalAcceptanceList').find('#DivAcceptedListStatusTrack').hide();
            $('#ModalAcceptanceList').find('#ddlProgramtype').val('');
            $('#ModalAcceptanceList').find('#ddlclassroom').val('');
            $('#ddlchildwt').val('');

            if (Option == 101)
                // $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + '101');
                $("#ModalAcceptanceList #CenterName").html($(Object).closest("tr").find("td:first a").text() +  '&nbsp;(<span style="color:#f9c751;">Accepted</span>)');

            ClientAcceptanceListwithPagination(Option, 1, "", _centerid);

            //$.ajax({
            //    url: HostedDir + "/Home/GetclientAcceptedList",
            //    type: "POST",
            //    data: {
            //        Centerid: Centerid,
            //        Option: Option,
            //    },
            //    dataType: "json",
            //    secureuri: false,
            //    async: false,
            //    success: function (data) {
            //        console.clear();
            //        console.log(data);
            //        //  BindClientAcceptlist(data);
            //        // BindClientAcceptlist(data.Data, data.TotalRecord);
            //        BindClientAcceptlist(Data, totalrec,1)
            //    }
            //   , error: function (data) {
            //       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
            //   }
            //});
        }

        function ClientAcceptanceListwithPagination(Option, RequestedPage, search, Centerid) {


            gparamAccept.RequestedPage = RequestedPage, gparamAccept.Option = Option;
            gparamAccept.search = search, gparamAccept.Centerid = Centerid;
           // gparamAccept.pno = 

            $.ajax({
                url: HostedDir + "/Home/GetclientAcceptedList",
                type: "POST",
                beforeSend: function () { $("#spinner").show(); },
                data: JSON.stringify({
                    Centerid: Centerid,
                    Option: Option,
                    Gparam: {
                        // PageSize:$("#ddlpagetodisplay").val(),
                        PageSize: $("#ddlpagetodisplay_accept").val(),
                        //  RequestedPage:pno,
                        RequestedPage: RequestedPage,
                       // SortOrder: 'asc',
                        // SortColumn: 'name',
                        SortOrder: sort.dir,
                        SortColumn:sort.column,
                        Search: search
                    },

                }),
                dataType: "json",
                //secureuri: false,
                //async: false,
                contentType: "application/json;",
                success: function (data) {
                    console.clear();
                    console.log(data);
                    //  BindClientAcceptlist(data);
                    // BindClientAcceptlist(data.Data, data.TotalRecord);
                    BindClientAcceptlist(data.Data, data.TotalRecord, gparamAccept.RequestedPage);
                }
   , error: function (data) {
       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
   },
                complete: function (res) {
                    $("#spinner").hide();
                }
            });


        };


        $(document).on("change", "#ddlpaging_accept", function (e) {
            e.preventDefault();
            var _nxtPg = $(this).val();

            // ClientPendinListwithPagination(globeParam.type, _nxtPg, globeParam.search, globeParam.Centerid);
            ClientAcceptanceListwithPagination(gparamAccept.Option, _nxtPg, gparamAccept.search, gparamAccept.Centerid);


        });

        function drawAcceptPagedropdown(TotalRecord, pagno) {


            var _psize = parseInt($("#ddlpagetodisplay_accept").val());
            var _pcount = Math.ceil(TotalRecord / _psize); //ceil- Round a number upward to its nearest integer:

            $("#ddlpaging_accept").html('');
            for (var i = 1; i <= _pcount; i++) {

                $("#ddlpaging_accept").append('<option value="' + i + '">' + i + '</option>')
            }

            $("#ddlpaging_accept").val(pagno);

        };

        $(document).on("click", "#btnSearchauto-accept", function (e) {
            e.preventDefault();
            //var _type = $(this).data("type");;
            var svale = $("#search-accept-client-input").val();
            //  var cid = $(this).data("Centerid");

            //  ClientPendinListwithPagination(_type, 1, svale, cid);
            ClientAcceptanceListwithPagination(gparamAccept.Option, 1, svale, gparamAccept.Centerid);
        });

        $(document).on("change", "#ddlpagetodisplay_accept", function (e) {
            // var _type = $(this).prop('id');
            ClientAcceptanceListwithPagination(gparamAccept.Option, 1, gparamAccept.search, gparamAccept.Centerid);
        });

        function BindClientAcceptlist(data, totalrec, pno) {

            if (totalrec > 0) {
                drawAcceptPagedropdown(totalrec, pno)
            }
            //(type, RequestedPage, search, Centerid)
            var option = "";

            $('#DivAcceptanceListPopup > tbody > tr').remove();
            if (data.length == 0) {
                $('#divA1').show();
            }
            else {
                $('#divA1').hide();
                var tbody = $('#DivAcceptanceListPopup > tbody');
                for (var i = 0; i < data.length; i++) {
                    var tr = "";

                    if(data[i].IsFutureApplication==true)
                    {
                        tr += "<tr data-index='" + i + "' class='future-row' >";

                    }
                    else
                    {
                        tr += "<tr data-index='" + i + "'>";

                    }
                       

                    tr += '<td class="name-clmn"><a data-index="' + i + '"  style="cursor:pointer;" data-type="all" onclick="AcceptanceStatus(this);" Id="' + data[i].Id + '"  ClientId="' + data[i].ClientId + '" HouseHoldId="' + data[i].HouseholdId + '" ProgramID="' + data[i].ProgramType + '"  CenterID="' + data[i].CenterId + '"  PopupFrom="2"  style="text-decoration:underline;">' + data[i].Name + '</a></td>';

                    // tr += "<td>" + ((typeof (data[i].Name) != 'undefined') && (data[i].Name != null) ? data[i].Name : '') + "</td>";

                    tr += "<td >" + ((typeof (data[i].DateOnList) != 'undefined') && (data[i].DateOnList != null) ? data[i].DateOnList : '') + " </span></td>";
                    tr += "<td class=\"prg-clmn\">" + ((typeof (data[i].Gender) != 'undefined') && (data[i].Gender != null) ? data[i].Gender : '') + " </span></td>";
                    tr += "<td class=\"prg-clmn\">" + ((typeof (data[i].DOB) != 'undefined') && (data[i].DOB != null) ? data[i].DOB : '') + " </span></td>";


                    if ('@fswHV' == '1') {


                        if(data[i].AcceptanceType==clientAcceptanceType.WaitingList)
                        {
                            if(data[i].ProgramType=="PM")
                            {
                                tr += '<td><a href="#" onclick="showdiv(this,' +0 + ',' + 0 + ','+clientAcceptanceType.WaitingList+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'"  HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Waiting List</a></td>';

                            }
                            else if(data[i].IsHomeBased==true)
                            {
                                tr += '<td><a href="#" onclick="showdiv2(this,' + data[i].ChildWeight + ',' + data[i].CParentDisable + ','+clientAcceptanceType.WaitingList+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'"  HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Schedule Appointment</a></td>';

                            }
                            else{
                                tr += '<td><a href="#" onclick="showdiv(this,' + data[i].ChildWeight + ',' + data[i].CParentDisable + ','+clientAcceptanceType.WaitingList+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'"  HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Waiting List</a></td>';

                            }


                        }
                        else{


                            if(data[i].ProgramType=="PM")
                            {

                                tr += '<td><a href="#" onclick="showdiv2(this,' + 0+ ',' + 0 + ','+clientAcceptanceType.ImmediateEnrollment+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'" HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Schedule Appointment</a></td>';

                            }
                            else{


                                if(data[i].IsHomeBased==true)
                                {
                                    tr += '<td><a href="#" onclick="showdiv2(this,' + data[i].ChildWeight + ',' + data[i].CParentDisable + ','+clientAcceptanceType.ImmediateEnrollment+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'" HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Assign Classroom</a></td>';

                                }
                                else{
                                    tr += '<td><a href="#" onclick="showdiv(this,' + data[i].ChildWeight + ',' + data[i].CParentDisable + ','+clientAcceptanceType.ImmediateEnrollment+');" IsIEP="' + data[i].IsIEP + '" IsIFSP="' + data[i].IsIFSP + '" IsExpired="' + data[i].IsExpired + '" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramID + '"  programtype="'+data[i].ProgramType+'" HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i]._EncCenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Assign Classroom</a></td>';

                                }


                            }


                            //Disability="' + Data[i].Programid + '"

                        }
                    }

                    // tr += "</tr>";
                    tr += '</tr><tr class="status-row" style="display:none;"><td colspan="8" ></td></tr>';

                    $('#DivAcceptanceListPopup > tbody').append(tr);
                }

                if (data[0].Classroom != null && data[0].Classroom.length > 0) {
                    for (var i = 0; i < data[0].Classroom.length; i++) {
                        if (data[0].Classroom[i].ActualSeats <= 0) {
                            option = option + '<option value="' + data[0].Classroom[i].ClassroomID + '" disabled="disabled" style="color: red;">' + data[0].Classroom[i].ClassName + '</option>';
                        }
                        else {
                            option = option + '<option value="' + data[0].Classroom[i].ClassroomID + '">' + data[0].Classroom[i].ClassName + '</option>';
                        }

                    }
                    $('#ModalAcceptanceList').find('#ddlclassroom').find('option').remove().end().append(option);
                    $('#ModalAcceptanceList').find('#ddlclassroom').val('');

                    $('#ModalAcceptanceList').find('#HVddlclassroom').find('option').remove().end().append(option);
                    $('#ModalAcceptanceList').find('#HVddlclassroom').val('');
                }
                else {
                    $('#ModalAcceptanceList').find('#ddlclassroom').find('option').remove();
                    $('#ModalAcceptanceList').find('#HVddlclassroom').find('option').remove();
                }
                option = "";
                //if (data[0].ProgramsList.length > 0) {
                //    for (var i = 0; i < data[0].ProgramsList.length; i++) {
                //        option = option + '<option value="' + data[0].ProgramsList[i].Id + '">' + data[0].ProgramsList[i].Name + '</option>';
                //    }
                //    $('#ddlProgramtypeAccept').find('option').remove().end().append(option);
                //    $('#ddlProgramtypeAccept').val('');
                //}
                //else {
                //    $('#ddlProgramtypeAccept').find('option').remove();
                //}
                //option = "";
                //if (data[0].UserList.length > 0) {
                //    for (var i = 0; i < data[0].UserList.length; i++) {
                //        option = option + '<option value="" selected disabled>Assign To</option>' + '<option value="' + data[0].UserList[i].userId + '">' + data[0].UserList[i].Name + '</option>';
                //    }
                //    $('#ddltransport').find('option').remove().end().append(option);
                //    $('#ddltransport').val('');

                //}
                //else {
                //    $('#ddltransport').find('option').remove();

                //}

                //option = "";
                //if (data[0].UserList1.length > 0) {
                //    for (var i = 0; i < data[0].UserList1.length; i++) {
                //        option = option + '<option value="" selected disabled>Assign To</option>' + '<option value="' + data[0].UserList1[i].userId + '">' + data[0].UserList1[i].Name + '</option>';
                //    }
                //    $('#ddldisability').find('option').remove().end().append(option);
                //    $('#ddldisability').val('');
                //}
                //else {
                //    $('#ddldisability').find('option').remove();

                //}
                //option = "";
                //if (data[0].UserListNutrition.length > 0) {
                //    for (var i = 0; i < data[0].UserListNutrition.length; i++) {
                //        option = option + '<option value="" selected disabled>Assign To</option>' + '<option value="' + data[0].UserListNutrition[i].userId + '">' + data[0].UserListNutrition[i].Name + '</option>';
                //    }
                //    $('#ddlBMIStatus').find('option').remove().end().append(option);
                //    $('#ddlBMIStatus').val('');
                //}
                //else {
                //    $('#ddlBMIStatus').find('option').remove();

                //}


                if (!$('#ModalAcceptanceList').hasClass('in'))
                    $('#ModalAcceptanceList').modal('toggle');
            }

        }

        //done by santosh 6 feb 2017
        function loadHVclientinfo(Object, Centerid, Option) {
            AcceptObject = Object;
            _centerid = Centerid;
            _option = Option;
            $('#HVAcceptancedivClient').hide();
            $('#DivAcceptedListStatusTrack').hide();
            $('#ddlProgramtype').val('');
            //$('#ddlclassroom').val('');
            $('#ddlchildwt').val('');

            if (Option == 101)
                $('#CenterName').text($(Object).closest("tr").find("td:first a").text() + '-' + '101');
            $.ajax({
                url: HostedDir + "/Home/GetclientAcceptedList",
                type: "POST",
                data: {
                    Centerid: Centerid,
                    Option: Option,
                    SortOrder: sort.dir,
                    SortColumn:sort.column
                    // Programtype: 0
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (data) {

                    BindHVClientAcceptlist(Object, data.Data, data.TotalRecord, gparamAccept.RequestedPage);
                   // BindHVClientAcceptlist(data);
                }
			   , error: function (data) {
			       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
			   }
            });
        }
        function BindHVClientAcceptlist(ele,data,totalRecord,requestedPage) {
            var option = "";

            var $modal=$('#HVAcceptanceList');

          
            $modal.find('#DivHVAcceptanceListPopup > tbody > tr').remove();
            if (data.length == 0) {
                $modal.find('#divHVA1').show();
            }
            else {
                $modal.find('#divHVA1').hide();
                var tbody =  $modal.find('#DivHVAcceptanceListPopup > tbody');
                for (var i = 0; i < data.length; i++) {
                    var tr = "";
                    tr += "<tr>";

                    tr += "<td>" + ((typeof (data[i].Name) != 'undefined') && (data[i].Name != null) ? data[i].Name : '') + "</td>";

                    tr += "<td>" + ((typeof (data[i].DateOnList) != 'undefined') && (data[i].DateOnList != null) ? data[i].DateOnList : '') + " </span></td>";
                    tr += "<td>" + ((typeof (data[i].Gender) != 'undefined') && (data[i].Gender != null) ? data[i].Gender : '') + " </span></td>";
                    tr += "<td>" + ((typeof (data[i].DOB) != 'undefined') && (data[i].DOB != null) ? data[i].DOB : '') + " </span></td>";
                    tr += '<td><a href="#" onclick="showdiv2(this,' + data[i].ChildWeight + ',' + data[i].CParentDisable + ');" ClientId="' + data[i].ClientId + '" Programid="' + data[i].ProgramType + '"        HouseHoldId="' + data[i].HouseholdId + '" CenterID="' + data[i].CenterId + '" Transport="' + data[i].CTransport + '" BMIStatus="' + data[i].ChildWeight + '" FoodAllergies="' + data[i].FoodAllergies + '" accesskey=' + data[i].ClientId + '>Schedule Appointment</td>';//Disability="' + Data[i].Programid + '"
                    tr += "</tr>";
                    $modal.find('#DivHVAcceptanceListPopup > tbody').append(tr);
                }

                if (data[0].Classroom != null && data[0].Classroom.length > 0) {
                    for (var i = 0; i < data[0].Classroom.length; i++) {
                        if (data[0].Classroom[i].ActualSeats <= 0) {
                            option = option + '<option value="' + data[0].Classroom[i].ClassroomID + '" disabled="disabled" style="color: red;">' + data[0].Classroom[i].ClassName + '</option>';
                        }
                        else {
                            option = option + '<option value="' + data[0].Classroom[i].ClassroomID + '">' + data[0].Classroom[i].ClassName + '</option>';
                        }

                    }
                    $modal.find('#HVddlclassroom').find('option').remove().end().append(option);;
                    //   $('#HVddlclassroom').find('option')
                    $modal.find('#HVddlclassroom').val('');
                }
                else {
                    $modal.find('#HVddlclassroom').find('option').remove();
                }
                option = "";



                if (!$('#HVAcceptanceList').hasClass('in'))
                    $('#HVAcceptanceList').modal('toggle');
            }

        }
        //end
        function Checkdate(value) {
            var eleId = $(value).prop('id');
            isValid = true;
            if ($(value).val().trim() != "MM/DD/YYYY" && $(value).val().trim() != "") {
                var dateformat = /^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/;
                var regex = new RegExp(dateformat);
                if (!regex.test($(value).val())) {
                    customAlert("Invalid date format. ");
                    $(value).val('');
                    return false;
                }
            }
            var txtdate = $(value).val();
            var selectedTimestampequal = new Date();
            var year = selectedTimestampequal.getFullYear();
            var month = selectedTimestampequal.getMonth() + 1;
            var day = selectedTimestampequal.getDate();
            today1 = month + '/' + day + '/' + year;
            var newinput = today1.split("/");
            var newday = newinput[1];
            var str = newday.substr(0, 1);
            var newdaynew = ('0' + newday).slice(-2);

            var newmonth = newinput[0];
            var str1 = newmonth.substr(0, 1);
            var newmonthnew = ('0' + newmonth).slice(-2);

            today = newmonthnew + '/' + newdaynew + '/' + year;
            if (today == txtdate) {
                return true;
            }

        var _tdate = moment(new Date());
        var _past30 = moment(_tdate.add(-30, 'days')._d).format('MM/DD/YYYY');
       
            var testdatelocalinput = new Date(txtdate);
            var selectedTimestamp = new Date().getTime();
            var testdatelocalinputTS = testdatelocalinput.getTime();
            var timestamp = new Date().getTime() + (30 * 24 * 60 * 60 * 1000)
            // if (testdatelocalinputTS < selectedTimestamp) {
            if (testdatelocalinputTS < selectedTimestamp && eleId != 'txtclassstartdate') {
                customAlert("Class Start Date must be greater than or equal to today's date.");
                $(value).val('');
                return false;
           // } else if (eleId == 'txtclassstartdate' && new Date(txtdate).getTime() < new Date(PYStartDate).getTime()) {
         } else if(eleId == 'txtclassstartdate' && new Date(txtdate).getTime() < new Date(_past30).getTime() ){

   
             customAlert("Class Start Date cannot be lesser than 30 days from today's date.");
              /*  $(".pysd-msg").slideDown();
                setTimeout(function () {
                    $(".pysd-msg").slideUp();
                },10000);*/
                $(value).val('');
                return false;

        }else if (eleId == 'txtclassstartdate' && new Date(txtdate).getTime() < new Date(PYStartDate).getTime()) {

                customAlert("Class Start Date must be greater than or equal to program year start  date.");
                $(".pysd-msg").slideDown();
                setTimeout(function () {
                    $(".pysd-msg").slideUp();
                },10000);
                $(value).val('');
                return false;
            }
            else if (timestamp < testdatelocalinputTS) {
                customAlert("Class Start Date cannot be more than 30 days from today's date.");
                $(value).val('');
                return false;
            }
            return true;
        }
        function loadclientlistAll(Object, Centerid) {
            WaitObject = Object;
            _centerid = Centerid;
            _programtype1 = 0;
            _Nurse1 = 0;
            _option1 = 0;
            $('#CenterNameAll').html( $(Object).closest("tr").find("td:first a").text()+ '&nbsp;(<span style="color:#f9c751;">&nbsp;Total Waiting</span>)');

            $('#ddlProgramtypeAll').val('');
            $('#ddlnurseAll').val('');
            $.ajax({
                url: HostedDir + "/Home/GetclientWaitingList",
                type: "POST",
                data: {
                    Centerid: Centerid,
                    Option: 0,
                    Programtype: 0
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (Data) {
                    BindClientlistAll(Data);
                }
			   , error: function (Data) {
			       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
			   }
            });
        }
        function BindClientlistAll(Data) {
            Data = Data._clientWaitingList
            if (Data != null && Data.length > 0) {
                $('#div4').hide();
                var tbody = "";
                var option = "";
                var classroomOption="";
                $('#DivWaitingListAllPopup > tbody > tr').remove();








                for (var i = 0; i < Data.length; i++) {
                    // tbody = tbody + '<tr><td>' + Data[i].Name + '</td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +
                    // ' </td><td>' + Data[i].ProgramType + '</td><td>' + Data[i].Choice + '</td><td>' + Data[i].Gender + '</td><td>' + Data[i].DOB + '</td> <td> ' +
                    //'<a href="#" onclick="LoadFSWorHVList(this);" name="' + Data[i].Name + '"  IsHomeBased="' + Data[i].IsHomeBased + '" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Acceptance Process</a> </td>' +
                    //'<td><a href="#" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>' +
                    //'</tr>';

                    tbody = tbody + '<tr>\
                        <td><p class="tbl-elipsis" title="'+Data[i].Name+'">' + Data[i].Name + '</p></td><td>' + Data[i].SelectionPoints + '</td><td>' + Data[i].DateOnList +' </td>\
                        <td>' + Data[i].ProgramType + '</td>\
                        <td>' + Data[i].Choice + '</td>\
                        <td>' + Data[i].Gender + '</td>\
                        <td>' + Data[i].DOB + '</td>';

                    if ('@fswHV' == '1') {


                        if(Data[i].ProgramType=="PM")
                        {
                            tbody=tbody+ '<td>\
    <a href="#" onclick="showdiv2(this,' + 0 + ',' + 0 + ','+clientAcceptanceType.ImmediateEnrollment+');" IsHomeBased="' + Data[i].IsHomeBased + '" option="' + Data[i].Option + '"  IsIEP="' + Data[i].IsIEP + '" IsIFSP="' + Data[i].IsIFSP + '" IsExpired="' + Data[i].IsExpired + '" ClientId="' + Data[i].ClientId + '" Programid="' + Data[i].Programid + '"        HouseHoldId="' + Data[i].HouseholdId + '" CenterID="' + Data[i].CenterId + '" Transport="' + Data[i].CTransport + '" BMIStatus="' + Data[i].ChildWeight + '" FoodAllergies="' + Data[i].FoodAllergies + '" accesskey=' + Data[i].ClientId + '>Schedule Appointment</a>\
    </td>';
                        }
                        else{

                            tbody=tbody+ '<td>\
    <a href="#" onclick="showdiv(this,' + Data[i].ChildWeight + ',' + Data[i].CParentDisable + ','+clientAcceptanceType.ImmediateEnrollment+');" IsHomeBased="' + Data[i].IsHomeBased + '" option="' + Data[i].Option + '"  IsIEP="' + Data[i].IsIEP + '" IsIFSP="' + Data[i].IsIFSP + '" IsExpired="' + Data[i].IsExpired + '" ClientId="' + Data[i].ClientId + '" Programid="' + Data[i].Programid + '"        HouseHoldId="' + Data[i].HouseholdId + '" CenterID="' + Data[i].CenterId + '" Transport="' + Data[i].CTransport + '" BMIStatus="' + Data[i].ChildWeight + '" FoodAllergies="' + Data[i].FoodAllergies + '" accesskey=' + Data[i].ClientId + '>Assign Classroom</a>\
    </td>';
                        }

     

                        tbody=tbody+'<td><a href="#" onclick="removeFromWaiting(this);" option="' + Data[i].Option + '" ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"  style="text-decoration:underline;">Remove</a> </td>';

                    }

                    tbody=tbody+'</tr>';




                }
                if (_programtype1 == 0) {
                    if (Data[0].UserList != null && Data[0].UserList.length > 0) {
                        _programtype1 = 1;
                        for (var i = 0; i < Data[0].UserList.length; i++) {
                            option = option + '<option value="' + Data[0].UserList[i].userId + '">' + Data[0].UserList[i].Name + '</option>';
                        }
                        $('#ddlnurseAll').find('option').remove().end().append(option);
                        $('#ddlnurseAll').val('');
                    }
                    else {
                        $('#ddlnurseAll').find('option').remove();
                    }
                }
                option = "";
                if (_Nurse1 == 0) {
                    if (Data[0].ProgramsList != null && Data[0].ProgramsList.length > 0) {
                        _Nurse1 = 1;
                        for (var i = 0; i < Data[0].ProgramsList.length; i++) {
                            option = option + '<option value="' + Data[0].ProgramsList[i].Id + '">' + Data[0].ProgramsList[i].Name + '</option>';
                        }
                        $('#ddlProgramtypeAll').find('option').remove().end().append(option);
                        $('#ddlProgramtypeAll').val('');
                    }
                    else {
                        $('#ddlProgramtypeAll').find('option').remove();
                    }
                }
                $('#DivWaitingListAllPopup > tbody').append(tbody);
                if (!$('#ModalWaitingListAll').hasClass('in'))
                    $('#ModalWaitingListAll').modal('toggle');
            }
            else {
                $('#DivWaitingListAllPopup > tbody > tr').remove();
                $('#div4').show();
            }


            if (Data[0].Classroom != null && Data[0].Classroom.length > 0) {
                for (var i = 0; i < Data[0].Classroom.length; i++) {
                    if (Data[0].Classroom[i].ActualSeats <= 0) {
                        classroomOption = classroomOption + '<option value="' + Data[0].Classroom[i].ClassroomID + '" disabled="disabled" style="color: red;">' + Data[0].Classroom[i].ClassName + '</option>';
                    }
                    else {
                        classroomOption = classroomOption + '<option value="' + Data[0].Classroom[i].ClassroomID + '">' + Data[0].Classroom[i].ClassName + '</option>';
                    }

                }
                $('#ModalWaitingListAll').find('#ddlclassroom').find('option').remove().end().append(classroomOption);
                $('#ModalWaitingListAll').find('#ddlclassroom').val('');

                $('#HVAcceptancedivClient').find('#HVddlclassroom').find('option').remove().end().append(classroomOption);
                $('#HVAcceptancedivClient').find('#HVddlclassroom').val('');

            }
            else {
                $('#ModalWaitingListAll').find('#ddlclassroom').find('option').remove();
                $('#HVAcceptancedivClient').find('#HVddlclassroom').find('option').remove();
            }
            classroomOption = "";
        }

        function removeFromWaiting(ele) {


            
            BootstrapDialog.confirm('You are about to remove the client from waiting list.Click OK to proceed.', function (result) {
                if (result) {

                    var op = $(ele).attr('option');
                    var ecid = $(ele).attr('clientid');
                    var hId = $(ele).attr('householdid');
                    var PId = $(ele).attr('programid');
                    var cIdd = $(ele).attr('centerid');

                    var clientAccepted = {
                        'ClientId': ecid,
                        'HouseholdId': hId,
                        'CenterId': cIdd,
                        'ProgramType': PId,
                        'Choice': op,
                    };
               

                    $.ajax({

                        url: '/AgencyUser/DeleteFromWaiting',
                        type: 'Post',
                        datatype: 'json',
                        //  dataType: 'application/json; charset=utf-8',
                        beforeSend: function () { $('#spinner').show() },
                        data: clientAccepted,
                        success: function (data) {

                            $("#spinner").hide();
                            if (data) {
                                reloadPage = true;

                                var singleRow=$(ele).parent('td').parent('tr').parent('tbody').children('tr').length==1;
                                $(ele).parent('td').parent('tr').remove();

                                customAlert("Record removed successfully.");

                                if(singleRow)
                                {
                                    location.reload(true);
                                }

                            }
                            else {

                                reloadPage = false;
                                customAlert('Error Occured.Please, try again later.')
                            }

                        },
                        error: function (data) {
                            $('#spinner').hide();
                            customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                        },
                        complete: function (data) {

                        }
                    });
                }
            });



        }

        function GetUserListAll() {

            if (_centerid != null) {
                $.ajax({
                    url: HostedDir + "/Home/GetclientWaitingList",
                    type: "POST",
                    data: {
                        Centerid: _centerid,
                        Option: 0,
                        Programtype: $('#ddlProgramtypeAll').val()
                    },
                    dataType: "json",
                    secureuri: false,
                    async: false,
                    success: function (Data) {
                        BindClientlistAll(Data);
                    }
				, error: function (Data) {
				    customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
				}
                });

            }
        }
        function ClearUserListAll() {

            $('#ddlProgramtypeAll').val('');
            if (_centerid != null) {
                $.ajax({
                    url: HostedDir + "/Home/GetclientWaitingList",
                    type: "POST",
                    data: {
                        Centerid: _centerid,
                        Option: 0,
                        Programtype: 0
                    },
                    dataType: "json",
                    secureuri: false,
                    async: false,
                    success: function (Data) {
                        BindClientlistAll(Data);
                    }
				, error: function (Data) {
				    customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
				}
                });

            }
        }
        function ShowHealthstaffall(Aobject) {
            _option1 = 0;
            _Object = Aobject;
            _option1 = $(_Object).attr("option");
            //   $('#Acceptancedivall').show();
            //   $('#Acceptancedivall').focus();
            var clientname = $(Aobject).closest("tr").find("td:first").text();

            BootstrapDialog.confirm('Click OK to move ' + clientname + ' to acceptance process', function (result) {
                if (result) {

                    $.ajax({
                        url: HostedDir + "/Agencyuser/SaveAcceptanceprocess",
                        type: "POST",
                        data: {
                            Clientid: $(_Object).attr("clientid"),
                            Usernurseid: $('#ddlnurse').val(),
                            householdid: $(_Object).attr("householdid"),
                            centerid: $(_Object).attr("centerid"),
                            Programid: $(_Object).attr("programid"),

                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        traditional: true,
                        success: function (response) {
                            if (response == 1) {
                                customAlert("Record saved successfully.");
                                $('#Acceptancediv').hide();
                                $('#ddlnurse').val('');
                                $(_Object).closest('tr').remove();
                                if ($('#DivWaitingListPopup > tbody tr').length < 1) {
                                    $('#div1').show();
                                }
                                if ($(WaitObject).text() != "" && $(WaitObject).text() != "0") {
                                    $(WaitObject).text(parseInt($(WaitObject).text()) - 1);
                                    $(WaitObject).closest('tr').find('td a').eq(5).text(parseInt($(WaitObject).closest('tr').find('td a').eq(5).text()) + 1);
                                    $(WaitObject).closest('tr').find('td a').eq(4).text(parseInt($(WaitObject).closest('tr').find('td a').eq(4).text()) - 1);
                                }
                                if ($(WaitObject).text() == "0") {
                                    $(WaitObject).attr("href", "#");
                                }
                                setTimeout(function () {
                                    window.location.reload();
                                }, 800);
                            }
                            if (response == 2) {
                                customAlert("No available slots. Please contact your administrator for assistance.");
                            }
                        }
              , error: function (response) {
                  customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
              }
                    });

                }
            });
        }
        function CancelWaitingAll() {

        }
        function SaveWaitingall() {
            cleanValidation();
            isValid = true;
            if ($('#ddlnurseAll').val() == "" || $('#ddlnurseAll').val() == null) {
                isValid = false;
                customAlert("Assign to is required. ");
                plainValidation('#ddlnurseAll');
                return isValid;
            }
            else {
                if (_Object != null && _centerid != null) {
                    BootstrapDialog.confirm('Are you sure want to send this client for approval?', function (result) {
                        if (result) {
                            $.ajax({
                                url: HostedDir + "/Agencyuser/SaveAcceptanceprocess",
                                type: "POST",
                                data: {
                                    Clientid: $(_Object).attr("clientid"),
                                    Usernurseid: $('#ddlnurseAll').val(),
                                    householdid: $(_Object).attr("householdid"),
                                    centerid: $(_Object).attr("CenterID"),
                                    Programid: $(_Object).attr("programid")
                                },
                                dataType: "json",
                                secureuri: false,
                                async: false,
                                success: function (response) {
                                    if (response == 1) {
                                        customAlert("Record saved successfully.");

                                        $('#ddlnurseAll').val('');
                                        $(_Object).closest('tr').remove();
                                        if ($('#DivWaitingListAllPopup > tbody tr').length < 1) {
                                            $('#div4').show();
                                        }
                                        if ($(WaitObject).text() != "" && $(WaitObject).text() != "0") {
                                            $(WaitObject).text(parseInt($(WaitObject).text()) - 1);
                                            $(WaitObject).closest('tr').find('td a').eq(5).text(parseInt($(WaitObject).closest('tr').find('td a').eq(5).text()) + 1);

                                            if (_option1 == 1) {
                                                $(WaitObject).closest('tr').find('td a').eq(1).text(parseInt($(WaitObject).closest('tr').find('td a').eq(1).text()) - 1);

                                            }
                                            if (_option1 == 2) {

                                                $(WaitObject).closest('tr').find('td a').eq(2).text(parseInt($(WaitObject).closest('tr').find('td a').eq(2).text()) - 1);
                                            }
                                            if (_option1 == 3) {

                                                $(WaitObject).closest('tr').find('td a').eq(3).text(parseInt($(WaitObject).closest('tr').find('td a').eq(3).text()) - 1);
                                            }
                                        }
                                        if ($(WaitObject).text() == "0") {
                                            $(WaitObject).attr("href", "#");
                                        }
                                        setTimeout(function () {
                                            window.location.reload();
                                        }, 800);
                                    }
                                    if (response == 2) {
                                        customAlert("No available slots. Please contact your administrator for assistance.");
                                    }

                                }
					   , error: function (response) {
					       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
					   }
                            });
                        }
                    });
                }
            }
        }



        $(document).on("change", "#ddlpagetodisplay-rej", function (e) {

            ClientRejectedListwithPagination(globeParam.type, 1, globeParam.search, globeParam.Centerid);
        });

        $(document).on("change", "#ddlpaging-rej", function (e) {
            e.preventDefault();
            var _nxtPg = $(this).val();

            ClientRejectedListwithPagination(globeParam.type, _nxtPg, globeParam.search, globeParam.Centerid);


        });

        function drawrejectPagedropdown(TotalRecord, pagno) {

            var _psize = parseInt($("#ddlpagetodisplay-rej").val());
            var _pcount = Math.ceil(TotalRecord / _psize); //ceil- Round a number upward to its nearest integer:

            $("#ddlpaging-rej").html('');
            for (var i = 1; i <= _pcount; i++) {

                $("#ddlpaging-rej").append('<option value="' + i + '">' + i + '</option>')
            }

            $("#ddlpaging-rej").val(pagno);


        };

        $(document).on("click", "#btnSearchauto-rej", function (e) {
            e.preventDefault();
           // var _type = $(this).data("type");;
            var svale = $("#search-rej-client-input").val();
           // var cid = $(this).data("Centerid");

            // ClientPendinListwithPagination(_type, 1, svale, cid);
            ClientRejectedListwithPagination(globeParam.type, 1, svale, globeParam.Centerid);
        });

        function loadRejectedList(Object, Centerid, type, RequestedPage, search) {  //type=2 => returned , 4 => over income Returned
            WaitObject = Object;
            type = type ? type : 2;
            RequestedPage = RequestedPage ? RequestedPage : 1;

            globeParam.type = type, globeParam.RequestedPage = RequestedPage,
           globeParam.search = search, globeParam.Centerid = Centerid;

            $('#CenterNameRejected').html($(Object).closest("tr").find("td:first a").text()+'&nbsp;(<span style="color:#f9c751;">Returned</span>)');
            ClientRejectedListwithPagination(type, 1, "", Centerid);
            /*

            $.ajax({
                url: HostedDir + "/Home/LoadClientPendinglist",
                type: "POST",
                data: JSON.stringify( {
                    Centerid: Centerid,
                    Type: type,
                    Gparam:  {
                        PageSize: $("#ddlpagetodisplay").val(),
                        RequestedPage: RequestedPage,
                        SortOrder: 'asc',
                        SortColumn: 'name',
                        Search: search
                    }

                }),
                dataType: "json",
                contentType: "application/json;",
                //secureuri: false,
               // async: false,
                success: function (Data) {
                    //  BindRejectelist(Data,type);
                    BindRejectelist(Data.data, type, Data.TotalRecords, RequestedPage)
                }
			   , error: function (Data) {
			       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
			   }
            });

            */
        }

        //  function ClientRejectedListwithPagination()
        function ClientRejectedListwithPagination(type, RequestedPage, search, Centerid) {
            globeParam.type = type, globeParam.RequestedPage = RequestedPage,
         globeParam.search = search, globeParam.Centerid = Centerid;

            $.ajax({
                url: HostedDir + "/Home/LoadClientPendinglist",
                type: "POST",
                data: JSON.stringify({
                    Centerid: Centerid,
                    Type: type,
                    Gparam: {
                        //PageSize: $("#ddlpagetodisplay").val(),
                        PageSize: $("#ddlpagetodisplay-rej").val(),
                        RequestedPage: RequestedPage,
                        SortOrder: sort.dir,
                        SortColumn:sort.column,
                        Search: search
                    }

                }),
                dataType: "json",
                contentType: "application/json;",
                //secureuri: false,
                // async: false,
                success: function (Data) {
                    //  BindRejectelist(Data,type);
                    BindRejectelist(Data.data, type, Data.TotalRecords, RequestedPage)
                }
      , error: function (Data) {
          customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
      }
            });
        }

        // function BindRejectelist(Data, type) {
        function BindRejectelist(Data, type, totalrec, pno) {

            type = type = 4 ? "all" : type;

            if (totalrec > 0) {
                drawrejectPagedropdown(totalrec, pno)
            }

            if (Data != null && Data.length > 0) {
                $('#div5').hide();
                var tbody = "";
                var option = "";
                $('#DivRejectedList > tbody > tr').remove();
                for (var i = 0; i < Data.length; i++) {
                    //tbody = tbody + '<tr><td><a style="text-decoration: underline;" href="' + HostedDir + '/AgencyUser/FamilyDetails?id=' + Data[i].HouseholdIdencrypted + '&returned=1">'+Data[i].Name+'</a></td><td>' + Data[i].DateOnList +

                    tbody = tbody + '<tr data-index="' + i + '"><td><a data-index="' + i + '" data-type="' + type + '" href="javascript:void(0);" class="scroll-click" onclick="AcceptanceStatus(this);" Id="' + Data[i].Id + '"  ClientId="' + Data[i].ClientId + '" HouseHoldId="' + Data[i].HouseholdId + '" ProgramID="' + Data[i].Programid + '"  CenterID="' + Data[i].CenterId + '"   style="text-decoration:underline;">' + Data[i].Name + '</a></td><td>' + Data[i].DateOnList + '</td>';

                    if ('@fswHV' == '1') {
                        tbody = tbody + '<td>' + Data[i].Notes + '</td>\
                                        <td> <a  data-type="' + type + '"  href="javascript:void(0);" style="cursor:pointer;text-decoration: underline;" aria-hidden="true" onclick="AcceptanceStatus(this);" Yakkrid="' + Data[i].Id + '" ClientId="' + Data[i].ClientId + '" HouseholdId="' + Data[i].HouseholdId + '"  HouseholdIdencrypted="' + Data[i].HouseholdIdencrypted + '"  PopupFrom="3" >Edit</a> &nbsp;&nbsp;\
                                        <a  href="javascript:void(0);"  style="cursor:pointer;text-decoration: underline;" aria-hidden="true" onclick="DeleteRejectedRecord(this);" Yakkrid="' + Data[i].Id + '" ClientId="' + Data[i].ClientId + '" HouseholdId="' + Data[i].HouseholdId + '"  HouseholdIdencrypted="' + Data[i].HouseholdIdencrypted + '">Remove</a>';
                        tbody = tbody+'</td>';

                    }

                    // tbody = tbody + '</tr>';
                    tbody = tbody + '</tr><tr class="status-row" style="display:none;"><td colspan="8" ></td></tr>';
                }
                $('#DivRejectedList > tbody').append(tbody);
                if (!$('#Modalrejected').hasClass('in'))
                    $('#Modalrejected').modal('toggle');
            }
            else {
                $('#DivRejectedList > tbody > tr').remove();
                $('#div5').show();
            }
        }


        function DeleteRejectedRecord(object) {

            BootstrapDialog.confirm("Click OK to remove client from the list.", function (result) {
                if (result) {
                    $.ajax({
                        url: HostedDir + "/Home/DeleteRejectedRecord",
                        type: "POST",
                        data: {
                            Id: $(object).attr("Yakkrid"),
                            ClientId: $(object).attr("ClientId"),
                            HouseholdId: $(object).attr("HouseholdId")
                        },
                        dataType: "json",
                        secureuri: false,
                        async: false,
                        success: function (response) {
                            if (response == 1) {
                                customAlert("Record removed successfully.");
                                setTimeout(function () {
                                    //window.location.href = HostedDir + '/AgencyUser/FamilyDetails/' + $(object).attr("HouseholdIdencrypted");
                                    window.location.href = HostedDir + '/Home/AgencystaffDashboard/';
                                }, 800);
                            }
                            else if (response == 2) {
                                customAlert("Record not exists or already removed from client returned list.");
                                setTimeout(function () {
                                    window.location.href = HostedDir + '/AgencyUser/FamilyDetails/' + $(object).attr("HouseholdIdencrypted");
                                }, 800);
                            }
                        }
                   , error: function (response) {
                       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                   }
                    });


                }
            });
        }

        function Getallcenter(value) {
            var mode = 0;
            var text = 'Do you want to see only your centers?';
            if ($(value).prop("checked")) {
                mode = 1;
                text = 'Do you want to see all centers? ';
            }
            BootstrapDialog.confirm({

                title:'Confirmation',
                message:text,
                closable: true,
                closeByBackdrop: false,
                closeByKeyboard: false,
                onhide:function(dialogRef)
                {  debugger;
                    //window.setTimeout(function(){

                    //    $('body').addClass('modal-open');
                    //},500);
                },
                onhidden: function(dialogRef){

                    //window.setTimeout(function(){

                    //    $('body').addClass('modal-open');
                    //},500);
                },
                btnCancelLabel: 'Cancel', // <-- Default value is 'Cancel',
                btnOKLabel: 'OK',
                callback:   function (result) {
                    if (result) {

                        $.ajax({
                            url: HostedDir + "/AgencyUser/Getallcenter",
                            type: "POST",
                            data: {
                                mode: mode,
                                homebased:isHome
                            },
                            dataType: "json",
                            //secureuri: false,
                            async: false,
                            success: function (response) {
                                if (response.length > 0) {


                                    var $tbody=$(value).closest('fieldset').find('.table-waiting-list').find('tbody')

                                    $tbody.children('tr').remove();

                                    //   $('#DivWaitinglist tbody tr').remove();
                                    var tr = '';
                                    for (var i = 0; i < response.length; i++) {
                                        tr += '<tr><td><input onchange="Clearselect(this);" name="Accept" value="' + response[i].CenterId + '" type="checkbox" /><span style="width:78%;display:inline-block;">' + response[i].Name + '</span></td>'+
                                        '<td>' + response[i].Address + '</td><td>' + response[i].Zip + '</td><td>' + response[i].SeatsAvailable + '</td>' +
                                        '<td><select ><option value="1">1</option><option value="2">2</option><option value="3">3</option></select></td><td><input type="text" style="width:100% !important;" maxlength="60" class="form-control" /></td></tr>';
                                    }
                                    $tbody.append(tr);

                                    $tbody.find('tr').each(function () {
                                        $(this).find('td:eq(4) :input').val("");
                                    });

                                }



                            }
                   , error: function (response) {
                       console.log(response);
                       // customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
                   }
                        });
                    }
                    else {
                        if ($(value).prop("checked")) {
                            $(value).prop("checked", false);

                            return;
                        }
                        if (!$(value).prop("checked"))
                            $(value).prop("checked", true);
                    }

                 
                }
            });

            //window.setTimeout(function(){

            //    $('body').addClass('modal-open');
            //},1000);
        }
        function Clearselect(value) {
            $(value).closest('tr').find('select').val('');
        }
        function SaveWaitinglist(ele,mode) {
      

            var $object= (mode==1)?Acceptwaitingobject:_Object;

            cleanValidation();
            var $divWaitingList=$(ele).closest('fieldset').find('.table-waiting-list');
            if ($object != null) {
                var centrerselected = 0;
                var totalcenterselected = 0;
                var Waitingoption = [];
                var Waitingoptionsort = [];
                var Waitingoptionduplicate = 0;
                var option = 0;


                //$("#DivWaitinglist > tbody >tr").each(function () {

                $divWaitingList.find('tbody > tr').each(function(){

                    if ($(this).find('input[type=checkbox]').prop("checked")) {
                        centrerselected = 1;
                        totalcenterselected = totalcenterselected + 1;
                    }
                    if ($(this).find('select').val() != "" && $(this).find('select').val() != null) {
                        Waitingoption.push($(this).find('select').val());
                    }
                    if ($(this).find('input[type=checkbox]').prop("checked") && ($(this).find('select').val() == "" || $(this).find('select').val() == null)) {
                        option = 1;
                    }
                });
                if (Waitingoption.length > 0) {
                    Waitingoptionsort = Waitingoption.sort();
                    for (var i = 0; i < Waitingoptionsort.length - 1; i++) {
                        if (Waitingoptionsort[i + 1] == Waitingoptionsort[i]) {
                            Waitingoptionduplicate = 1;
                        }
                    }
                }
                if (centrerselected == 0) {
                    customAlert("Please select center. ");
                }
                else if (option == 1) {

                    //$("#DivWaitinglist > tbody >tr").each(function () {

                    $divWaitingList.find('tbody > tr').each(function(){

                        if ($(this).find('input[type=checkbox]').prop("checked") && ($(this).find('select').val() == "" || $(this).find('select').val() == null)) {
                            plainValidation($(this).find('select'));
                            customAlert("Options is required.");
                            return false;
                        }
                    });
                }
                else if (totalcenterselected > 3) {
                    customAlert(" You can select up to 3 centers.");
                }
                else if (Waitingoptionduplicate > 0) {
                    customAlert("Duplicate value not allowed in options");

                }
                else {
                    BootstrapDialog.confirm('Are you sure, Want to send this client to Waiting List?', function (result) {
                        if (result) {
                            var waitinglist = [];
                            var _waitinglist = [];

                            //$("#DivWaitinglist > tbody >tr").each(function () {

                            $divWaitingList.find('tbody > tr').each(function(){

                                if ($(this).find('td:eq(0)').find('input[type=checkbox]').prop("checked")) {

                                    _waitinglist = {
                                        CenterId: $(this).find('td:eq(0)').find('input[type=checkbox]').val(),
                                        Householid: $($object).attr("householdid"),
                                        Clientid: $($object).attr("clientid"),
                                        Programid: $($object).attr("programid"),
                                        Options: $(this).find('select').val(),
                                        Notes: $(this).find('input:text').val()
                                    };
                                    waitinglist.push(_waitinglist);
                                }
                            });
                            $.ajax({
                                contentType: 'application/json; charset=utf-8',
                                url: HostedDir + "/Agencyuser/SaveWaitingclient",
                                type: "POST",
                                data:
									JSON.stringify({
									    'waitinglist': waitinglist
									}),
                                dataType: "json",
                                secureuri: false,
                                async: false,
                                success: function (response) {
                                    if (response = 1) {
                                        customAlert("Client moved successfully to waiting list.");

                                        //$("#DivWaitinglist > tbody >tr").each(function () {

                                        $divWaitingList.find('tbody>tr').each(function(){

                                            $(this).find('input[type=checkbox]').prop("checked", false);
                                            $(this).find('select').val('');
                                            $(this).find('input:text').val('');
                                            cleanValidation();
                                        });
                                        setTimeout(function () {
                                            window.location.reload();
                                        }, 800);

                                    }

                                }
								  , error: function (response) {
								      customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
								  }
                            });
                        }
                    });
                }
            }
        }
        function CloseWaitinglistdiv(ele) {

            $(ele).closest('fieldset').parent('div').hide();
            $(ele).closest('.control-group').animate({ scrollTop: $(ele).closest('fieldset').parent('div').offset().top - 50 }, 1000);
            //$('#PendingWaiting').hide();
        }

        function Showaddchart(object) {
            $('#Hideattchart').show();
            $.ajax({
                url: HostedDir + "/Home/GetDailyAttendance",
                type: "POST",
                data: {
                    Centerid: $(object).attr("accesskey")
                },
                dataType: "json",
                secureuri: false,
                async: false,
                success: function (response) {
                    console.log(response);
                    if (response != null) {
                        var gaugeChart2 = AmCharts.makeChart("chartdivYearly", {

                          
                            "theme": "light",
                            "type": "gauge",
                            "responsive": {
                                "enabled": true
                            },
                            "axes": [{
                                "topTextFontSize": 20,
                                "topTextYOffset": 70,
                                "topText": response.YearlyPercentage + "%",
                                "axisColor": "#31d6ea",
                                "axisThickness": 1,
                                "endValue": 100,
                                "gridInside": true,
                                "inside": true,
                                "radius": "50%",
                                "valueInterval": 10,
                                "tickColor": "#67b7dc",
                                "startAngle": -90,
                                "endAngle": 90,
                                "unit": "%",
                                "bandOutlineAlpha": 0,
                                "bands": [{
                                    "balloonText": "Poor",
                                    "color": "#f70000",
                                    "endValue": 70,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 0
                                }, {
                                    "balloonText": "Fair",
                                    "color": "#ffff00",
                                    "endValue": 90,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 70
                                }, {
                                    "balloonText": "Good",
                                    "color": "#00ff00",
                                    "endValue": 100,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 90
                                }]
                            }],
                            "arrows": [{
                                "alpha": 1,
                                "innerRadius": "35%",
                                "nailRadius": 0,
                                "radius": "170%",
                                "value": response.YearlyPercentage
                            }]
                        });
                        var gaugeChart1 = AmCharts.makeChart("chartdivWeekly", {
                            "theme": "light",
                            "type": "gauge",
                            "responsive": {
                                "enabled": true
                            },
                            "axes": [{
                                "topTextFontSize": 20,
                                "topTextYOffset": 70,
                                "topText": response.WeeklyPercentage + "%",
                                "axisColor": "#31d6ea",
                                "axisThickness": 1,
                                "endValue": 100,
                                "gridInside": true,
                                "inside": true,
                                "radius": "50%",
                                "valueInterval": 10,
                                "tickColor": "#67b7dc",
                                "startAngle": -90,
                                "endAngle": 90,
                                "unit": "%",
                                "bandOutlineAlpha": 0,
                                "bands": [{
                                    "balloonText": "Poor",
                                    "color": "#f70000",
                                    "endValue": 70,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 0
                                }, {
                                    "balloonText": "Fair",
                                    "color": "#ffff00",
                                    "endValue": 90,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 70
                                }, {
                                    "balloonText": "Good",
                                    "color": "#00ff00",
                                    "endValue": 100,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 90
                                }]
                            }],
                            "arrows": [{
                                "alpha": 1,
                                "innerRadius": "35%",
                                "nailRadius": 0,
                                "radius": "170%",
                                "value": response.WeeklyPercentage
                            }]
                        });
                        var gaugeChart1 = AmCharts.makeChart("chartdivMonthly", {
                            "theme": "light",
                            "type": "gauge",
                            "responsive": {
                                "enabled": true
                            },
                            "axes": [{
                                "topTextFontSize": 20,
                                "topTextYOffset": 70,
                                "topText": response.MonthlyPercentage + "%",
                                "axisColor": "#31d6ea",
                                "axisThickness": 1,
                                "endValue": 100,
                                "gridInside": true,
                                "inside": true,
                                "radius": "50%",
                                "valueInterval": 10,
                                "tickColor": "#67b7dc",
                                "startAngle": -90,
                                "endAngle": 90,
                                "unit": "%",
                                "bandOutlineAlpha": 0,
                                "bands": [{
                                    "balloonText": "Poor",
                                    "color": "#f70000",
                                    "endValue": 70,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 0
                                }, {
                                    "balloonText": "Fair",
                                    "color": "#ffff00",
                                    "endValue": 90,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 70
                                }, {
                                    "balloonText": "Good",
                                    "color": "#00ff00",
                                    "endValue": 100,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 90
                                }]
                            }],
                            "arrows": [{
                                "alpha": 1,
                                "innerRadius": "35%",
                                "nailRadius": 0,
                                "radius": "170%",
                                "value": response.MonthlyPercentage
                            }]
                        });
                        var gaugeChart1 = AmCharts.makeChart("chartdivDaily", {
                            "theme": "light",
                            "type": "gauge",
                            "responsive": {
                                "enabled": true
                            },
                            "axes": [{
                                "topTextFontSize": 20,
                                "topTextYOffset": 70,
                                "topText": response.CurrentDayPercentage + "%",
                                "axisColor": "#31d6ea",
                                "axisThickness": 1,
                                "endValue": 100,
                                "gridInside": true,
                                "inside": true,
                                "radius": "50%",
                                "valueInterval": 10,
                                "tickColor": "#67b7dc",
                                "startAngle": -90,
                                "endAngle": 90,
                                "unit": "%",
                                "bandOutlineAlpha": 0,
                                "bands": [{
                                    "balloonText": "Poor",
                                    "color": "#f70000",
                                    "endValue": 70,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 0
                                }, {
                                    "balloonText": "Fair",
                                    "color": "#ffff00",
                                    "endValue": 90,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 70
                                }, {
                                    "balloonText": "Good",
                                    "color": "#00ff00",
                                    "endValue": 100,
                                    "innerRadius": "105%",
                                    "radius": "170%",
                                    "gradientRatio": [0.5, 0, -0.5],
                                    "startValue": 90
                                }]
                            }],
                            "arrows": [{
                                "alpha": 1,
                                "innerRadius": "35%",
                                "nailRadius": 0,
                                "radius": "170%",
                                "value": response.CurrentDayPercentage
                            }]
                        });
                        $('#todayReport').children('div').find('.totalstud').text(response.DailyClientCount);
                        $('#todayReport').children('div').find('.totaldays').text(response.DayTotalEnroll);
                        $('#todayReport').children('div').find('.totalavg').text(response.DailyClientCount);


                        $('#weeklyReport').children('div').find('.totalstud').text(response.WeeklyClientCount);
                        $('#weeklyReport').children('div').find('.totaldays').text(response.WeekTotalEnroll);
                        $('#weeklyReport').children('div').find('.totalavg').text(response.DailyClientCount);


                        $('#monthlyReport').children('div').find('.totalstud').text(response.MonthlyClientCount);
                        $('#monthlyReport').children('div').find('.totaldays').text(response.MonthTotalEnroll);
                        $('#monthlyReport').children('div').find('.totalavg').text(response.DailyClientCount);

                        $('#yearlyReport').children('div').find('.totalstud').text(response.YearlyClientCount);
                        $('#yearlyReport').children('div').find('.totaldays').text(response.YearTotalEnroll);
                        $('#yearlyReport').children('div').find('.totalavg').text(response.DailyClientCount);

                        $('html, body').animate({ scrollTop: $('#chartdivDaily').offset().top - 50 }, 1000);
                    }


                }
		   , error: function (response) {
		       customAlert("Session Ended Log Onto The System Again."); setTimeout(function () { window.location.href = HostedDir + '/login/Loginagency'; }, 2000);
		   }
            });



            //$('.js-gauge--1').kumaGauge({
            //    value: 100,
            //    //fill: '#337ab7',
            //    //fill: '0-#fa4133:0-#fdbe37:50-#1cb42f:100',
            //    gaugeBackground: '#337ab7',
            //    gaugeWidth: 10,
            //    showNeedle: false,
            //    label: {
            //        display: true,
            //        left: 'Min',
            //        right: 'Max',
            //        fontFamily: 'Helvetica',
            //        fontColor: '#1E4147',
            //        fontSize: '11',
            //        fontWeight: 'bold'
            //    }
            //});








        }
        function getAllUserEvents() {

            $.ajax({
                url: HostedDir + "/HomeVisitor/getevents/",
                type: 'Post',
                async: false,
                success: function (response) {
                    for (var i = 0; i < response.length; i++) {
                        dbevents.push(response[i]);

                    }

                }
            });
        }
        function compareEvent(event) {
            var result = false;
            var Allevents = [];

            for (var i = 0; i < dbevents.length; i++) {
                Allevents.push(dbevents[i]);

            }
            for (var j = 0; j < dbevents.length; j++) {
                var weekcount = 0;
                var compdate = new Date(new Date(event.end).setDate(event.end.getDate() + 30));
                if (dbevents[j].IsRecurrence == true) {

                    var maineventstartday = new Date(moment(dbevents[j].start).format('MM/DD/YYYY hh:mm A'))

                    var comparedate = new Date(moment(compdate).format('MM/DD/YYYY hh:mm A'));

                    var eventscount = parseInt(((comparedate.getTime() - maineventstartday.getTime()) / (1000 * 60 * 60 * 24 * 7))) + 1;
                    var newstratdate;
                    var newenddate;
                    for (var i = 1; i < eventscount; i++) {
                        var createdev = {
                            AgencyId: "",
                            title: dbevents[j].title,
                            ClientName: dbevents[j].ClientName,
                            Description: dbevents[j].Description,
                            allDay: false,
                            IsRecurrence: false,
                        }
                        var newstratdate = new Date(new Date(moment(dbevents[j].start).format('MM/DD/YYYY hh:mm A')).setDate(new Date(moment(dbevents[j].start).format('MM/DD/YYYY hh:mm A')).getDate() + (7 * i)));
                        var newenddate = new Date(new Date(moment(dbevents[j].end).format('MM/DD/YYYY hh:mm A')).setDate(new Date(moment(dbevents[j].end).format('MM/DD/YYYY hh:mm A')).getDate() + (7 * i)));;


                        //if (newstratdate.getFullYear() >= comparedate.getFullYear()){
                        if (newenddate > comparedate) {
                            break;
                        }
                        else {
                            createdev._id = newenddate.getTime();
                            createdev.end = newenddate;
                            createdev.start = newstratdate;
                            var renderEvent = true;
                            for (var k = 0; k < dbevents.length; k++) {
                                if (dbevents[k]._id == newenddate.getTime()) {
                                    renderEvent = false;
                                }
                            }
                            if (newenddate > compdate) {
                                renderEvent = false;
                            }
                            if (renderEvent) {
                                Allevents.push(createdev);
                            }
                        }

                    }
                }

            }
            //for loop end
            for (var i = 0; i < Allevents.length; i++) {
                if (event.end >= new Date(moment(Allevents[i].start).format('MM/DD/YYYY hh:mm A')) && event.start <= new Date(moment(Allevents[i].end))) {
                    result = true;
                }
            }
            return result;





        }
        function setatstart(value) {
            if ($(value).val() == "MM/DD/YYYY") {
                $(value).val('');
            }

        }
        // shambhu changes
        function ChangeCheckBox(Aobject, t) {
            _Object = Aobject;

            $('.AssignFSW').hide();
            $('.selAssignFSW').val('');
            $('.selAssignHV').val('');

            if (t.is(':checked')) {
                var data = $(Aobject).closest("tr").find("td:nth-child(2)").text();

                //$('#dvClientName').append('<span style="margin-bottom:0px;"  id=' + $(Aobject).attr("clientid") + ' class="SpnSelectedClient">' + data + '</span>');

                $('#Acceptancediv').show();
                $('#Acceptancediv').focus(Aobject);
                LoadMultipleFSWorHVList(Aobject);
            }
            else {

                $('#dvClientName').find('.divMultiClient' + $(Aobject).attr("clientid")).remove();
                $('#' + $(Aobject).attr("clientid") + '').remove();
            }
        }


        function showImage(ele) {
            $('#spinner').show();
            var enc_id = $(ele).attr('EClientId');
            $.ajax({
                url: '/Roster/GetChildrenImage',
                dataType: 'json',
                type: 'post',
                data: { enc_clientId: enc_id },
                success: function (data) {

                    var image = '';
                    if (data.Text == "" && data.Value == "2") {
                        image = '<img class="roundimage"  width="50" height="50"  src="/Content/img/ic_female.png" />';
                    }
                    else if (data.Text == "" && data.Value == "1") {
                        image = '<img class="roundimage" width="50" height="50"   src="/Content/img/ic_male.png" />';
                    }
                    else if (data.Text == "" && ata.Text == "3") {
                        image = '<img class="roundimage"  width="50" height="50"  src="/Content/img/ic_male_default.png" />';
                    }
                    else if (data.Text != "") {
                        image = '<img class="roundimage" width="50" height="50"   src="data:image/jpg;base64,' + data.Text + '"/></td>'
                    }
                    else {
                        image = '<img class="roundimage"  width="50" height="50"  src="/Content/img/download.jpg" />';
                    }

                    //$(ele).parent('td').find('.tooltiptext').html(image).css({ 'top': (topalignment - 30), 'height': '110px', 'width': '120px' });
                    //$(pic).parent('td').find('.roundimage').zoomify();

                    $(ele).parent('td').append(image);
                    $(ele).parent('td').find('.roundimage').zoomify();
                    $(ele).remove();
                    $('#spinner').hide();
                },
                error: function (data) {
                    $('#spinner').hide();
                }
            });
        }

    </script>
}

@section MainContentHolder{
<link href="~/Content/Select2-3.5.3/select2.css" rel="stylesheet" />
    <link href="~/Content/css/agencystaffdashboard.css" rel="stylesheet" />
<style>
    .select2-container {
        width: 300px;
    }

        .select2-choice {
            height: 35px !important;
        }


   .future-row td,.future-row td a{
       color:green;
   }

    </style>


    <style>
        /*Dashboard table color selections*/


        #gridViewAgency > thead > tr > th:nth-child(1) {
            background-color: #547ca5;
        }
        #gridViewAgency > thead > tr > th:nth-child(2) {
            background: #e6c97e;
        }
        #gridViewAgency > thead > tr > th:nth-child(3) {
            background-color: #e95e4f;
        }
        #gridViewAgency > thead > tr > th:nth-child(4) {
            background-color: #8e44ad;
        }
        #gridViewAgency > thead > tr > th:nth-child(5) {
            /*background-color: #58ac8e;
            background-image: linear-gradient(to right, #58ac8e, #4fa484);*/


            background-color: #75522b;
    background-image: linear-gradient(to right, #754e2c, #6b6824);
        }



              #ModalPending .scroll-thead {
                  width: 100%;
              }




        #gridViewAgency > thead > tr > th:nth-child(6) {
            /*background-color: #4ea383;
            background-image: linear-gradient(to right, #4ea383, #469c7b);*/

                background-color: #2f3e62;
    background-image: linear-gradient(to right, #37416f, #2f597d);
        }





        #gridViewAgency > thead > tr > th:nth-child(7) {
                background-color: #449a78;
                background-image: linear-gradient(to right, #449a78, #3b926f);
        }
        #gridViewAgency > thead > tr > th:nth-child(8) {
           background-color: #3a906d;
           background-image: linear-gradient(to right, #3a906d, #2f8762);
        }
        #gridViewAgency > thead > tr > th:nth-child(9) {
            background-color: #cf4a12;
        }
        #gridViewAgency > thead > tr > th:nth-child(10) {
          /* background-color: #716cd2;
            background-image: linear-gradient(to right, #716cd2, #5852c4);*/
            background-color: #cf4a12;
        }
        #gridViewAgency > thead > tr > th:nth-child(11) {
               background-color: #554fc3;
             background-image: linear-gradient(to right, #554fc3, #3a34b4);
        }
        #gridViewAgency > thead > tr > th:nth-child(12) {
                background-color: #3832b2;
                background-image: linear-gradient(to right, #3832b2, #241da7);
        }
        /*Dashboard table color selections*/
        #gridViewAgency > thead > tr > th {
            white-space: nowrap;
        }

        .listmulti-client {
            width: 100%;
            float: left;
        }

        div#dvClientName h4 {
            color: #295b8f;
        }

        .edulist_centeryur {
            border: 1px solid #285b90;
            margin-bottom: 15px;
            padding-top: 5px;
        }

            .edulist_centeryur .form-group label:first-child {
                text-align: right;
                padding-right: 20px;
            }

            .edulist_centeryur .DivHide select {
                width: 30% !important;
            }

            .edulist_centeryur .DivHide label {
                text-align: right !important;
                padding-right: 16px !important;
            }

        .listmulti-client span {
            padding: 17px;
            color: #295b8f;
            background: transparent;
            text-transform: capitalize;
            font-weight: 600;
            width: 25%;
            float: left;
        }

        .listmulti-client select {
            width: 40%;
            float: left;
        }

        .little-block-text{ 
               width: 350px;

               /*width:350px;*/
    /*border: 1px solid #ddd;*/
    padding: 10px 0;
    float: right;
   

        }

            .little-block-text > div {
            border:1px solid  #ddd;
        }
           .little-block-text label strong{
               /*width:130px;*/
               width:250px;
               padding-top:6px;
                display: inline-block;
            }

                .amcharts-chart-div {
                    margin-left: 50px;
                }

                .nav-tabs-ch > li > a {
                    color: #547ca5 !important;
                }
                /*.nav-tabs-ch > li:nth-child(2){position: relative;z-index: 2;left: -5px;}
                .nav-tabs-ch > li:nth-child(2) a{border: 1px solid #f9c751!important;
            background-color: #f9c751 !important;
            color: #000 !important;}
                .nav-tabs-ch > li.active{
            position: relative;
            z-index: 8;
            transform: scale(1.09);
            top: -2px;
        }

                .nav-tabs-ch > li.active > a {
            border-bottom-color: #fff !important;
            background-color: #285b8f !important;
            color: #ffffff !important;
        }*/

              /*   #chartdivYearly {
               width: 100%;
        height: 100%;

              }*/
              .table-responsive {
                  float: left;
                  width: 100%;
              }

              .glossy-search-block.search-sec {
                  margin-bottom: 5px;
              }

              #ModalClientPendingList .pending-table {
                  background: transparent;
              }

                  #ModalClientPendingList .pending-table label {
                      color: #1d5381;
                      padding-right: 60px;
                  }

              #ModalClientPendingList .input-right {
                  width: auto;
                  float: right;
              }

              tr.status-row {
                  background: #34495e;
              }

              .panel-sec {
                  background: #34495e;
              }

              .no-padding {
                  padding-left: 0px !important;
                  padding-right: 0px !important;
              }

              .pending-text .close {
                  opacity: 1 !important;
                  position: absolute;
                  right: -44px;
                  top: -32px;
              }

        .pg-select {
            height: 42px;
            top: 0px;
        }

        .common-modal-style .pagination_wrp .pagination > li > a, .common-modal-style .pagination > li > span {
            display: inline;
            height: 33px;
            line-height: 20px !important;
            /* padding: 8px; */
            position: relative;
        }

        .common-modal-style .pg-select {
            height: 33px;
            top: 0px;
        }

        .common-modal-style .pagination_wrp .pagination {
            margin: 0px !important;
            padding-bottom: 0;
            padding-top: 8px;
        }

        .common-modal-style .modal-dialog {
            background: #34495e none repeat scroll 0 0;
            border: 6px solid #ffffff;
        }

        #ModalWaitingListAll .modal-content, #ModalOverIncome .modal-content ,#ModalFutureWaitingList .modal-content {
            background: none;
        }

        #ModalWaitingListAll .add-useragform, #ModalOverIncome .add-useragform , #ModalFutureWaitingList .add-useragform {
            background: #f1f5f8 none repeat scroll 0 0;
            border: 3px solid #ffffff;
            float: left;
            padding: 10px;
            width: 100%;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        #ModalWaitingListAll .control-group, #ModalOverIncome .control-group,#ModalFutureWaitingList .control-group {
            padding: 0 15px;
            padding-top: 10px;
        }

        #ModalWaitingListAll h4, #ModalOverIncome h4 ,#ModalFutureWaitingList h4 {
            color: #fff;
            margin: 0;
            padding: 5px 0;
        }

        #DivWaitingListAllPopup .cmn-width {
            width: 75px;
        }

        #DivWaitingListAllPopup .cmn-width2 {
            width: 60px;
        }

        #DivWaitingListAllPopup .cmn-width-ch {
            width: 140px;
        }

        .tbl-elipsis {
            width: 140px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin: 0;
        }

        .tbl-elipsis2 {
            width: 265px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin: 0;
        }

        .common-modal-style .modal-content-no-bg {
            background: none !important;
        }

            .common-modal-style .modal-content-no-bg .table-main {
                background: #f1f5f8 none repeat scroll 0 0;
                border: 3px solid #ffffff;
                float: left;
                padding: 10px;
                width: 100%;
                margin-bottom: 20px;
                border-radius: 4px;
            }

            .common-modal-style .modal-content-no-bg .control-group {
                padding: 15px;
            }

        #ModalPending h3, #ModalPending .modal-header span {
            color: #fff;
        }

        #ddlpagetodisplay_oi, #ddlpaging_oi,
        #ddlpagetodisplay_waiting, #ddlpaging_waiting {
            width: 50px;
        }

        .i-desc, .i-asc{
             display:none;
             color: #f9c751;
        }

        @@media only screen and (max-width: 760px), (max-device-width: 1200px) and (min-device-width: 768px) {
            .name-clmn, .pt-clmn, .prg-clmn, .remv-clmn, #DivWaitingListAllPopup .cmn-width,
            #DivWaitingListAllPopup .cmn-width2, #DivWaitingListAllPopup .cmn-width-ch, .tbl-elipsis, .tbl-elipsis2 {
                width: 100% !important;
            }

            #ModalClientPendingList .pending-text .close {
                top: -65px;
            }

            tr.status-row {
                background: #34495e !important;
            }
        }
    </style>

    <div class="row">

        @Html.Partial("~/Views/Partialviews/CenterClosureAlert.cshtml")


       


        <div class="col-lg-12">
            <h2 class="page-header">@Fingerprints.LocalResource.Resources.CenterOverview</h2>
        </div>

    </div>
    <div class="row">




        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
            <div class="table-responsive table-div">
                <table class="table table_size table-striped" id="gridViewAgency" role="table">
                    <thead style="cursor: pointer;" role="rowgroup">
                        <tr role="row">
                            <th role="columnheader">@Fingerprints.LocalResource.Resources.CenterName</th>
                            <th role="columnheader">@Fingerprints.LocalResource.Resources.PercentageFull</th>
                            <th role="columnheader">@Fingerprints.LocalResource.Resources.OpenSeats</th>
                            <th role="columnheader">HV's</th>
                            <th role="columnheader">@Fingerprints.LocalResource.Resources.OverIncome</th>
                            <th resource="columnheader">@Fingerprints.LocalResource.Resources.Disability</th>
                            @*<th role="columnheader">Wait1</th>
                                <th role="columnheader">Wait2</th>
                                <th role="columnheader">Wait3</th>*@
                            <th role="columnheader">T-@Fingerprints.LocalResource.Resources.Waiting</th>
                            <th role="columnheader">F-@Fingerprints.LocalResource.Resources.Waiting</th>
                            <th role="columnheader" title="100">@Fingerprints.LocalResource.Resources.Pending</th>
                            <th role="columnheader" title="106">OI-@Fingerprints.LocalResource.Resources.Pending</th>
                            <th role="columnheader" title="101">@Fingerprints.LocalResource.Resources.Accepted</th>
                            <th role="columnheader" title="102">@Fingerprints.LocalResource.Resources.Returned</th>
                            <th role="columnheader" title="107">OI-@Fingerprints.LocalResource.Resources.Returned</th>
                        </tr>
                    </thead>
                    <tbody role="rowgroup">
                        @if (ViewBag.Centerlist != null)
                        {
                            foreach (FingerprintsModel.HrCenterInfo center in ViewBag.Centerlist)
                            {
                                <tr role="row">
                                    <td data-title="@Fingerprints.LocalResource.Resources.CenterName" role="gridcell"><a style="text-decoration: underline;" onclick="Showaddchart(this);" data-toggle="tooltip" data-displacement="top" title="@center.Name" accesskey="@center.CenterId" href="#">@center.Name</a></td>
                                    <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.PercentageFull" style="text-align: right;">@Convert.ToDecimal(center.Attendance)</td>
                                    <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.OpenSeats" style="text-align: right;">@center.SeatsAvailable</td>

                                    <td role="gridcell" data-title="HV's" style="text-align: right;">

                                        @if (center.HomeVisitAppointment > 0)
                                        {
                                            <a href="~/AgencyUser/FSWAppointment">@center.HomeVisitAppointment </a>

                                        }
                                        else
                                        {
                                            <a href="javascrip:void(0)" style="cursor:unset;text-decoration:none;">@center.HomeVisitAppointment </a>

                                        }
                                    </td>


                                    @*@if (center.option1 != "0")
                                        {
                                            <td role="gridcell" data-title="Wait1" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientlist(this,'@center.CenterId',1);" href="#">@center.option1</a></td>
                                        }
                                        else
                                        {
                                            <td role="gridcell" data-title="Wait1" class="centered-td"><a href="#">@center.option1</a></td>
                                        }
                                        @if (center.option2 != "0")
                                        {
                                            <td role="gridcell" data-title="Wait2" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientlist(this,'@center.CenterId',2);" href="#">@center.option2</a></td>
                                        }
                                        else
                                        {
                                            <td role="gridcell" data-title="Wait2" class="centered-td"><a href="#">@center.option2</a></td>
                                        }
                                        @if (center.option3 != "0")
                                        {
                                            <td role="gridcell" data-title="Wait3" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientlist(this,'@center.CenterId',3);" href="#">@center.option3</a></td>
                                        }
                                        else
                                        {
                                            <td role="gridcell" data-title="Wait3" class="centered-td"><a href="#">@center.option3</a></td>
                                        }*@

                                    <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.OverIncome" class="centered-td"><a href="javascript:void(0);" onclick="loadOverIncome(this);">@center.OverIncome</a></td>

                                    <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Disability" class="centered-td"><a href="javascript:void(0);"typeofdatacount="Qualified" mode="Released" accesskey="@center.CenterId"  onclick="LoadPendingDisable(this,false);">@center.Disability</a></td>


                                    @if (center.TotalWaitingList != "0")
                                    {
                                        <td role="gridcell" data-title="T-@Fingerprints.LocalResource.Resources.Waiting" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientlistAll(this,'@center.CenterId');" href="#">@center.TotalWaitingList</a></td>
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="T-@Fingerprints.LocalResource.Resources.Waiting" class="centered-td"><a href="#">0</a></td>
                                    }

                                    @if (center.FutureWaiting != "0")
                                    {
                                        <td role="gridcell" data-title="F-@Fingerprints.LocalResource.Resources.Waiting" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientlist(this,'@center.CenterId',4,@(center.Homebased?1:0),0);" href="#">@center.FutureWaiting</a></td>
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="F-@Fingerprints.LocalResource.Resources.Waiting" class="centered-td"><a href="#">@center.FutureWaiting</a></td>
                                    }



                                    @if (center.Routecode100 != "0")
                                    {
                                        <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Pending" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientPendinglist(this,'@center.CenterId',1);" href="#">@center.Routecode100</a></td>
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Pending" class="centered-td"><a href="#">@center.Routecode100</a></td>
                                    }

@if (center.Routecode106 != "0")
{
    <td role="gridcell" data-title="OI-Pending" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientPendinglist(this,'@center.CenterId',3);" href="#">@center.Routecode106</a></td>
}
else
{
    <td role="gridcell" data-title="OI-Pending" class="centered-td"><a href="#">@center.Routecode106</a></td>
}

                                    @if (center.Routecode101 != "0")
                                    {

                                        if (TempData["userrole"].ToString() == "ZTRjODBmYzItOGI2NC00NDdhLTk5YjQtOTVkMTUxMGIwMWU5")
                                        {
                                            TempData.Keep("userrole");

                                            if (center.Homebased)
                                            {
                                                <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Accepted" class="centered-td"><a id="url" style="text-decoration: underline;" href="#" onclick="loadHVclientinfo(this, '@center.CenterId',101)">@center.Routecode101</a></td>

                                            }
                                            else
                                            {
                                                <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Accepted" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientinfo(this, '@center.CenterId',101);" href="#">@center.Routecode101</a></td>

                                            }

                                        }
                                        else
                                        {
                                            <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Accepted" class="centered-td"><a style="text-decoration:underline;" onclick="loadclientinfo(this, '@center.CenterId',101);" href="#">@center.Routecode101</a></td>
                                        }
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Accepted" class="centered-td"><a href="#">@center.Routecode101</a></td>
                                    }
                                    @if (center.Routecode102 != "0")
                                    {
                                        <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Returned" class="centered-td"><a style="text-decoration:underline;" onclick="loadRejectedList(this,'@center.CenterId',2);" href="#">@center.Routecode102</a></td>
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="@Fingerprints.LocalResource.Resources.Returned" class="centered-td"><a href="#">@center.Routecode102</a></td>
                                    }

                                    @if (center.Routecode107 != "0")
                                    {
                                        <td role="gridcell" data-title="IO-@Fingerprints.LocalResource.Resources.Returned" class="centered-td"><a style="text-decoration:underline;" onclick="loadRejectedList(this,'@center.CenterId',4);" href="#">@center.Routecode107</a></td>
                                    }
                                    else
                                    {
                                        <td role="gridcell" data-title="IO-@Fingerprints.LocalResource.Resources.Returned" class="centered-td"><a href="#">@center.Routecode107</a></td>
                                    }



                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row" id="Hideattchart" style="display: none;">


        <div class="import-const" style="border: 1px solid #cfcfcf;">

            <div class="col-sm-12 chart-block" style="position:relative;">
                <div id="chartdivDaily">

                </div>
                <div class="dailySummarydetails">
                    <div class='dailySummary-data' id="todayReport">
                        <div class="col-sm-12 amcharts-chart-div-label">
                            <h2>@Fingerprints.LocalResource.Resources.TodayAttendancePercentage</h2>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label ">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofPresent </p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totalstud" style="text-align:right;"> 0 </p></div>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label totdays">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofTotal</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totaldays" style="text-align:right;">0 </p></div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
        <div class="import-const" style="border: 1px solid #cfcfcf;">

            <div class="col-sm-12 chart-block">
                <div id="chartdivWeekly"></div>
                <div class="dailySummarydetails">
                    <div class='dailySummary-data' id="weeklyReport">
                        <div class="col-sm-12 amcharts-chart-div-label">
                            <h2>@Fingerprints.LocalResource.Resources.ThisWeeksAttendancePercentage </h2>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label ">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofPresent</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totalstud" style="text-align:right;"> 0 </p></div>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label totdays">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofTotal</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totaldays" style="text-align:right;">0 </p></div>
                        </div>

                    </div>
                </div>
            </div>

        </div>


        <div class="import-const" style="border: 1px solid #cfcfcf;">

            <div class="col-sm-12 chart-block">
                <div id="chartdivMonthly"></div>
                <div class="dailySummarydetails">
                    <div class='dailySummary-data' id="monthlyReport">
                        <div class="col-sm-12 amcharts-chart-div-label">
                            <h2>@Fingerprints.LocalResource.Resources.ThisMonthsAttendancePercentage</h2>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label ">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofPresent</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totalstud" style="text-align:right;"> 0 </p></div>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label totdays">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofTotal</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totaldays" style="text-align:right;">0 </p></div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
        <div class="import-const" style="border: 1px solid #cfcfcf;">

            <div class="col-sm-12 chart-block">
                <div id="chartdivYearly"></div>
                <div class="dailySummarydetails">
                    <div class='dailySummary-data' id="yearlyReport">
                        <div class="col-sm-12 amcharts-chart-div-label">
                            <h2>@Fingerprints.LocalResource.Resources.ThisYearsAttendancePercentage</h2>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label ">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofPresent</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totalstud" style="text-align:right;"> 0 </p></div>
                        </div>
                        <div class="col-sm-12 amcharts-chart-div-label totdays">
                            <div class="col-xs-6" style="padding:0;"> <p>@Fingerprints.LocalResource.Resources.NumberofTotal</p></div>
                            <div class="col-xs-6" style="padding:0;"><p class="totaldays" style="text-align:right;">0 </p></div>
                        </div>

                    </div>
                </div>
            </div>

        </div>





    </div>










    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal" id="ModalWaitingList" role="dialog">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header" style="border-bottom:unset;">
                        <h4 id="CenterName" class="text-center">Clients Overview<span class="extra-title muted"></span></h4>
                        <div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                            <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                <button type="button" class="my-btn pull-right" onclick="HVCancelAccepted(this);" data-dismiss="modal" tabindex="8">Exit</button>
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <div class="add-useragform">
                            <div class="row qualifierdiv">
                                <div class="row" style="margin-bottom: 3%;">
                                    <div class="col-sm-8">
                                        <div class="col-lg-2 col-sm-4">
                                            <label style="width: 100%!important;">Program Type</label>
                                        </div>
                                        <div class="col-lg-3 col-sm-8">
                                            <select id="ddlProgramtype" style="width: 100%;" class="form-control"></select>
                                        </div>
                                        <div class="col-lg-2 col-sm-3">
                                            <button type="button" onclick="GetUserList('#ModalWaitingList');" class="my-btn">Search</button>
                                        </div>
                                        <div class="col-lg-2 col-sm-3">
                                            <button type="button" onclick="ClearUserList('#ModalWaitingList');" class="my-btn">Clear</button>
                                        </div>
                                    </div>

                                    @*<div class="col-sm-4" id="slotsCountDiv" style="display:none;padding-right:32px;">

                                        <div class="col-sm-12 little-block-text">

                                            <div class="col-sm-12">
                                                <label style="width: 100%!important;"><strong>Total Slots (Agency)</strong>&nbsp;<span id="spanAgencyCount" style="color:#337ab7;"></span></label>
                                            </div>
                                            <div class="col-sm-12">
                                                <label style="width: 100%!important;"><strong>Accepted Clients (Agency)</strong>&nbsp;<span id="spanRetClientAgency" style="color:#337ab7;"></span></label>
                                            </div>

            <div class="col-sm-12">
                <label style="width: 100%!important;"><strong>Allocated Seats to this Center</strong>&nbsp;<span id="spanAvailCenter" style="color:#337ab7;"></span></label>
            </div>

                                            <div class="col-sm-12">
                                                <label style="width: 100%!important;"><strong>Accepted Clients to this Center</strong>&nbsp;<span id="spanRetClientCenter" style="color:#337ab7;"></span></label>
                                            </div>

                                          

                                            <div class="col-sm-12">
                                                <label style="width: 100%!important;"><strong>Open Seats in this Center</strong>&nbsp;<span id="spanOpenCenter" style="color:#337ab7;"></span></label>
                                            </div>
                                        </div>

                                    </div>*@

                                    <div class="col-sm-12">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                            <div class="table-responsive">
                                                <table class="table table_size" id="DivWaitingListPopup">
                                                    <thead style="cursor: pointer;">
                                                        <tr>

                                                            @if (fswHV == 1)
                                                            {
                                                                @*<th>Select</th>*@
                                                                <th>Name</th>
                                                                <th>Selection Points</th>
                                                                <th>Date on List</th>
                                                                <th>Program Type</th>
                                                                <th>Gender</th>
                                                                <th>DOB</th>
                                                                <th>Acceptance</th>
                                                                <th>Remove</th>
                                                            }
                                                            else
                                                            {
                                                            <th>Name</th>
                                                            <th>Selection Points</th>
                                                            <th>Date on List</th>
                                                            <th>Program Type</th>
                                                            <th>Gender</th>
                                                            <th>DOB</th>
                                                            }

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="div1" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>




                                    <div class="col-sm-12" id="AcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;background:#fff;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="ClientNameAccept"></label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="ddlclassroom" style="width: 100%;" class="form-control"></select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="txtclassstartdate" style="width: 100%;" type="text" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                        <p class="pysd-msg" style="color:#db4438;font-style:italic;display:none;">Program Year Start Date is @ViewBag.PYStartDate</p>
                                                    </div>
                                                    @*<div class="col-sm-3" style="display:none;text-align:center;color:#327ab7;font-style:italic;">
                        <p>Program Year Start Date</br>@ViewBag.PYStartDate</p>
                        </div>*@
                                                </div>
                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Reason for Acceptance <sup>*</sup></label>
                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="1" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Income</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="2" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Homeless</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="3" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Foster</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;"></label>
                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="4" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>TANF</label>

                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="6" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>SSI</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" id="ChildTrans" style="display: none;">



                                                    <label style="font-size: 15px; margin-left: 2%; color: #295b8f;width: 69%!important;" id="childtrans"></label>
                                                    <input type="hidden" id="childtransId" name="childtransId" />
                                                </div>


                                                <div class="col-sm-9" id="BMI" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />



                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />



                                                </div>


                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>



                                                <div class="col-sm-9">
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;background: #4caf50!important;" onclick="return SaveAcceptedInfo();">
                                                            Save
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="CancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>

                                    </div>






                                    <div class="col-sm-12" id="HVAcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>

                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="HVClientNameAccept"></label>
                                                        <input type="hidden" id="HVClientId" style="width: 100%;" />
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="HVddlclassroom" style="width: 100%;" tabindex="1" class="form-control"></select>
                                                    </div>
                                                </div>


                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;">Assign HV <sup>*</sup></label>
                        </div>
                        <div class="col-sm-5">
                            <select id="selAssignHV" style="width: 100%;" class="form-control"></select>
                        </div>
                    </div>*@


                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVtxtclassstartdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" tabindex="2" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: block">
                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Description<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input type="text" style="width: 100%;" class="form-control" autocomplete="off" name="Title" tabindex="3" id="title">
                                                    </div>

                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Meeting Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVmeetingdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" tabindex="4" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Start Time<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-meeting-date" style="width: 100%;" tabindex="5" id="apptStartTime"></select>
                                                    </div>


                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Duration(HH:MM)<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-end-time" style="width: 100%;" tabindex="6" id="apptEndTime"></select>

                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: none">

                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Notes</label>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <textarea class="form-control" style="width: 100%;" tabindex="7" id="description"></textarea>

                                                    </div>
                                                </div>

                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;">Main Reason for Acceptance <sup>*</sup></label>
                        </div>

                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" tabindex="8" value="1" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Income</label>
                        </div>
                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" value="2" tabindex="9" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Homeless</label>
                        </div>
                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" value="3" tabindex="10" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Foster</label>
                        </div>
                    </div>*@

                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;"></label>
                        </div>
                        <div class="col-sm-2">

                            <input name="HVchkincome" type="radio" value="4" tabindex="11" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>TANF</label>

                        </div>
                        <div class="col-sm-2">

                            <input name="HVchkincome" type="radio" value="6" tabindex="13" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>SSI</label>

                        </div>
                    </div>*@

                                                <div class="col-sm-9" id="BMI" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="col-sm-4 col-sm-offset-4">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="return HVSaveAcceptedInfo(event,this);">
                                                            Save
                                                        </button>
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="HVCancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>







                                    @*<div class="col-xs-12 AssignFSW" style="text-align:center;display:none;">
                                        <div class="col-sm-12">
                                            <div class="col-sm-12 edulist_centeryur divposition">
                                                <div class="form-group">
                                                    <label for="email" style="font-weight:600">Client :</label>
                                                    <label for="email" style="text-align:left;font-weight:600" class="lblClientName">ClientName <sup>*</sup></label>
                                                </div>
                                                <div class="form-group DivHide DivForFSW">
                                                    <label for="email">Assign Family Advocate <sup>*</sup></label>
                                                    <select id="" onchange="AskForAlert(this);" class="form-control selAssignFSW"></select>
                                                </div>
                                                <div class="form-group DivHide DivForHV">
                                                    <label for="email">Assign Family Advocate <sup>*</sup></label>
                                                    <select id="" onchange="AskForAlert(this);" class="form-control selAssignHV"></select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" style="text-align:center">
                                            <button type="button" style="background: #4caf50!important;" class="my-btn" onclick="return ShowHealthstaff();">Save</button>
                                            <button type="button" class="my-btn" onclick="CancelWaiting();">Cancel</button>
                                        </div>
                                    </div>*@



                                    <div class="col-sm-12" id="Acceptancediv" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset>
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-12" style="border: 1px solid #295b8f;margin-bottom: 10px;padding: 10px;">
                                                    <h4 style="color:#285b90;">Assign Family Advocate For Clients</h4>
                                                    <div id="dvClientName" style="width:82%" class="col-sm-5">

                                                    </div>
                                                </div>


                                            </fieldset>
                                        </div>
                                        <div class="col-xs-12" style="text-align:center">
                                            <button type="button" style="background: #4caf50!important;" class="my-btn" onclick="return SaveWaiting();">Save</button>
                                            <button type="button" class="my-btn" onclick="CancelWaiting();">Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade scroll-modal custom-modal common-modal-style" id="ModalFutureWaitingList" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-dialog-ch income-popup width-auto">
            <!-- Modal content-->
            <div class="modal-content">


                <div class="modal-header">
                    <div class="pending-letter col-md-12">
                        <div class="pending-text col-md-11">
                            <h4 id="CenterName" class="text-center" style="padding:5px 0;margin:0;"></h4>
                        </div>
                        <div class="pending-text col-md-1">
                            <button type="button" class="close" data-dismiss="modal"><img src="/Content/CaseNote/images/close.png"></button>
                        </div>
                    </div>

                </div>

            

                <div class="control-group modal-body" style="min-height:670px;float:unset;border:unset;">
                   
                        <div class="row qualifierdiv glossy-panel-div">
                            <div class="row" style="margin-bottom: 3%;">
                                <div class="col-sm-8 adddivspace">

                                    <input type="hidden" id="hide-centerid" />

                                    <div class="col-lg-3  col-sm-12">
                                        <label style="color:#295b8f;width:100%;font-weight:bold;">Filter by Age</label>
                                    </div>
                                    @*<div class="col-lg-3 col-sm-8">
                                            <select id="ddlProgramtype" style="width: 100%;" class="form-control"></select>
                                        </div>*@

                                    <div class="col-lg-4 col-sm-4 col-md-3">
                                        <select class="form-control glossy-select" id="ageSelect">
                                            <option value="0">-- All --</option>
                                            <option value="1">0 to 1</option>
                                            <option value="2">1 to 2</option>
                                            <option value="3">2 to 3</option>
                                            <option value="4">3 to 4</option>
                                            <option value="5">4 to 5</option>
                                            <option value="6">Above 5</option>
                                        </select>

                                    </div>


                                    <div class="col-lg-2 col-sm-3 glossy_btn">


                                        <button type="button" class="glossy-button-button button-green" id="searchByfilter">
                                            <span class="glossy-button-after"></span>
                                            <span class="glossy-button-before"></span>
                                            Search
                                        </button>
                                    </div>

                                    @*<div class="col-sm-2 glossy_btn">
                                        <button type="button" class="glossy-button-button button-blue" onclick="ClearUserListAll();">
                                            <span class="glossy-button-after"></span>
                                            <span class="glossy-button-before"></span>
                                            Clear
                                        </button>
                                    </div>*@

                                
                                </div>

                                <div class="col-sm-4" id="slotsCenterCountDiv" style="padding-right:32px;">

                                    <div class="col-sm-12 little-block-text">

                                        <div class="col-sm-12">
                                            <label style="width: 100%!important;"><strong>Total Slots (Agency)</strong>&nbsp;<span id="spanAgencyCount" style="color:#337ab7;"></span></label>
                                        </div>
                                        <div class="col-sm-12">
                                            <label style="width: 100%!important;"><strong>Accepted Clients (Agency)</strong>&nbsp;<span id="spanRetClientAgency" style="color:#337ab7;"></span></label>
                                        </div>

                                        <div class="col-sm-12">
                                            <label style="width: 100%!important;"><strong>Allocated Seats to this Center</strong>&nbsp;<span id="spanAvailCenter" style="color:#337ab7;"></span></label>
                                        </div>

                                        <div class="col-sm-12">
                                            <label style="width: 100%!important;"><strong>Accepted Clients to this Center</strong>&nbsp;<span id="spanRetClientCenter" style="color:#337ab7;"></span></label>
                                        </div>



                                        <div class="col-sm-12">
                                            <label style="width: 100%!important;"><strong>Open Seats in this Center</strong>&nbsp;<span id="spanOpenCenter" style="color:#337ab7;"></span></label>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-sm-12">
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">


                                        <div class="col-md-6 text-left" style="margin-top:10px;font-size:12px;">
                                            <label style="font-weight:bold;"><span style="color:rgb(63, 81, 181);">Y-Years</span>&nbsp;&nbsp;<span style="color:rgb(0, 150, 136);">M-Months</span>&nbsp;&nbsp;<span style="color:rgb(121, 85, 72);">D-Days</span></label>
                                        </div>

                                        <div class="table-responsive">
                                            <table class="table table_size glossy-table" id="DivWaitingListPopup">
                                                <thead style="cursor: pointer;">
                                                    <tr>

                                                        @if (fswHV == 1)
                                                        {
                                                            <th style="width:11%;">
                                                                <input type="checkbox" id="lblselectall" name="lblselectall">&nbsp;
                                                                <span>Select All</span>
                                                            </th>
                                                            <th class="cmn-width-ch" style="width:20%;">Name</th>
                                                            <th style="width:7%;">Points</th>
                                                            <th style="text-transform:none;">Date on List</th>
                                                            <th>Prg Type</th>
                                                            <th style="width:10%;">Gender</th>
                                                            <th>DOB</th>
                                                            <th>Age</th>
                                                            <th>Classroom</th>
                                                            @*<th>Acceptance</th>*@
                                                            <th>Remove</th>
                                                        }
                                                        else
                                                        {
                                                            <th  style="width:11%;">
                                                                <input type="checkbox" id="lblselectall" disabled name="lblselectall">&nbsp;
                                                                <span>Select All</span>
                                                            </th>
                                                            <th class="cmn-width-ch" style="width:20%;">Name</th>
                                                            <th style="width:7%;">Points</th>
                                                            <th style="text-transform:none;">Date on List</th>
                                                            <th>Prg Type</th>
                                                            <th style="width:10%;">Gender</th>
                                                            <th>DOB</th>
                                                            <th>Age</th>
                                                            <th>Classroom</th>
                                                        }

                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <div id="div1" style="text-align: center; display: none; margin-left: 38%;">
                                                <label>No result found.</label>
                                            </div>
                                        </div>




                                        <!----- Classroom Assignment Div  ------>

                                        <div class="col-xs-12 text-left lable-inline-block">
                                            <div class="col-xs-12 text-left no-padding" id="divselectclients" style="">

                                                <div class="col-lg-2 col-md-3 col-sm-4">
                                                    <label class="lbl-text" style="color:#295b8f;margin-bottom:10px;width:100%;font-weight:bold;">Selected Client(s)</label>
                                                </div>
                                                <div class="col-lg-8 col-md-9 col-sm-8">
                                                    <label style="color:#1d5381;" id="lblSelectedClients">0</label>
                                                </div>


                                            </div>


                                            <div class="col-xs-12 no-padding" id="divClassStartDate" style="">
                                                <!--------Classroom Start Date Select------>
                                                <div class="col-lg-2 col-md-3 col-sm-4">
                                                    <label  style="margin-bottom:10px; color:#295b8f;width:100%;font-weight:bold;">Class Start Date <sup style="color:red;">*</sup></label>
                                                </div>
                                                <div class="col-lg-3 col-md-9 col-sm-8">
                                                    <input type="text" id="txtclsStartDate" class="glossy-input class-start-date form-control" placeholder="MM/DD/YYYY" style="width:100%;">
                                                </div>
                                            </div>

                                            <div class="col-xs-12 text-left no-padding adddivspace" id="divselectClassroom" style="">

                                                <!-----Classroom Select------>
                                                <div class="col-lg-2 col-md-3 col-sm-4">
                                                    <label style="margin-bottom:10px; color:#295b8f;width:100%;font-weight:bold;" >Select Classroom <sup style="color:red;">*</sup></label>
                                                </div>
                                                <div class="col-lg-3 col-md-9 col-sm-8">
                                                    <select class="glossy-select select-classroom" style="width:100%;" id="classroomSelect"></select>
                                                </div>

                                                @*<div class="col-lg-7 col-md-9 alert alert-info">
                                                    <strong style="line-height:20px;">Note! Client will be assigned to classroom, on selection of classroom from the list.</strong>
                                                </div>*@


                                            </div>




                                            <div class="col-sm-4 pull-right little-block-text" id="slotsCountDiv" style="padding-right: 32px;display:none;">


                                                <div class="col-sm-12">
                                                    <label style="width: 100%!important;"><strong>Allocated Seats to this Classroom</strong>&nbsp;<span id="spanAvailClsroom" style="color:#337ab7;">4</span></label>
                                                </div>

                                                <div class="col-sm-12">
                                                    <label style="width: 100%!important;"><strong>Accepted Clients to this Classroom</strong>&nbsp;<span id="spanRetClientClsroom" style="color:#337ab7;">0</span></label>
                                                </div>

                                                <div class="col-sm-12">
                                                    <label style="width: 100%!important;"><strong>Open Seats in this Classroom</strong>&nbsp;<span id="spanOpenClsroom" style="color:#337ab7;">4</span></label>
                                                </div>

                                            </div>

                                            <div class="col-xs-12 text-center" style="margin-top:25px;">
                                                <div class="glossy_btn">
                                                    <button onclick="return confirmChanges(this);" id="btnConfirm" class="glossy-button-button button-green" style="padding-left: 10px;padding-right: 10px;">
                                                    
                                                    Finalize Changes
                                                    <span class="glossy-button-after"></span>
                                                        <span class="glossy-button-before"></span>
                                                    </button>
                                                    &nbsp;&nbsp;

                                                    <button id="btnExit" class="glossy-button-button button-red" data-dismiss="modal" >
                                                    
                                                    Exit

                                                        <span class="glossy-button-before"></span>
                                                        <span class="glossy-button-after"></span>
                                                    
                                                    </button>

                                                    <div class="col-lg-12 col-md-12 alert alert-info adddivspace" style="margin-top:20px;">
                                                        <strong>Note! Once click on Finalize Change, Classroom assignment will not be modified for selected client(s).</strong>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>




                                        <!-----------Classroom Assignment Div-->


                                    </div>


                                  

                                </div>





                               

                                @*<div class="col-sm-12" id="AcceptancedivClient" style="display: none;">
                                    <div class="col-sm-12">
                                        <fieldset style="border: 1px solid #295b8f;background:#fff;">
                                            <legend class="legend1"></legend>
                                            <div class="col-sm-9">
                                                <div class="col-sm-4">
                                                    <label style="width: 100%;">Client Name </label>
                                                </div>
                                                <div class="col-sm-5">
                                                    <label style="width:100%; font-size: 15px; font-weight: bold; color: #333;" id="ClientNameAccept"></label>
                                                </div>
                                            </div>
                                            <div class="col-sm-9 adddivspace">
                                                <div class="col-sm-4">
                                                    <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                </div>
                                                <div class="col-sm-5">
                                                    <select id="ddlclassroom" style="width: 100%;" class="form-control"></select>
                                                </div>
                                            </div>
                                            <div class="col-sm-9">
                                                <div class="col-sm-4">
                                                    <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                </div>
                                                <div class="col-sm-5">
                                                    <input id="txtclassstartdate" style="width: 100%;" type="text" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                    <p class="pysd-msg" style="color:#db4438;font-style:italic;display:none;">Program Year Start Date is @ViewBag.PYStartDate</p>
                                                </div>

                                            </div>
                                            <div class="col-sm-9" style="display:none;">
                                                <div class="col-sm-4">
                                                    <label style="width: 100%;">Reason for Acceptance <sup>*</sup></label>
                                                </div>

                                                <div class="col-sm-2">

                                                    <input id="chkincome" type="radio" name="chkincome" value="1" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                    <label>Income</label>

                                                </div>
                                                <div class="col-sm-2">

                                                    <input id="chkincome" type="radio" name="chkincome" value="2" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                    <label>Homeless</label>

                                                </div>
                                                <div class="col-sm-2">

                                                    <input id="chkincome" type="radio" name="chkincome" value="3" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                    <label>Foster</label>

                                                </div>
                                            </div>

                                            <div class="col-sm-9" style="display:none;">
                                                <div class="col-sm-4">
                                                    <label style="width: 100%;"></label>
                                                </div>
                                                <div class="col-sm-2">

                                                    <input id="chkincome" name="chkincome" type="radio" value="4" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                    <label>TANF</label>

                                                </div>

                                                <div class="col-sm-2">

                                                    <input id="chkincome" name="chkincome" type="radio" value="6" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                    <label>SSI</label>

                                                </div>
                                            </div>

                                            <div class="col-sm-9" id="ChildTrans" style="display: none;">



                                                <label style="font-size: 15px; margin-left: 2%; color: #295b8f;width: 69%!important;" id="childtrans"></label>
                                                <input type="hidden" id="childtransId" name="childtransId" />
                                            </div>


                                            <div class="col-sm-9" id="BMI" style="display: none;">

                                                <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />



                                            </div>
                                            <div class="col-sm-9" id="ChildDis" style="display: none;">

                                                <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                <input type="hidden" id="childdisId" name="childdisId" />



                                            </div>


                                            <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                <input type="hidden" id="childfoodId" name="childfoodId" />
                                            </div>
                                            <div class="col-sm-9">
                                                <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                            </div>



                                            <div class="col-sm-9">
                                                <div class="col-sm-2">
                                                    <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;background: #4caf50!important;" onclick="return SaveAcceptedInfo();">
                                                        Save
                                                    </button>
                                                </div>
                                                <div class="col-sm-2">
                                                    <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="CancelAccepted(this);">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </div>

                                        </fieldset>
                                    </div>

                                </div>*@







                            </div>
                        </div>











                   
                </div>
            </div>
        </div>
    </div>







    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal common-modal-style" id="ModalClientPendingList" role="dialog">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="pending-letter col-md-12">
                            <div class="pending-text col-md-11">
                                <h4 id="CenterNameclient" class="text-center" style="padding:5px 0;margin:0;"><span class="extra-title muted"></span></h4>
                            </div>
                            <div class="pending-text col-md-1">
                                <button type="button" class="close" data-dismiss="modal"><img src="/Content/CaseNote/images/close.png"></button>
                                </div>
                            </div>
                        @*<div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                            <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                <button type="button" class="my-btn pull-right" data-dismiss="modal" tabindex="8">Exit</button>
                                <div class="clear"></div>
                            </div>
                        </div>*@
                    </div>
                    <div class="control-group  modal-body" style="max-height:800px;">
                        <div class="row qualifierdiv glossy-panel-div" style="margin-bottom: 3%;">

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                <div class="glossy-search-block search-sec col-md-12 no-padding">
                                    <div class="input-field col-md-7 no-padding">
                                        <input type="text" placeholder="Search..." id="searchclient-input" class="form-control ui-autocomplete-input" value="" autocomplete="off">
                                        <div class="glossy-search-btn-div">
                                            <button id="btnSearchauto" data-search-item="">Search</button>
                                        </div>
                                    </div>
                                    <div class="input-right col-md-5">
                                        <table class="total-details-table pending-table col-md-12">

                                            <tbody>
                                              @*  <tr>
                                                    <td><label>Total Record</label></td>
                                                    <td id="trecord">51</td>
                                                </tr>*@
                                               @* <tr>
                                                    <td><label>Filtered Records</label></td>
                                                    <td>699</td>
                                                </tr>*@
                                              
                                            </tbody>
                                        </table>
                                        </div>
                                    </div>
                                <div class="table-responsive">
                                    <table class="table table_size glossy-table" id="DivPendingclientlist">
                                        <thead style="cursor: pointer;">
                                            <tr>
                                                <th data-sort="true" data-name="name" class="name-clmn">
                              <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                               <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                              @*<i class="fa fa-sort-numeric-asc i-asc" aria-hidden="true" style="color: #f9c751;"></i>*@
                                                  
                                                      @*<span class="fa fa-sort-amount-asc"></span>*@

                                                    Name
                                                </th>
                                                <th data-sort="true" data-name="IsReviewed">
                                              <i class="fa fa-sort-alpha-asc i-asc"></i>
                                           <i class="fa fa-sort-alpha-desc i-desc"></i>
                                                Review Status</th>
                                                <th data-sort="true" data-name="Selectionpoint" title="Selection Points" class="pt-clmn"> 
                                                    <i class="fa fa-sort-numeric-asc i-asc"></i>
                                                    <i class="fa fa-sort-numeric-desc i-desc"></i>        
                                                Points</th>
                                                <th data-sort="true" data-name="dateentered">
                                                    <i class="fa fa-custom-sort-date-asc i-asc"></i>
                                                    <i class="fa fa-custom-sort-date-desc i-desc"></i> 
                                                Date on List</th>
                                                <th data-sort="true" data-name="programtype" title="Program Type" class="prg-clmn">
                                                    <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                                                    <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                Prg Type</th>
                                                <th data-sort="true" data-name="gender" class="prg-clmn">
                                                    <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                                                    <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                Gender</th>
                                                <th>
                                                    <i class="fa fa-custom-sort-date-asc i-asc"></i>
                                                    <i class="fa fa-custom-sort-date-desc i-desc"></i> 
                                                    DOB</th>

                                                @if (fswHV == 1)
                                                {
                                                    <th class="remv-clmn">Remove</th>

                                                }

                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                    <div id="div2" style="text-align: center; display: none; margin-left: 38%;">
                                        <label>No result found.</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pagination-file">
                                    <div class="pages_display">
                                        <ul>
                                            <li style="">Display</li>
                                            <li>
                                                <select id="ddlpagetodisplay">
                                                    <option value="10" selected="selected">10</option>
                                                    <option value="25">25</option>
                                                    <option value="50">50</option>
                                                    <option value="75">75</option>
                                                    <option value="100">100</option>
                                                </select>
                                            </li>
                                            <li style="">Records Per Page</li>
                                        </ul>
                                        <div class="clear"></div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <div id="divPaging" class="pagination_wrp">
                                        <ul id="ulPaging" class="pagination">
                                            <li>



                                                <a href="javascript:void(0);" id="First" disabled="disabled">
                                                    <i class="fa fa-angle-double-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                </a>

                                            </li>
                                            <li title="Back">


                                                <a href="javascript:void(0);" id="Back" disabled="disabled">
                                                    <i class="fa fa-angle-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                </a>

                                            </li>
                                            <li style="float:left;width:auto;" title="Select">
                                                <select class="select_cl pg-select" id="ddlpaging"><option value="1">1</option></select>
                                            </li>
                                            <li title="Next">

                                                <a href="javascript:void(0);" id="Next" disabled="disabled">
                                                    <i class="fa fa-angle-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                </a>
                                            </li>
                                            <li title="Last">

                                                <a href="javascript:void(0);" id="Last" disabled="disabled">
                                                    <i class="fa fa-angle-double-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>



                        @*<div class="col-sm-12" id="PendingWaiting" style="display: none;">
                            <fieldset style="border: 1px solid #295b8f; margin-bottom: 1%;background:#fff;">
                                <legend class="legend1"></legend>

                                <div class="row qualifierdiv">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="col-sm-3">
                                                <input id="centerall" onchange="Getallcenter(this);" type="checkbox" />
                                                <span>Show All Centers</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="margin-top: 2%;">
                                        <div class="col-sm-12">
                                            <div class="col-sm-6">
                                                <span style="color: red;">
                                                    Hint: You can select up to 3 centers (1,2,3).
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="add-useragform ">
                                    <div class="row qualifierdiv">
                                        <div class="row" style="margin-top: 1%;">
                                            <div class="col-sm-9">
                                                <div class="col-sm-2">
                                                    <label style="width: 100%;">Client Name</label>
                                                </div>
                                                <div class="col-sm-5">
                                                    <label style="width: 100%; font-size: 15px; color: #337ab7;" id="ClientNamePending"></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="col-sm-12">
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                    <div class="table-responsive">
                                                        <table class="table table_size table-waiting-list" id="DivWaitinglist">
                                                            <thead style="cursor: pointer;">
                                                                <tr>
                                                                    <th>Center Name</th>
                                                                    <th width="14%">Address</th>
                                                                    <th width="7%">Zip</th>
                                                                    <th width="12%">Seats Available</th>
                                                                    <th width="5%">Options</th>
                                                                    <th width="30%">Notes</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.Centerlist != null)
                                                                {

                                                                    List<FingerprintsModel.HrCenterInfo> CenterList = (List<FingerprintsModel.HrCenterInfo>)ViewBag.centerlist;
                                                                    if (CenterList != null && CenterList.Count > 0)
                                                                    {
                                                                        foreach (var item in CenterList.FirstOrDefault().AllCentersList)
                                                                        {
                                                                            if (item != null && item.CenterId != "0")
                                                                            {
                                                                                <tr>
                                                                                    <td>
                                                                                        <input name="Accept" onchange="Clearselect(this);" value="@item.CenterId" type="checkbox" />
                                                                                        <span style="width:78%;display:inline-block;">@item.Name</span>

                                                                                    </td>
                                                                                    <td>@item.Address</td>
                                                                                    <td>@item.Zip</td>
                                                                                    <td>@item.SeatsAvailable</td>
                                                                                    <td>
                                                                                        <select>
                                                                                            <option value="1">1</option>
                                                                                            <option value="2">2</option>
                                                                                            <option value="3">3</option>
                                                                                        </select>
                                                                                    </td>
                                                                                    <td>
                                                                                        <input type="text" style="width: 100% !important;" maxlength="60" class="form-control" />
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                        }
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="btnwrp_subcal">
                                        <button onclick="SaveWaitinglist(this,1);" style="background: #4caf50!important;" class="my-btn" type="button">Save</button>
                                        <button class="my-btn" onclick="CloseWaitinglistdiv(this);" type="button">Close</button>
                                    </div>
                                </div>

                            </fieldset>
                        </div>*@

                        @*<div class="col-xs-12" id="DivPendingStatusTrack">
                                <h2 class="panel-sec-title lblClient"></h2>
                                <div class="col-xs-12 panel-sec">
                                    <div class="panel-group" id="accordion">
                                        <div id="AcceptanceDivAppend">


                                        </div>
                                    </div>
                                </div>
                            </div>*@

                    </div>

                </div>
            </div>
        </div>
    </div>


    <div id="GetAppendDiv" style="display:none;">
        <div class="panel panel-default">
            <div class="panel-heading" style="padding:0;">
                <h4 class="panel-title">
                    @*<a data-toggle="collapse" data-parent="#accordion" href="#collapse13" style="display:block;padding: 10px 15px;">Role Name:*@
                    <a data-toggle="collapse" data-parent="#accordion13" href="#collapse13" style="display:block;padding: 10px 15px;">Role Name: HeadingRoleName<span style="float:right;margin: 0;font-weight:bold">Status: HeadingStatus</span></a>
                </h4>
            </div>
            <div id="collapse13" class="panel-collapse collapse ">
                <div class="panel-body" style="line-height:22px;">
                    <div class="col-xs-12 collapse-label" style="padding:0;">
                        <p>Request Date : <span>RequestDate</span></p>
                        <p>Status : <span>CurrentStatus</span></p>
                        <p>Reviewer Level : <span>ReviewerLevel</span></p>
                        @*<p>Note  : <span>UserReason</span></p>*@

                        @if (fswHV == 1)
                        {
                        <p>Request for Review Again  : <span id="ReviewId">ReviewAgain</span></p>
                        }

                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" style="padding:0;">
                        <div class="table-responsive">
                            <table class="table table_size" style="background: #fff;">
                                <thead style="cursor: pointer;">
                                    <tr>
                                        <th>Application Notes</th>
                                        <th>Entered By</th>
                                        <th>Entered On</th>
                                        <th>Application Status</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div id="DivAppendTable" style="display:none;">


    </div>
    <div class="row qualifierdiv">
        <div class="modal scroll-modal fade common-modal-style" id="ModalAcceptanceList" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">



                        <div class="pending-letter col-md-12">
                            <div class="pending-text col-md-11">
                                <h4 id="CenterName" class="text-center" style="margin:0;padding:5px 0;">Accepted Clients <span class="extra-title muted"></span></h4>
                            </div>
                            <div class="pending-text col-md-1">
                                <button type="button" class="close" data-dismiss="modal"><img src="/Content/CaseNote/images/close.png"></button>
                            </div>
                        </div>


                        @*<div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                                <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                    <button type="button" class="my-btn pull-right" data-dismiss="modal" tabindex="8">Exit</button>
                                    <div class="clear"></div>
                                </div>
                            </div>*@
                    </div>
                    <div class="control-group" style="max-height:800px;">
                        <div class="add-useragform" style="padding: 0 15px;">
                            <div class="row qualifierdiv glossy-panel-div">
                                <div class="row" style="margin-bottom: 3%;">
                                    <div class="col-sm-12">

                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">


                                            <div class="glossy-search-block search-sec col-md-12 no-padding">
                                                <div class="input-field col-md-7 no-padding">
                                                    <input type="text" placeholder="Search..." id="search-accept-client-input" class="form-control ui-autocomplete-input" value="" autocomplete="off">
                                                    <div class="glossy-search-btn-div">
                                                        <button id="btnSearchauto-accept" data-search-item="">Search</button>
                                                    </div>
                                                </div>
                                                <div class="input-right col-md-5">
                                                    <table class="total-details-table pending-table col-md-12">

                                                        <tbody></tbody>
                                                    </table>
                                                </div>
                                            </div>


                                            <div class="table-responsive">
                                                <table class="table table_size glossy-table" id="DivAcceptanceListPopup">
                                                    <thead style="cursor: pointer;">
                                                        <tr>
                                                            <th class="name-clmn" data-sort="true" data-name="name" style="text-align: left !important;">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                                                                <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                                 Name
                                                            </th>
                                                            <th style="text-align: left !important;">
                                                                <i class="fa fa-custom-sort-date-asc i-asc"></i>
                                                                <i class="fa fa-custom-sort-date-desc i-desc"></i> 
                                                            Date on List</th>
                                                            <th data-sort="true" data-name="gender" class="prg-clmn" style="text-align: left !important;">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                                                                <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                            Gender</th>
                                                            <th class="prg-clmn" style="text-align: left !important;">
                                                                <i class="fa fa-custom-sort-date-asc i-asc"></i>
                                                                <i class="fa fa-custom-sort-date-desc i-desc"></i> 
                                                            DOB</th>
                                                            @if (fswHV == 1)
                                                            {
                                                                <th class="name-clmn" style="text-align: left !important;">
                                                            
                                                            Assign Classroom / Waiting List</th>

                                                            }
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="divA1" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pagination-file">
                                                <div class="pages_display">
                                                    <ul>
                                                        <li style="">Display</li>
                                                        <li>
                                                            <select id="ddlpagetodisplay_accept" style="width:60px;">
                                                                <option value="10" selected="selected">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="75">75</option>
                                                                <option value="100">100</option>
                                                            </select>
                                                        </li>
                                                        <li style="">Records Per Page</li>
                                                    </ul>
                                                    <div class="clear"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div id="divPaging" class="pagination_wrp">
                                                    <ul id="ulPaging" class="pagination">
                                                        <li>



                                                            <a href="javascript:void(0);" id="First" disabled="disabled">
                                                                <i class="fa fa-angle-double-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li title="Back">


                                                            <a href="javascript:void(0);" id="Back" disabled="disabled">
                                                                <i class="fa fa-angle-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li style="float:left;width:auto;" title="Select">
                                                            <select class="select_cl pg-select" id="ddlpaging_accept" style="width:60px;"></select>
                                                        </li>
                                                        <li title="Next">

                                                            <a href="javascript:void(0);" id="Next" disabled="disabled">
                                                                <i class="fa fa-angle-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                        <li title="Last">

                                                            <a href="javascript:void(0);" id="Last" disabled="disabled">
                                                                <i class="fa fa-angle-double-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="col-sm-12" id="AcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;background:#fff;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="ClientNameAccept"></label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="ddlclassroom" style="width: 100%;" class="form-control"></select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="txtclassstartdate" style="width: 100%;" type="text" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                        <p class="pysd-msg" style="color:#db4438;font-style:italic;display:none;">Program Year Start Date is @ViewBag.PYStartDate</p>
                                                    </div>
                          @*<div class="col-sm-3" style="display:none;text-align:center;color:#327ab7;font-style:italic;">
                                                        <p>Program Year Start Date</br>@ViewBag.PYStartDate</p>
                                                        </div>*@
                                                    </div>
                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Reason for Acceptance <sup>*</sup></label>
                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="1" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Income</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="2" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Homeless</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="3" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Foster</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;"></label>
                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="4" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>TANF</label>

                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="6" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>SSI</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" id="ChildTrans" style="display: none;">



                                                    <label style="font-size: 15px; margin-left: 2%; color: #295b8f;width: 69%!important;" id="childtrans"></label>
                                                    <input type="hidden" id="childtransId" name="childtransId" />
                                                </div>


                                                <div class="col-sm-9" id="BMI" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />



                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />



                                                </div>


                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>



                                                <div class="col-sm-9">
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;background: #4caf50!important;" onclick="return SaveAcceptedInfo();">
                                                            Save
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="CancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>

                                    </div>


                                    <div class="col-sm-12" id="HVAcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>

                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="HVClientNameAccept"></label>
                                                        <input type="hidden" id="HVClientId" style="width: 100%;" />
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="HVddlclassroom" style="width: 100%;" tabindex="1" class="form-control"></select>
                                                    </div>
                                                </div>


                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;">Assign HV <sup>*</sup></label>
                        </div>
                        <div class="col-sm-5">
                            <select id="selAssignHV" style="width: 100%;" class="form-control"></select>
                        </div>
                    </div>*@


                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVtxtclassstartdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" tabindex="2" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: block">
                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Description<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input type="text" style="width: 100%;" class="form-control" autocomplete="off" name="Title" tabindex="3" id="title">
                                                    </div>

                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Meeting Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVmeetingdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" tabindex="4" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Start Time<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control  select-meeting-date" style="width: 100%;" tabindex="5" id="apptStartTime"></select>
                                                    </div>


                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Duration(HH:MM)<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-end-time" style="width: 100%;" tabindex="6" id="apptEndTime"></select>

                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: none">

                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Notes</label>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <textarea class="form-control" style="width: 100%;" tabindex="7" id="description"></textarea>

                                                    </div>
                                                </div>

                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;">Main Reason for Acceptance <sup>*</sup></label>
                        </div>

                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" tabindex="8" value="1" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Income</label>
                        </div>
                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" value="2" tabindex="9" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Homeless</label>
                        </div>
                        <div class="col-sm-2">
                            <input type="radio" name="HVchkincome" value="3" tabindex="10" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>Foster</label>
                        </div>
                    </div>*@

                                                @*<div class="col-sm-9">
                        <div class="col-sm-4">
                            <label style="width: 100%;"></label>
                        </div>
                        <div class="col-sm-2">

                            <input name="HVchkincome" type="radio" value="4" tabindex="11" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>TANF</label>

                        </div>
                        <div class="col-sm-2">

                            <input name="HVchkincome" type="radio" value="6" tabindex="13" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                            <label>SSI</label>

                        </div>
                    </div>*@

                                                <div class="col-sm-9" id="BMI" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="col-sm-4 col-sm-offset-4">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="return HVSaveAcceptedInfo(event,this);">
                                                            Save
                                                        </button>
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="HVCancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>



                                    <div class="col-sm-12" id="acceptedWaitingList" style="display: none; width:97%;margin-left:15px;">
                                        <fieldset style="border: 1px solid #295b8f; margin-bottom: 1%;background:#fff;">
                                            <legend class="legend1"></legend>

                                            <div class="row qualifierdiv">
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <div class="col-sm-3">
                                                            <input id="centerall" onchange="Getallcenter(this);" type="checkbox" style="margin-top:-6px;" />
                                                            <span>Show All Centers</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" style="margin-top: 2%;">
                                                    <div class="col-sm-12">
                                                        <div class="col-sm-6">
                                                            <span style="color: red;">
                                                                Hint: You can select up to 3 centers (1,2,3).
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="add-useragform ">
                                                <div class="row qualifierdiv">
                                                    <div class="row" style="margin-top: 1%;">
                                                        <div class="col-sm-9">
                                                            <div class="col-sm-2">
                                                                <label style="width: 100%;">Client Name</label>
                                                            </div>
                                                            <div class="col-sm-5">
                                                                <label style="width: 100%; font-size: 15px; color: #337ab7;" id="ClientNameAccepted"></label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">

                                                        <div class="col-sm-12">
                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                <div class="table-responsive">
                                                                    <table class="table table_size table-waiting-list" id="DivAcceptedWaitinglist" style="margin-top: -5px;">
                                                                        <thead style="cursor: pointer;">
                                                                            <tr>
                                                                                <th>Center Name</th>
                                                                                <th width="14%">Address</th>
                                                                                <th width="7%">Zip</th>
                                                                                <th width="12%">Seats Available</th>
                                                                                <th width="5%">Options</th>
                                                                                <th width="30%">Notes</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            @if (ViewBag.Centerlist != null)
                                                                            {

                                                                                List<FingerprintsModel.HrCenterInfo> CenterList = (List<FingerprintsModel.HrCenterInfo>)ViewBag.centerlist;
                                                                                if (CenterList != null && CenterList.Count > 0)
                                                                                {
                                                                                    foreach (var item in CenterList.FirstOrDefault().AllCentersList)
                                                                                    {
                                                                                        if (item != null && item.CenterId != "0")
                                                                                        {
                                                                                            <tr ackey="@item.Homebased.ToString()">
                                                                                                <td>
                                                                                                    <input name="Accept" onchange="Clearselect(this);" value="@item.Enc_CenterID" type="checkbox" />
                                                                                                    <span style="width:78%;display:inline-block;">@item.Name</span>

                                                                                                </td>
                                                                                                <td>@item.Address</td>
                                                                                                <td>@item.Zip</td>
                                                                                                <td>@item.SeatsAvailable</td>
                                                                                                <td>
                                                                                                    <select>
                                                                                                        <option value="1">1</option>
                                                                                                        <option value="2">2</option>
                                                                                                        <option value="3">3</option>
                                                                                                    </select>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="text" style="width: 100% !important;" maxlength="60" class="form-control" />
                                                                                                </td>
                                                                                            </tr>
                                                                                        }

                                                                                    }
                                                                                }
                                                                            }
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12">
                                                <div class="btnwrp_subcal">
                                                    <button onclick="SaveWaitinglist(this,2);" style="background: #4caf50!important;" class="my-btn" type="button">Save</button>
                                                    <button class="my-btn" onclick="CloseWaitinglistdiv(this);" type="button">Close</button>
                                                </div>
                                            </div>

                                        </fieldset>
                                    </div>


                                    <div class="col-xs-12" id="DivAcceptedListStatusTrack" style="display:none;">
                                        <h2 class="panel-sec-title lblClient"></h2>
                                        <div class="col-xs-12 panel-sec">
                                            <div class="panel-group" id="accordion">
                                                <div id="AcceptedListDivAppend">


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal custom-modal common-modal-style" id="ModalWaitingListAll" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-ch income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 id="CenterNameAll" class="text-center">Clients Overview<span class="extra-title muted"></span></h4>
                        @*<div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                                <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                    <button type="button" class="my-btn pull-right" data-dismiss="modal" tabindex="8">Exit</button>
                                    <div class="clear"></div>
                                </div>
                            </div>*@
                        <div class="pending-text">
                            <button type="button" class="close" data-dismiss="modal" style="right: -18px;top: -14px;"><img src="/Content/CaseNote/images/close.png"></button>
                        </div>
                    </div>
                    <div class="control-group">
                        <div class="add-useragform">
                            <div class="row qualifierdiv">
                                <div class="row" style="margin-bottom: 3%;">
                                    <div class="col-sm-9">
                                        <div class="col-md-2 col-sm-3">
                                            <label style="width: 100%!important;">Program Type</label>
                                        </div>
                                        <div class="col-sm-3">
                                            <select id="ddlProgramtypeAll" style="width: 100%!important;" class="form-control"></select>
                                        </div>
                                        <div class="col-sm-2 glossy_btn">
                                            @*<button type="button" onclick="GetUserListAll();" class="my-btn">Search</button>*@
                                            <button type="button" class="glossy-button-button button-green" onclick="GetUserListAll();">
                                                <span class="glossy-button-after"></span>
                                                <span class="glossy-button-before"></span>
                                                Search
                                            </button>
                                        </div>
                                        <div class="col-sm-2 glossy_btn">
                                            @*<button type="button" onclick="ClearUserListAll();" class="my-btn">Clear</button>*@
                                            <button type="button" class="glossy-button-button button-blue" onclick="ClearUserListAll();">
                                                <span class="glossy-button-after"></span>
                                                <span class="glossy-button-before"></span>
                                                Clear
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                            <div class="table-responsive">
                                                <table class="table table_size glossy-table" id="DivWaitingListAllPopup">
                                                    <thead style="cursor: pointer;">
                                                        <tr>
                                                            <th class="cmn-width-ch">Name</th>
                                                            <th title="Selections Points" class="cmn-width2">Points</th>
                                                            <th>Date on List</th>
                                                            <th title="Program Type" class="cmn-width">Prg Type</th>
                                                            <th>Center Choice</th>
                                                            <th class="cmn-width">Gender</th>
                                                            <th class="cmn-width">DOB</th>
                                                            @*<th>Acceptance</th>*@
                                                            <th class="cmn-width-ch">Assign Classroom</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="div4" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>
                                            </div>
                                        </div>



                                        <div class="col-xs-12">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pagination-file">
                                                <div class="pages_display">
                                                    <ul>
                                                        <li style="">Display</li>
                                                        <li>
                                                            <select id="ddlpagetodisplay_waiting">
                                                                <option value="10" selected="selected">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="75">75</option>
                                                                <option value="100">100</option>
                                                            </select>
                                                        </li>
                                                        <li style="">Records Per Page</li>
                                                    </ul>
                                                    <div class="clear"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div id="divPaging" class="pagination_wrp">
                                                    <ul id="ulPaging" class="pagination">
                                                        <li>



                                                            <a href="javascript:void(0);" id="First" disabled="disabled">
                                                                <i class="fa fa-angle-double-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li title="Back">


                                                            <a href="javascript:void(0);" id="Back" disabled="disabled">
                                                                <i class="fa fa-angle-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li style="float:left;width:auto;" title="Select">
                                                            <select class="select_cl pg-select" id="ddlpaging_waiting"></select>
                                                        </li>
                                                        <li title="Next">

                                                            <a href="javascript:void(0);" id="Next" disabled="disabled">
                                                                <i class="fa fa-angle-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                        <li title="Last">

                                                            <a href="javascript:void(0);" id="Last" disabled="disabled">
                                                                <i class="fa fa-angle-double-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>


                                    </div>



                                    <div class="col-sm-12" id="AcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;background:#fff;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="ClientNameAccept"></label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="ddlclassroom" style="width: 100%;" class="form-control"></select>
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="txtclassstartdate" style="width: 100%;" type="text" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                        <p class="pysd-msg" style="color:#db4438;font-style:italic;display:none;">Program Year Start Date is @ViewBag.PYStartDate</p>
                                                    </div>
                                                    @*<div class="col-sm-3" style="display:none;text-align:center;color:#327ab7;font-style:italic;">
                        <p>Program Year Start Date</br>@ViewBag.PYStartDate</p>
                        </div>*@
                                                </div>
                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Reason for Acceptance <sup>*</sup></label>
                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="1" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Income</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="2" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Homeless</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" type="radio" name="chkincome" value="3" style="width: 14%; margin-top: -8%;" class="form-control radio">
                                                        <label>Foster</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" style="display:none;">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;"></label>
                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="4" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>TANF</label>

                                                    </div>

                                                    <div class="col-sm-2">

                                                        <input id="chkincome" name="chkincome" type="radio" value="6" style="width: 14%; margin-top: -8%;" class="form-control radio">@*chkTanf*@
                                                        <label>SSI</label>

                                                    </div>
                                                </div>

                                                <div class="col-sm-9" id="ChildTrans" style="display: none;">



                                                    <label style="font-size: 15px; margin-left: 2%; color: #295b8f;width: 69%!important;" id="childtrans"></label>
                                                    <input type="hidden" id="childtransId" name="childtransId" />
                                                </div>


                                                <div class="col-sm-9" id="BMI" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />



                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">

                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />



                                                </div>


                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>



                                                <div class="col-sm-9">
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;background: #4caf50!important;" onclick="return SaveAcceptedInfo();">
                                                            Save
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="CancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>

                                    </div>



                                    <div class="col-sm-12" id="HVAcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>

                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="HVClientNameAccept"></label>
                                                        <input type="hidden" id="HVClientId" style="width: 100%;" />
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="HVddlclassroom" style="width: 100%;" tabindex="1" class="form-control"></select>
                                                    </div>
                                                </div>


                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign HV <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="selAssignHV" style="width: 100%;" class="form-control"></select>
                                                    </div>
                                                </div>*@


                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVtxtclassstartdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" tabindex="2" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: block">
                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Description<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input type="text" style="width: 100%;" class="form-control" autocomplete="off" name="Title" tabindex="3" id="title">
                                                    </div>

                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Meeting Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVmeetingdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" tabindex="4" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Start Time<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-meeting-date" style="width: 100%;" tabindex="5" id="apptStartTime"></select>
                                                    </div>


                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Duration(HH:MM)<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-end-time" style="width: 100%;" tabindex="6" id="apptEndTime"></select>

                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: none">

                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Notes</label>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <textarea class="form-control" style="width: 100%;" tabindex="7" id="description"></textarea>

                                                    </div>
                                                </div>

                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Main Reason for Acceptance <sup>*</sup></label>
                                                    </div>

                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" tabindex="8" value="1" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Income</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" value="2" tabindex="9" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Homeless</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" value="3" tabindex="10" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Foster</label>
                                                    </div>
                                                </div>*@

                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;"></label>
                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input name="HVchkincome" type="radio" value="4" tabindex="11" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>TANF</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input name="HVchkincome" type="radio" value="6" tabindex="13" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>SSI</label>

                                                    </div>
                                                </div>*@

                                                <div class="col-sm-9" id="BMI" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="col-sm-4 col-sm-offset-4">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="return HVSaveAcceptedInfo(event,this);">
                                                            Save
                                                        </button>
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="HVCancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>


                                    @*<div class="col-xs-12 AssignFSW" style="text-align:center;display:none;">
                                        <div class="col-sm-12">
                                            <div class="col-sm-12 edulist_centeryur divposition">
                                                <div class="form-group">
                                                    <label for="email" style="font-weight:600">Client :</label>
                                                    <label for="email" style="text-align:left;font-weight:600" class="lblClientName">ClientName <sup>*</sup></label>
                                                </div>
                                                <div class="form-group DivHide DivForFSW">
                                                    <label for="email">Assign Family Advocate <sup>*</sup></label>
                                                    <select id="" onchange="AskForAlert(this);" class="form-control selAssignFSW"></select>
                                                </div>
                                                <div class="form-group DivHide DivForHV">
                                                    <label for="email">Assign Family Advocate <sup>*</sup></label>
                                                    <select id="" onchange="AskForAlert(this);" class="form-control selAssignHV"></select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xs-12" style="text-align:center">
                                            <button type="button" style="background: #4caf50!important;" class="my-btn" onclick="return ShowHealthstaff();">Save</button>
                                            <button type="button" class="my-btn" onclick="CancelWaiting();">Cancel</button>
                                        </div>
                                    </div>*@


                                    @*<div class="col-sm-12" id="Acceptancedivall" style="display: none;">
                                            <div class="col-sm-12">
                                                <fieldset style="border: 1px solid #295b8f;">
                                                    <legend class="legend1"></legend>
                                                    <div class="col-sm-9">
                                                        <div class="col-sm-2">
                                                            <label style="width: 100%;">Client Name</label>
                                                        </div>
                                                        <div class="col-sm-5">
                                                            <label style="width: 100%; font-size: 15px; color: #337ab7;" id="ClientNameAll"></label>
                                                        </div>
                                                    </div>
                                                    @*<div class="col-sm-9">
                                                        <div class="col-sm-2">
                                                            <label style="width: 100%;">Assign To <sup>*</sup></label>
                                                        </div>
                                                        <div class="col-sm-5">
                                                            <select id="ddlnurseAll" style="width: 100%;" class="form-control"></select>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <button type="button" class="my-btn" style="background: #4caf50!important;" onclick="return SaveWaitingall();">Save</button>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <button type="button" class="my-btn" onclick="CancelWaitingAll();">Cancel</button>
                                                        </div>
                                                    </div>

                                                </fieldset>
                                            </div>
                                        </div>*@
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal" id="Modalrejected" role="dialog" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">

                    <div class="modal-header" style="border-bottom:unset;">
                        <div class="pending-letter col-md-12">
                            <div class="pending-text col-md-11">
                                <h4 id="CenterNameRejected" class="text-center">Accepted Clients <span class="extra-title muted"></span></h4>
                            </div>
                            <div class="pending-text col-md-1">
                                <button type="button" class="close" data-dismiss="modal"><img src="/Content/CaseNote/images/close.png"></button>
                            </div>
                        </div>
                    </div>








                    <div class="control-group">
                        <div>
                            <div class="glossy-panel-div qualifierdiv row">



                                <div class="row" style="margin-bottom: 3%;">
                                    <div class="col-sm-12">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">

                                            <div class="glossy-search-block search-sec col-md-12 no-padding">
                                                <div class="input-field col-md-7 no-padding">
                                                    <input type="text" placeholder="Search..." id="search-rej-client-input" class="form-control ui-autocomplete-input" value="" autocomplete="off">
                                                    <div class="glossy-search-btn-div">
                                                        <button id="btnSearchauto-rej" data-search-item="">Search</button>
                                                    </div>
                                                </div>
                                                <div class="input-right col-md-5">
                                                    <table class="total-details-table pending-table col-md-12">

                                                        <tbody></tbody>
                                                    </table>
                                                </div>
                                            </div>

                                            <div class="table-responsive">
                                                <table class="glossy-table table table_size" id="DivRejectedList">
                                                    <thead style="cursor: pointer;">
                                                        <tr>
                                                            <th data-sort="true" data-name="name" class="name-clmn" width="23%"> <span class="fa"></span> Name</th>
                                                            <th class="prg-clmn" width="10%">Date on List</th>
                                                            <th  class="name-clmn" >Notes</th>
                                                            <th width="10%">Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="div5" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12" id="DivRejectedStatusTrack" style="display:none;">
                                        <h2 class="panel-sec-title lblClient"></h2>
                                        <div class="col-xs-12 panel-sec">
                                            <div class="panel-group" id="accordion">
                                                <div id="RejectedDivAppend">


                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xs-12">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pagination-file">
                                        <div class="pages_display">
                                            <ul>
                                                <li style="">Display</li>
                                                <li>
                                                    <select id="ddlpagetodisplay-rej">
                                                        <option value="10" selected="selected">10</option>
                                                        <option value="25">25</option>
                                                        <option value="50">50</option>
                                                        <option value="75">75</option>
                                                        <option value="100">100</option>
                                                    </select>
                                                </li>
                                                <li style="">Records Per Page</li>
                                            </ul>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                        <div id="divPaging" class="pagination_wrp">
                                            <ul id="ulPaging" class="pagination">
                                                <li>



                                                    <a href="javascript:void(0);" id="First" disabled="disabled">
                                                        <i class="fa fa-angle-double-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                    </a>

                                                </li>
                                                <li title="Back">


                                                    <a href="javascript:void(0);" id="Back" disabled="disabled">
                                                        <i class="fa fa-angle-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                    </a>

                                                </li>
                                                <li style="float:left;width:auto;" title="Select">
                                                    <select class="select_cl pg-select" id="ddlpaging-rej"><option value="1">1</option></select>
                                                </li>
                                                <li title="Next">

                                                    <a href="javascript:void(0);" id="Next" disabled="disabled">
                                                        <i class="fa fa-angle-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                    </a>
                                                </li>
                                                <li title="Last">

                                                    <a href="javascript:void(0);" id="Last" disabled="disabled">
                                                        <i class="fa fa-angle-double-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal" id="HVAcceptanceList" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 id="HVCenterName" class="text-center">Accepted Clients <span class="extra-title muted"></span></h4>
                        <div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                            <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                <button type="button" class="my-btn pull-right" data-dismiss="modal" tabindex="8">Exit</button>
                                <div class="clear"></div>
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <div class="add-useragform">
                            <div class="row qualifierdiv">
                                <div class="row" style="margin-bottom: 3%;">
                                    <div class="col-sm-12">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                            <div class="table-responsive">
                                                <table class="table table_size" id="DivHVAcceptanceListPopup">
                                                    <thead style="cursor: pointer;">
                                                        <tr>
                                                            <th style="text-align: left !important;">Name</th>
                                                            <th style="text-align: left !important;">Date on List</th>
                                                            <th style="text-align: left !important;">Gender</th>
                                                            <th style="text-align: left !important;">DOB</th>
                                                            <th style="text-align: left !important;">Schedule Appointment</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="divHVA1" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12" id="HVAcceptancedivClient" style="display: none;">
                                        <div class="col-sm-12">
                                            <fieldset style="border: 1px solid #295b8f;">
                                                <legend class="legend1"></legend>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Client Name </label>

                                                    </div>
                                                    <div class="col-sm-5">
                                                        <label style="width: 100%; font-size: 15px; font-weight: bold; color: #333;" id="HVClientNameAccept"></label>
                                                        <input type="hidden" id="HVClientId" style="width: 100%;" />
                                                    </div>
                                                </div>
                                                <div class="col-sm-9 adddivspace">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign Classroom <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="HVddlclassroom" style="width: 100%;" tabindex="1" class="form-control"></select>
                                                    </div>
                                                </div>


                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Assign HV <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select id="selAssignHV" style="width: 100%;" class="form-control"></select>
                                                    </div>
                                                </div>*@


                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Class Start Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVtxtclassstartdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" tabindex="2" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" class="form-control class-start-date">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: none">
                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Description<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input type="text" style="width: 100%;" class="form-control" autocomplete="off" name="Title" tabindex="3" id="title">
                                                    </div>

                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Meeting Date <sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <input id="HVmeetingdate" style="width: 100%;" type="text" onkeypress="setatstart(this);" placeholder="MM/DD/YYYY" onblur="Checkdate(this);" tabindex="4" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Start Time<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control  select-meeting-date" style="width: 100%;" tabindex="5" id="apptStartTime"></select>
                                                    </div>


                                                </div>
                                                <div class="col-sm-9">
                                                    <div class="col-xs-4">

                                                        <label for="exampleInputEmail1">Duration(HH:MM)<sup>*</sup></label>
                                                    </div>
                                                    <div class="col-sm-5">
                                                        <select class="form-control select-end-time" style="width: 100%;" tabindex="6" id="apptEndTime"></select>

                                                    </div>
                                                </div>
                                                <div class="col-sm-9" style="display: none">

                                                    <div class="col-sm-4">
                                                        <label for="exampleInputEmail1">Notes</label>
                                                    </div>
                                                    <div class="col-sm-8">
                                                        <textarea class="form-control" style="width: 100%;" tabindex="7" id="description"></textarea>

                                                    </div>
                                                </div>

                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;">Main Reason for Acceptance <sup>*</sup></label>
                                                    </div>

                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" tabindex="8" value="1" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Income</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" value="2" tabindex="9" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Homeless</label>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <input type="radio" name="HVchkincome" value="3" tabindex="10" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>Foster</label>
                                                    </div>
                                                </div>*@

                                                @*<div class="col-sm-9">
                                                    <div class="col-sm-4">
                                                        <label style="width: 100%;"></label>
                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input name="HVchkincome" type="radio" value="4" tabindex="11" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>TANF</label>

                                                    </div>
                                                    <div class="col-sm-2">

                                                        <input name="HVchkincome" type="radio" value="6" tabindex="13" style="width: 13px; margin-top: 3%; height: 13px;" class="form-control radio">
                                                        <label>SSI</label>

                                                    </div>
                                                </div>*@

                                                <div class="col-sm-9" id="BMI" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="ddlchildwt"></label>
                                                    <input type="hidden" id="ddlchildwtId" name="ddlchildwtId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildDis" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childdis"></label>
                                                    <input type="hidden" id="childdisId" name="childdisId" />
                                                </div>
                                                <div class="col-sm-9" id="ChildFAllergy" style="display: none;">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f;" id="childFoodAllergy"></label>
                                                    <input type="hidden" id="childfoodId" name="childfoodId" />
                                                </div>
                                                <div class="col-sm-9">
                                                    <label style="margin-left: 2%; font-size: 15px; color: #295b8f; width: 51%;" id="Teacher"></label>
                                                </div>
                                                <div class="col-sm-12">
                                                    <div class="col-sm-4 col-sm-offset-4">
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="return HVSaveAcceptedInfo(event,this);">
                                                            Save
                                                        </button>
                                                        <button type="button" class="my-btn" style="margin-top: 20%; margin-bottom: 20%;" onclick="HVCancelAccepted(this);">
                                                            Cancel
                                                        </button>
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row qualifierdiv">
        <div class="modal fade scroll-modal common-modal-style" id="ModalOverIncome" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog income-popup width-auto">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 id="centerName"></h4>
                        @*<div class="col-sm-5 col-xs-12 pull-right" style="padding-right: 0;">
                                <div class="btnwrp_subcal" style="padding: 0; margin: 0;">
                                    <button type="button" class="my-btn pull-right" data-dismiss="modal" tabindex="8">Exit</button>
                                    <div class="clear"></div>
                                </div>
                            </div>*@
                        <div class="pending-text">
                            <button type="button" class="close" data-dismiss="modal" style="right: -18px;top: -14px;"><img src="/Content/CaseNote/images/close.png"></button>
                        </div>
                    </div>
                    <div class="control-group" style="max-height:800px;">
                        <div class="add-useragform">
                            <div class="row qualifierdiv">
                                <div class="row" style="margin-bottom: 3%;">






                                    <div class="col-sm-12">

                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" style="margin:0;padding:0;">
                                            <div class="table-responsive" style="margin-bottom:0px;">
                                                <table class="table table_size glossy-table">
                                                    <thead style="cursor:pointer;">
                                                        <tr>

                                                            <th data-sort="true" data-name="name">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i><i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                            Client</th>
                                                            <th data-sort="true" data-name="Gender">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i><i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                            Gender</th>
                                                            <th data-sort="true" data-name="dob">
                                                                <i class="fa fa-custom-sort-date-asc i-asc"></i><i class="fa fa-custom-sort-date-desc i-desc"></i> 
                                                            Date of Birth</th>
                                                            <th data-sort="false" data-name="parent">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true">
                                                                </i><i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                            Parent/Guardian</th>
                                                            <th data-sort="true" data-name="PovertyCalculated">
                                                                <i class="fa fa-sort-alpha-asc i-asc" aria-hidden="true"></i>
                                                            <i class="fa fa-sort-alpha-desc i-desc" aria-hidden="true"></i>
                                                            Income Percentage</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                                <div id="div1" style="text-align: center; display: none; margin-left: 38%;">
                                                    <label>No result found.</label>
                                                </div>


                                                

                                            </div>


                                            
                                        </div>

                                        <div class="col-xs-12">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pagination-file">
                                                <div class="pages_display">
                                                    <ul>
                                                        <li style="">Display</li>
                                                        <li>
                                                            <select id="ddlpagetodisplay_oi">
                                                                <option value="10" selected="selected">10</option>
                                                                <option value="25">25</option>
                                                                <option value="50">50</option>
                                                                <option value="75">75</option>
                                                                <option value="100">100</option>
                                                            </select>
                                                        </li>
                                                        <li style="">Records Per Page</li>
                                                    </ul>
                                                    <div class="clear"></div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                <div id="divPaging" class="pagination_wrp">
                                                    <ul id="ulPaging" class="pagination">
                                                        <li>



                                                            <a href="javascript:void(0);" id="First" disabled="disabled">
                                                                <i class="fa fa-angle-double-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li title="Back">


                                                            <a href="javascript:void(0);" id="Back" disabled="disabled">
                                                                <i class="fa fa-angle-left" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>

                                                        </li>
                                                        <li style="float:left;width:auto;" title="Select">
                                                            <select class="select_cl pg-select" id="ddlpaging_oi">
                                                            </select>
                                                        </li>
                                                        <li title="Next">

                                                            <a href="javascript:void(0);" id="Next" disabled="disabled">
                                                                <i class="fa fa-angle-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                        <li title="Last">

                                                            <a href="javascript:void(0);" id="Last" disabled="disabled">
                                                                <i class="fa fa-angle-double-right" aria-hidden="true" style="margin:auto;padding:-7px;"></i>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



<div class="row qualifierdiv">
    @{

        Html.RenderPartial("~/Views/Partialviews/DisabilityClient.cshtml");
            }
        <input type="hidden" id="centerIdGrid" name="centerIdGrid" value="">
</div>

}
