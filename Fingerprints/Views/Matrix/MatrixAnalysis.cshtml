@model FingerprintsModel.MatrixScore
@{
    ViewBag.Title = "ParentMatrixAnalysis";
    Layout = "~/Views/Shared/AgencyStaffLayout.cshtml";
}
@section MainContentHolder{
    <link href="~/Content/css/style.css" rel="stylesheet" />
 

    <div class="container-fluid no-padding">
        <input type="hidden" value="@Model.HouseHoldId" id="houseHoldId" />
        <input type="hidden" value="@Model.MatrixScoreList[0].AnnualAssessmentType" id="assessmentType" />
        <input type="hidden" value="@Model.ClientId" id="clientID" />
        <input type="hidden" value="@Model.CenterId" id="centerId" />
        <input type="hidden" value="@Model.ClassRoomId" id="classRoomId" />
        <input type="hidden" value="@Model.ProgramId" id="programId" />
        <input type="hidden" value="@Model.ProgramType" id="programType" />
        <input type="hidden" value="@Model.CategoryIdList.Count" id="categoryIdCount" />
        <input type="hidden" value="@Model.MatrixScoreList.Count" id="TotalgroupCount" />
        <input type="hidden" value="@Model.ActiveYear" id="activeYear" />



        <div class="row">
            <div class="col-xs-12 no-padding">
                <div class="col-xs-12 no-padding">
                    <div class="top-header-title" style="margin-top: 30px;">
                        <h1>PARENT’S MATRIX ANALYSIS</h1>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 no-padding">
                <div class="col-xs-12 select-block no-padding">
                    <div class="col-lg-6 col-md-8 col-sm-8 col-xs-12">
                        <select name="" id="yearSelect" class="matrix-select" >
                            <option value="0">--Select the program year--</option>
                        </select>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                        <select name="" class="matrix-select hidden">
                            <option value="0">Year 2015</option>
                            <option value="1">Year 2016</option>
                            <option value="2" selected>Year 2017</option>
                        </select>
                    </div>
                </div>
                <div class="col-xs-12 no-padding">
                    <div class="col-lg-3 col-xs-12">
                        <div class="matrix-profile-img">
                            <img id="profileImage" src="">
                            <div class="profile-text">
                                <p id="parentName"></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 block assment-block-1">
                        <div class="assment-block ">
                            <h3>ASSESSMENT 1</h3>
                            <div class="survey-3d-green survey-3d-green-ht master-bar1">
                                <div class="bar-margin"></div>
                                <div class="bar-label2"><p class="avg-p">0<sub>Avg</sub></p></div>
                                <div class="bar-label1"><p>0</p></div>
                                <div class="bar1">
                                </div>
                                <div class="bar-green hidden bar-green1">
                                    <div class="bar-in1">
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 no-padding">
                                <div class="col-xs-9 no-padding">
                                    <div class="assment-text">
                                        <p id="staff1" class="staff-name"></p>
                                        <p class="para-1 hidden date-para">Completed <span id="date1"  class="completed-date"></span></p>
                                    </div>
                                </div>
                                <div class="col-xs-3"></div>
                            </div>

                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 block assment-block-2">
                        <div class="assment-block">
                            <h3>ASSESSMENT 2</h3>
                            <div class="survey-3d-green survey-3d-green-ht master-bar2">
                                <div class="bar-margin"></div>
                                <div class="bar-label2"><p class="avg-p">0<sub>Avg</sub></p></div>
                                <div class="bar-label1"><p>0</p></div>
                                <div class="bar1">
                                </div>
                                <div class="bar-green hidden bar-green2">
                                    <div class="bar-in1">
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-12 no-padding">
                                <div class="col-xs-9 no-padding">
                                    <div class="assment-text">
                                        <p id="staff2"  class="staff-name"></p>
                                        <p class="para-2 hidden date-para">Completed <span id="date2"  class="completed-date"></span></p>
                                    </div>
                                </div>
                                <div class="col-xs-3">
                                    <div class="elipse-grade barl-2diff">
                                        <p>3.2</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 block assment-block-3">
                        <div class="assment-block">
                            <h3>ASSESSMENT 3</h3>
                            <div class="survey-3d-green survey-3d-green-ht master-bar3">
                                <div class="bar-margin"></div>
                                <div class="bar-label2"><p class="avg-p">0<sub>Avg</sub></p></div>
                                <div class="bar-label1"><p>0</p></div>
                                <div class="bar1">
                                </div>
                                <div class="bar-green hidden bar-green3">
                                    <div class="bar-in1">
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12 no-padding">
                                <div class="col-xs-9 no-padding">
                                    <div class="assment-text">
                                        <p id="staff3" class="staff-name"></p>
                                        <p class="para-3 hidden date-para">Completed <span id="date3" class="completed-date"></span></p>
                                    </div>
                                </div>
                                <div class="col-xs-3">
                                    <div class="elipse-grade bar1-3diff" style="background: #1bb79a;">
                                        <p>4.1</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                @*<div class="col-lg-4 col-xs-12">
                    <div class="matrix-header-title">
                        <h1>MATRIX SURVEY</h1>
                    </div>
                </div>
                <div class="col-lg-6 col-xs-12 no-padding matrix-header-title2">
                    <div class="col-sm-4 no-padding">
                        <div class="matrix-header-title1" style="background: none;">
                            <h1>ASSESSMENT 1</h1>
                        </div>
                    </div>
                    <div class="col-sm-4 no-padding assment-block-2">
                        <div class="matrix-header-title1" style="background: none;">
                            <h1>ASSESSMENT 2</h1>
                        </div>
                    </div>
                    <div class="col-sm-4 no-padding assment-block-3">
                        <div class="matrix-header-title1" style="background: none;">
                            <h1>ASSESSMENT 3</h1>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 col-xs-12">
                    <div class="matrix-header-title">
                        <h1>CHG<span style="padding-left: 10px;"><img src="/images/dw-arw.png"></span><span><img src="/images/tp-arw.png"></span></h1>
                    </div>
                </div>*@

                @if (Model.CategoryIdList.Count != 0)
                {
                    for (int i = 0; i < Model.CategoryIdList.Count; i++)
                    {

                        var scoreList = Model.MatrixScoreList.Where(x => x.AssessmentCategoryId == Model.CategoryIdList[i]).ToList();
                        if (scoreList.Count > 0)
                        {
                            <div class="col-xs-12 no-padding category-div" style="position:relative;" cat-id="@i">
                                <div class="div-group-@i popup-display-overlay"></div>

                                <div class="div-question-@i popup-display-overlay"></div>

                                <div class="col-lg-4 col-xs-12 margin-btm-al z-index-change">
                                  
                                  @if(i==0)
                                  {


                                     <div class="col-xs-12 no-padding matrix-survey1">
                                        <div class="matrix-header-title">
                                            <h1>MATRIX SURVEY</h1>
                                        </div>
                                    </div>
                                  }
                                  else
                                  {

                                    <div class="col-xs-12 no-padding  matrix-survey hidden">
                                        <div class="matrix-header-title">
                                            <h1>MATRIX SURVEY</h1>
                                        </div>
                                    </div>
                                  }


                                    <div class="col-sm-12 no-padding block-div float-div height-auto" style="background: #f1f5f8;border-radius: 5px;float: left;width: 100%;float: left;width: 100%;">
                                        <div class="col-lg-2 no-padding survey-text change-div height-auto">
                                            <h2 category-id="@scoreList[0].AssessmentCategoryId">@scoreList[0].AssessmentCategory.ToUpper()</h2>
                                        </div>

                                        <div class="col-lg-10 survey-block change-div height-auto">
                                            @for (int j = 0; j < scoreList.Count; j++)
                                            {
                                                <input type="hidden" id="count_@scoreList[j].AssessmentGroupId" value="@i" />
                                                var ct = j + 1;
                                                var scr = "";
                                                if (ct>5)
                                                {
                                                    ct = (ct-5);
                                                    if(ct==0)
                                                    {
                                                        ct = 1;
                                                    }
                                                     scr = "/images/3d-color" + ct + ".png";
                                                }
                                                else
                                                {
                                                     scr = "/images/3d-color" + ct + ".png";

                                                }
                                                var isFirst = 0;
                                                if(i==0)
                                                {
                                                    isFirst = 1;
                                                }
                                                <div class="col-xs-12 no-padding">
                                                    <div class="col-sm-2 col-xs-2 pad-change">
                                                        <div class="survey-3d question-image" group-id="@scoreList[j].AssessmentGroupId" isFirst="@isFirst" position="@ct">
                                                            <img src=@scr style="display:block;" />
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-10 col-xs-10 pad-change">
                                                        <div class="education-content-desc  assessment-group group_@scoreList[j].AssessmentGroupId" title="@scoreList[j].AssessmentGroupType" isFirst="@isFirst" position="@ct" style="position: relative;" group-id="@scoreList[j].AssessmentGroupId">
                                                            <p group-id="@scoreList[j].AssessmentGroupId">@scoreList[j].AssessmentGroupType</p>
                                                            <span class="rt-arw"><img src="/images/rt-aw.png"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6 col-xs-12 no-padding assment-block-1 margin-btm-al">
                                    

                                   @if(i==0)
                                   {
                                        <div class="col-xs-12 no-padding matrix-header-title2 assessments1">
                                            <div class="col-sm-4 no-padding">
                                                <div class="matrix-header-title1" style="background: none;">
                                                    <h1>ASSESSMENT 1</h1>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 no-padding assment-block-2">
                                                <div class="matrix-header-title1" style="background: none;">
                                                    <h1>ASSESSMENT 2</h1>
                                                </div>
                                            </div>
                                            <div class="col-sm-4 no-padding assment-block-3">
                                                <div class="matrix-header-title1" style="background: none;">
                                                    <h1>ASSESSMENT 3</h1>
                                                </div>
                                            </div>
                                        </div>
                                   }
                                   else
                                   {
                                    <div class="col-xs-12 no-padding matrix-header-title2 assessments hidden">
                                        <div class="col-sm-4 no-padding">
                                            <div class="matrix-header-title1" style="background: none;">
                                                <h1>ASSESSMENT 1</h1>
                                            </div>
                                        </div>
                                        <div class="col-sm-4 no-padding assment-block-2">
                                            <div class="matrix-header-title1" style="background: none;">
                                                <h1>ASSESSMENT 2</h1>
                                            </div>
                                        </div>
                                        <div class="col-sm-4 no-padding assment-block-3">
                                            <div class="matrix-header-title1" style="background: none;">
                                                <h1>ASSESSMENT 3</h1>
                                            </div>
                                        </div>
                                    </div>
                                   }


                                    <div class="col-sm-12 no-padding block-div change-div height-auto" style="background: #f1f5f8;border-radius: 5px;float: left;width: 100%;float: left;width: 100%;">
                                        <div class="col-sm-4 assment-block-1">
                                            <div class="col-xs-12 no-padding">
                                                <div class="col-sm-4 col-xs-8 no-padding margin-change">
                                                    @for (int j = 0; j < scoreList.Count; j++)
                                                    {

                                                        <div class="education-content-3d-desc" style="margin-top: 15px;">
                                                            <p id="fill_As1_@scoreList[j].AssessmentGroupId" class="mat-score" data-score="0">-</p>
                                                        </div>
                                                    }
                                                </div>
                                                <div class="col-sm-8 col-xs-4 pad-change">
                                                    <div class="survey-3d-green change-bar-div_@i barAs1_@Model.CategoryIdList[i]">
                                                        <div class="bar-margin"></div>
                                                        <div class="bar-label labelAs1_@Model.CategoryIdList[i]"><p>0</p></div>
                                                        <div class="bar">
                                                        </div>
                                                        <div class="bar-green hidden greenAs1_@Model.CategoryIdList[i]">
                                                            <div class="bar-in1">
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4 assment-block-2">
                                            <div class="col-xs-12 no-padding">
                                                <div class="col-sm-4 col-xs-8 no-padding margin-change">
                                                    @for (int j = 0; j < scoreList.Count; j++)
                                                    {

                                                        <div class="education-content-3d-desc" style="margin-top: 15px;">
                                                            <p id="fill_As2_@scoreList[j].AssessmentGroupId"  class="mat-score"data-score="0">-</p>
                                                        </div>
                                                    }
                                                </div>
                                                <div class="col-sm-8 col-xs-4 pad-change">
                                                    <div class="survey-3d-green change-bar-div_@i barAs2_@Model.CategoryIdList[i]">
                                                        <div class="bar-margin"></div>
                                                         <div class="bar-label labelAs2_@Model.CategoryIdList[i]"><p>0</p></div>
                                                        <div class="bar">
                                                        </div>
                                                        <div class="bar-green hidden greenAs2_@Model.CategoryIdList[i]">
                                                            <div class="bar-in1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4 assment-block-3">
                                            <div class="col-xs-12 no-padding">
                                                <div class="col-sm-4 col-xs-8 no-padding margin-change">
                                                    @for (int j = 0; j < scoreList.Count; j++)
                                                    {

                                                        <div class="education-content-3d-desc" style="margin-top: 15px;">
                                                            <p id="fill_As3_@scoreList[j].AssessmentGroupId" class="mat-score" TestValue="0" data-score="0">-</p>
                                                        </div>
                                                    }
                                                </div>
                                                <div class="col-sm-8 col-xs-4 pad-change">
                                                    <div class="survey-3d-green change-bar-div_@i barAs3_@Model.CategoryIdList[i]">
                                                        <div class="bar-margin"></div>
                                                         <div class="bar-label labelAs3_@Model.CategoryIdList[i]"><p>0</p></div>
                                                        <div class="bar">
                                                        </div>
                                                        <div class="bar-green hidden greenAs3_@Model.CategoryIdList[i]">
                                                            <div class="bar-in1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-lg-2 col-xs-12 margin-btm-al">
                                    @if(i==0)
                                    {

                                    <div class="col-xs-12 no-padding chg-div1">
                                        <div class="matrix-header-title">
                                            <h1>CHG<span style="padding-left: 10px;"><img src="/images/dw-arw.png"></span><span><img src="/images/tp-arw.png"></span></h1>
                                        </div>
                                    </div>

                                    }
                                    else
                                    {
                                        <div class="col-xs-12 no-padding chg-div hidden">
                                            <div class="matrix-header-title">
                                                <h1>CHG<span style="padding-left: 10px;"><img src="/images/dw-arw.png"></span><span><img src="/images/tp-arw.png"></span></h1>
                                            </div>
                                        </div>
                                    }
                                    <div class="col-sm-12 block-div change-div height-auto" style="background: #f1f5f8;border-radius: 5px;padding: 15px;float: left;width: 100%;">
                                        <div class="chg-text">
                                            @for (int j = 0; j < scoreList.Count; j++)
                                            {
                                                <p style="color:#2ecc71;">
                                                    <span class="chg_per_@Model.CategoryIdList[i]_@scoreList[j].AssessmentGroupId char-percentage" style="display:inline-block; color:black;">-</span>
                                                    <span style="display:inline-block;"><img src="" class="hidden chg_per_img_@Model.CategoryIdList[i]_@scoreList[j].AssessmentGroupId percentage-image" /></span>
                                                </p>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                    }
                }

            </div>
        </div>
    </div>

    <!--div for Description Popup- Start-->
    <div class="hidden" id="descText">
        <div class="col-xs-12 no-padding">
            <div class="col-lg-1 col-md-2 col-sm-3 col-xs-2 pad-change">
                <div class="education-content-desc2" style="cursor:pointer;">
                    <p class="matrix-value" id="matrixValue" score-id="0"></p>
                </div>
            </div>
            <div class="col-lg-11 col-md-10 col-sm-9 col-xs-10 pad-change">
                <div class="education-content-desc">
                    <p class="description" id="descriptionText"></p>
                </div>
            </div>
        </div>
    </div>
    <div class="desc-view-popup" style="position: relative;display:none">
        <div class="col-lg-8 col-xs-12 popup-div">
            <div class="left-arw">
                <img src="/images/left-aw.png">
            </div>
            <div class="col-xs-12 survey-margin" style="background: #f1f5f8;border-radius: 5px;padding: 12px;border: 1px solid #333;position:relative;" id="popupDiv">

            </div>
        </div>
    </div>

    <!--div for Description Popup- ENd-->
    <!--div for Question Popup- Start-->
    <div class="hidden" id="questionText">
        <div class="col-xs-12 no-padding">
            <div class="col-lg-1 col-md-2 col-sm-3 col-xs-2 pad-change">
                <div class="education-content-desc2">
                    <p class="sl-no" id="serialNo">5</p>
                </div>
            </div>
            <div class="col-lg-11 col-md-10 col-sm-9 col-xs-10 pad-change">
                <div class="education-content-desc">
                    <p class="question" id="questionText"></p>
                </div>
            </div>
        </div>
    </div>
    <div class="question-view-popup" style="display:none;">
        <div class="col-lg-8 col-xs-12 question-popup-div popup-div1">
            <div class="left-arw"><img src="/images/left-aw.png"></div>
            <div class="col-xs-12 survey-margin" style="background: #f1f5f8;border-radius: 5px;padding: 12px;border: 1px solid #333;position:relative;" id="questionpopupDiv">
            </div>
        </div>
    </div>

    <!--div for Question Popup- ENd-->

    <!---Error Popup-->

<div class="modal fade" id="AssessmentexpirePopup" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header" style="border-bottom:none;margin-bottom:0;">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="assessmenterror"></h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

    <!--ErrorPopup-->

    <script src="~/Scripts/MatrixAnalysis.js"></script>


}
