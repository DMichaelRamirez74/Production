@model FingerprintsModel.TeacherModel
@{
    ViewBag.Title = "ParentCheckIn";
    Layout = "~/Views/Shared/AgencyStaffLayout.cshtml";
    bool hasSignatureCode = Convert.ToBoolean(Session["HasSignatureCode"]);

}

@section Style{
    

<style type="text/css">
    /*New design code*/

    .hld-img, .hld-img img {
        border-radius: 100%;
        background: #e6e6e6;
    }

    .hld-img {
        width: 200px;
        height: 200px;
        padding: 0;
    }

    #accept.button-blue:before {
        content: "Accept Signature";
    }


    #accept.button-green .fa-check {
        display: inline-block;
    }

    #accept.button-green {
        pointer-events: none;
    }


        #accept.button-green:before {
            content: "Signature Accepted";
        }



    #acceptTeacher.button-blue:before {
        content: "Accept Signature";
    }


    #acceptTeacher.button-green .fa-check {
        display: inline-block;
    }

    #acceptTeacher.button-green {
        pointer-events: none;
    }


        #acceptTeacher.button-green:before {
            content: "Signature Accepted";
        }


    .information_titles {
        border-radius: 5px 5px 0 0;
        width: 100%;
        float: left;
        margin-top: 15px;
    }

        .information_titles h4 {
            color: #fff;
            display: block;
            font-size: 20px;
            font-weight: bold;
            margin: 0;
            padding: 12px 10px;
            text-align: left;
            text-transform: capitalize;
            float: left;
        }

    .inforeader-inner {
        background: #f1f5f8 none repeat scroll 0 0;
        border-radius: 0 0 10px 10px;
        margin-bottom: 20px;
        margin-top: 0;
        padding: 10px;
        float: left;
        width: 100%;
    }

    .no-padding {
        padding: 0;
    }

    .house-hold {
        background-color: #fff;
        float: left;
        padding: 10px;
        border: 1px solid #ccc;
        font-family: verdana;
        width: 100%;
        margin: 10px 0;
    }

    .household-main-ch {
        -webkit-box-shadow: 0 0 10px rgba(0,0,0,0.2);
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }



    .glossy-button-button {
        padding: 0 24px;
    }
    /**/



    .kbw-signature {
        width: 400px;
        height: 200px;
    }

    .sec-radios span {
        margin-right: 10px;
        float: left;
        color: #fff;
    }

        .sec-radios span input {
            margin-right: 5px;
        }

    span.sec-radios label {
        margin-top: 0;
        float: right;
    }

    .sec-radios span {
        margin-right: 10px;
        /*float: left;*/
        color: #fff;
    }

    .check-space {
        margin-top: 0px;
        float: left;
        margin-right: 4px;
    }

    .hours-div label {
        width: auto !important;
        float: left;
        margin-right: 14px;
        font-weight: 300 !important;
        color: #000 !important;
    }

    .hours-div input[type="radio"] {
        width: auto !important;
        float: left;
        margin-right: 3px;
    }

    div#parent-check-inkind-div label {
        color: #295b8f;
        font-weight: 600;
    }

    #parent-check-inkind-div label span.activity_desc {
        color: #000;
        font-weight: 300;
    }

    .table-main-sec {
        margin-top: 20px;
        width: 100%;
        float: left;
    }

    @@media only screen and (min-width: 768px) and (max-width: 1200px) {
        label.witpart {
            width: 100% !important;
        }

        input#ActivityDate {
            width: 100% !important;
        }

        .parent-info.section .hours-div {
            margin-top: 24px;
        }
    }
    @@media only screen and (min-width: 320px) and (max-width: 767px) {
    
    .hld-img, .hld-img img {
    width: 100% !important;
    height: auto !important;
    object-fit: cover;
}
label.col-xs-7.success {
    padding: 0;
}
    div#sig > canvas {
    width: 100% !important;
}
    .kbw-signature {
    width: 100%;
    height: 100px;
}
    .glossy-right-side-container .lbl-text {
    text-align: left !important;
}
    div#teachermain label input {
    margin-right: 3px;
    width: auto !important;
}

div#teachermain > div {
    padding: 0 4px;
}
    .referrals {
    padding: 0 !important;
}

.text-center.glossy_btn {
    display: flex;
    flex-direction: row;
}
    }
    @@media only screen and (min-width: 768px) and (max-width: 992px) {

    .kbw-signature {
    width: 100%;
    height: 105px;
}
    div#sig > canvas, div#sig1 > canvas {
    width: 100%;    height: 100px;

}
    .add-useragform input {
    width: auto !important;
    margin-right: 5px;
}
    div#dailyhealth-div {
    padding: 0 30px;
}
    .spcltabs.referrals.text-center {
    padding: 0;
}
        }
</style>





}


@section Script{

    


    <script type="text/javascript">

        var inkindBudgetPeriods=@Html.Raw(Json.Encode(Model.InkindPeriodList));

        function validatedate(inputTextObject) {
            if ($(inputTextObject).val().trim() != "MM/DD/YYYY" && $(inputTextObject).val().trim() != "") {
                var dateformat = /^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/;
                var regex = new RegExp(dateformat);
                if (regex.test($(inputTextObject).val())) {
                    var dob = new Date();
                    var now = new Date();

                    if (Date.parse($(inputTextObject).val()) >= now) {
                        customAlert("Invalid Activity Date. Date must be less than today's date. ");
                        $(inputTextObject).val('');
                        return false;
                    }

                    if (!isValidAllowedDates($(inputTextObject).val())) {
                        plainValidation($(inputTextObject));
                        $(inputTextObject).val('');
                        customAlert('Please enter valid date');
                        return false;
                    }

                    if (new Date($(inputTextObject).val()).setHours(0, 0, 0, 0) > new Date().setHours(0, 0, 0, 0)) {
                        plainValidation($(inputTextObject));
                        $(inputTextObject).val('');
                        customAlert('Future dates are not allowed');
                        return false;
                    }


                }
                else {
                    customAlert("Invalid Date");
                    $(inputTextObject).val('');
                    return false;
                }

            }

        }
        function removeclasss() {
            $('#ParentCheckIn').removeClass("active");
            $('#ParentCheckIn').removeClass("in");
            $('#OfficeUse').removeClass("active");
            $('#OfficeUse').removeClass("in");

            if ('' != '') {
                if ('' == '2') {

                    removeclasss();
                    $('#ParentCheckIn').addClass("in");
                    $('#ParentCheckIn').addClass("active");
                    $('#OfficeUse').removeClass("active");
                    $('#OfficeUse').removeClass("in");
                    $('#myTab li:eq(1) a').tab('show');

                }

            }
            else {

                $('#myTab a:first').tab('show');

            }
        }

        function getFormattedDate(date) {
            date = new Date(date);
            var year = date.getFullYear();

            var month = (1 + date.getMonth()).toString();
            month = month.length > 1 ? month : '0' + month;

            var day = date.getDate().toString();
            day = day.length > 1 ? day : '0' + day;

            return month + '/' + day + '/' + year;
        }

        function isValidAllowedDates(enteredDate)
        {
           
            var $inkindPeriods= inkindBudgetPeriods;
            var $isAllowed=false;
            if($inkindPeriods!=null && $inkindPeriods.length>0)
            {


                $.each($inkindPeriods,function(){

                    if( new Date(enteredDate).setHours(0,0,0,0) >= new Date($(this)[0].StartDate).setHours(0,0,0,0)
                        && new Date(enteredDate).setHours(0,0,0,0)<=new Date($(this)[0].EndDate).setHours(0,0,0,0))
                    {
                        $isAllowed=true;
                        return $isAllowed;
                    }



                });

                return $isAllowed;

            }
            else
            {
                $isAllowed=true;
                return $isAllowed;
            }




        }


        $(function () {

            // Signature Code Validation Check //

            $("input[name='SignatureCode']").inputFilter(function (value) {
                return /^\d*$/.test(value) && value.toString().length <= 4;
            });

            $('input[name="SignatureCode"]').on('blur',function(){


                $('#TeacherCheckedInTime').val(new Date().toJSON());
            });

            if($('input:radio[name="Teacher"]').is(':checked'))
            {
                var $value=$('input:radio[name="Teacher"]:checked').val();

                if($('#sig_code_'+$value+'').val()=='1')
                {
                    $('#div-sig-code-section').show();
                }
                else{

                    $('#div-draw-signature').show();
                }
            }


            if (inkindBudgetPeriods != null && inkindBudgetPeriods.length > 0)
            {
               
                var $mindate = new Date(inkindBudgetPeriods[0].StartDate).setHours(0, 0, 0, 0);

                $('#ActivityDate').datetimepicker({
                    timepicker:false,
                    format: 'm/d/Y',
                    minDate: $mindate,
                    maxDate: new Date(),
                    validateOnBlur: false,
                    mask: true,
                    autoClose: true,
                    onSelectDate: function (e, ele) {

                        cleanValidation();
                        if (!isValidAllowedDates(e)) {

                            customAlert('Entered date is not allowed');
                            plainValidation('#ActivityDate');
                            return false;
                        }

                    },
                    onChangeDateTime: function (e, ele) {
                        cleanValidation();
                        if (!isValidAllowedDates(e)) {

                            customAlert('Entered date is not allowed');
                            plainValidation('#ActivityDate');
                            return false;
                        }
                    }
                });




                $('#imageinfoInkindDates').popover({
                    html:true,
                    content:function(){
                        var $appendtext='';
                        if(inkindBudgetPeriods!=null && inkindBudgetPeriods.length>0)
                        {
                            $.each(inkindBudgetPeriods,function(i,period){

                                var $endDate=new Date(period.EndDate).setHours(0,0,0,0)>new Date().setHours(0,0,0,0)?getFormattedDate(new Date().setHours(0,0,0,0)):period.EndDate;

                                $appendtext+='<p>Dates allowed from '+period.StartDate+' '+'to '+$endDate+'</p>';
                            });

                            return $appendtext;
                        }
                    },
                    container:'body',
                    title: function () {
                        //  return $(this).data('title') + '<span class="close">&times;</span';
                        return 'In-Kind Entry Dates'

                    },

                    delay: { "show": 500, "hide": 100 }
                })


                //$('#imageinfoInkindDates').on('click',function(){

                //    $('#imageinfoInkindDates').popover('show');


                //});




            }


            @*$('#side-menu').hide();
            $('#menu-head').hide();*@
            if ('@ViewBag.message' != '') {
                customAlert('@ViewBag.message');
            }

            var pastlocation = '@Request.UrlReferrer';

            if ('@(ViewData["ActiveTabTeacher"])' != '0') {
                $('#myTab li:eq(1) a').tab('show');
            }
            if (pastlocation.substring(pastlocation.length - 6, pastlocation.length) == "Roster") {
                $('#myTab li:eq(1) a').tab('show');
                $('#Available').val(2);
            }
            if ('@Model.Available' == '0') {
                // $('#OfficeUse').hide();
                $("#dailyhealth-div").hide();

                if('@(ViewData["ActiveTabTeacher"])' == '0')
                {
                    $('#myTab li:eq(0) a').tab('show');

                }


            }

            $('#side-menu').hide();
            $('#menu-head').hide();
            if ('@Model.ParentCheckedIn' == '00000') {
                $('#others').show();
            } else {
                $('#others').hide();
            }
            if ('@Model.OtherNameTeacher' == '') {
                $('#othersTeacher').hide();
            } else {
                $('#othersTeacher').show();
            }


            //$('#sig').signature({ distance: 10 });

            $('#sig').signature({ distance: 10,guideline: true, 
                guidelineOffset: 25, guidelineIndent: 20, guidelineColor: '#ff0000', color: '#29327f',
                change: function (event, ui) {
                    $('#imageSig').val('');

                    $('button#accept').find('i').hide();
                    $('button#accept').removeClass('button-green');
                    $('button#accept').addClass('button-blue');
                }
            });



            var parentsig = '@Html.Raw(Model.ParentSig)';
            if (parentsig.length > 0) {
                $('#sig').signature('draw', ('@Html.Raw(Model.ParentSig)'));
            }

            @*if('@ViewBag.Parent1'!=null && '@ViewBag.Parent1'!='')
            {
                $("input:checkbox[value="+@ViewBag.Parent1+"]").prop('checked',true);

                if('@ViewBag.Parent1'=='00000')
                {
                    $('#others').show();
                    $('#others').find('#OtherNotes').val('@ViewBag.OtherNotes');
                }

            }*@


            // $('#sig1').signature({ distance: 10 });

            $('#sig1').signature({ distance: 10,guideline: true, 
                guidelineOffset: 25, guidelineIndent: 20, guidelineColor: '#ff0000', color: '#131515',
                change: function (event, ui) {
                    $('#imageSigTeacher').val('');

                    $('button#acceptTeacher').find('i').hide();
                    $('button#acceptTeacher').removeClass('button-green');
                    $('button#acceptTeacher').addClass('button-blue');
                }
            });


            var teachersig = '@Html.Raw(Model.TeacherCheckInSig)';
            if (teachersig.length > 0) {
                $('#sig1').signature('draw', ('@Html.Raw(Model.TeacherCheckInSig)'));
            }


            $('#json').click(function () {
                alert($('#sig').signature('toJSON'));
            });
            $('#svg').click(function () {
                alert($('#sig').signature('toSVG'));
            });

            $("input[name=Parent1]").click(function () {

                //alert($("input[name=Parent1]:checked").val());
                if ($("input[name=Parent1]:checked").val() == "00000") {
                    $('#others').show();
                    plainValidation('#OtherNotes');
                    $('#parent-check-inkind-div').find('#ActivityDate').val(getFormattedDate(new Date()));
                    $('input[type=checkbox][name=ActivityCode]').prop('checked', false);
                    $('input[name=Hours]').prop('checked', false);
                    $('input[name=Minutes]').prop('checked', false);
                    $('#ActivityNotes').val('');
                    $('#parent-check-inkind-div').hide();
                    ClearSignature(1);

                } else {
                    $('#others').hide();
                    $('#others').find('#OtherNotes').val('');
                    ClearSignature(1);
                    $('#parent-check-inkind-div').show();
                }
            });
            $("input[name=Teacher]").click(function () {

                //alert($("input[name=Parent1]:checked").val());
                if ($("input[name=Teacher]:checked").val() == "00000") {

                    $('#div-sig-code-section').hide();
                    $('#div-sig-code-section').find('input:radio[name="signatureRadio"]').prop('checked',false);
                    $('#div-sig-code-section').find('#div-sig-code').find('input[name="SignatureCode"]').val('');
                    $('#div-sig-code-section').find('#div-sig-code').hide();
                    $('#othersTeacher').show();
                    $('#div-draw-signature').show();

                    plainValidation('#OtherNotesTeacher');
                    ClearSignature(2);
                } else {

                    $('#div-sig-code-section').find('input:radio[name="signatureRadio"]').prop('checked',false);
                    $('#div-sig-code-section').find('#div-sig-code').find('input[name="SignatureCode"]').val('');
                    ClearSignature(2);

                    if( $('#div-sig-code-section').length>0 && $('#sig_code_'+$(this).val()+'').val()=='1')
                    {
                        $('#div-sig-code-section').show();
                        $('#div-draw-signature').hide();
                    }
                    else{
                        $('#div-sig-code-section').hide();
                        $('#div-draw-signature').show();
                    }
                    
                    $('#othersTeacher').hide();
                    $('#othersTeacher').find('#OtherNotesTeacher').val('');
                }
            });

            $('input:radio[name="signatureRadio"]').on('click',function(){

              
                if($(this).val()=='1')
                {
                    $('#div-sig-code-section').find('#div-sig-code').find('input[name="SignatureCode"]').val('');
                    $('#div-sig-code').show();
                    $('#div-draw-signature').hide();
                }
                else{
                    $('#div-sig-code-section').find('#div-sig-code').find('input[name="SignatureCode"]').val('');
                    $('#div-sig-code').hide();
                    $('#div-draw-signature').show();
                }

            });

            $('input[type=checkbox][name=ActivityCode]').click(function () {
                var activDesc = '';
                $('input[type=checkbox][name=ActivityCode]:checked').each(function () {

                    activDesc += $(this).siblings('.activity_desc').text() + ',';
                });
                activDesc = activDesc[activDesc.length - 1] == ',' ? activDesc.slice(0, -1) : activDesc;
                $('#ActivityNotes').val(activDesc);


                if ($('#ActivityDate').val() == 0) {
                    customAlert("When selecting an activity, the Activity Date must be filled out.");
                    plainValidation('#ActivityDate');
                }
                else
                {

                }
            });



            //$('#ActivityDate').datetimepicker({
            //    timepicker: false,
            //    format: 'm/d/Y',
            //    validateOnBlur: false,
            //    value: getFormattedDate(new Date()),
            //    maxDate: new Date(),
            //    autoClose: true
            //});

            $('#parentCheckdDatePicker').on('click', function () {

                $('#ActivityDate').datetimepicker('show');
            });


            $('img.zoomify').zoomify();

        });
    </script>


    <script>



            $(window).on('popstate', function () {
                var anchor = location.hash || $("a[data-toggle=tab]").first().attr("href");
                $('a[href=' + anchor + ']').tab('show');
            });


            function SaveSignature(ele) {

                $(ele).find('.fa-spin').show();

                window.setTimeout(function(){


                    $('#sig').css('background-color', '');
                    isValid = false;
                    $('#ConvertedImage').val(0);

                    var sigToImage = $('#sig').signature('toJSON');
                

                    if ($("input[name=Parent1]:checked").length == 0) {
                        $(ele).find('.fa-spin').hide();
                        customAlert("A Check In name is required. ");
                        plainValidation('#Parent1');
                      
                        return false;
                    }
                
                
                    if (sigToImage == '{"lines":[]}' || sigToImage.length <= 12) {
                        $(ele).find('.fa-spin').hide();
                        plainValidation('#sig');
                        customAlert('Please enter signature');
                      
                        return isValid;
                    }

                    else if (sigToImage.length <= 300) {
                        $(ele).find('.fa-spin').hide();
                        plainValidation('#sig');
                        customAlert('Please enter valid signature');
                        
                        return isValid;
                    }
                    else {

                        $('#imageSig').val(sigToImage);
                        $('#ConvertedImage').val(1);
                        $('#sigtype').val(1);

                        $(ele).find('.fa-spin').hide();
                        $(ele).removeClass('button-blue');
                        $(ele).addClass('button-green');
                        $(ele).find('.fa-check').show();

                        return isValid;
                    }

                },100);

             

            }
            function SaveSignatureTeacher(ele) {
 
                isValid = false;
                $(ele).find('.fa-spin').show();

                $('#TeacherCheckedInTime').val(new Date().toJSON());

                window.setTimeout(function(){


                    $('#sig1').css('background-color', '');

                    var sigToImage = $('#sig1').signature('toJSON');
                    if (sigToImage == '{"lines":[]}' || sigToImage.length <= 12) {
                        $(ele).find('.fa-spin').hide();
                        plainValidation('#sig1');
                        customAlert('Please enter signature');
                        return isValid;
                    }

                    else if (sigToImage.length <= 300) {
                        $(ele).find('.fa-spin').hide();
                        plainValidation('#sig1');
                        customAlert('Please enter valid signature');
                        return isValid;
                    }
                    else {
                        $('#imageSigTeacher').val(sigToImage);
                        $('#ConvertedImageTeacher').val(1);
                        $('#sigtype').val(2);
                        $('#OfficeAvailable').val(1);

                        $(ele).find('.fa-spin').hide();
                        $(ele).removeClass('button-blue');
                        $(ele).addClass('button-green');
                        $(ele).find('.fa-check').show();

                        return isValid;
                    }

                },100);
                
            

            }

            function ClearSignature(val) {
                isValid = false;
                if (val === 1) {
                    $('#sig').css('background-color', '');
                    $('#sig').signature('clear');
                    $('#ConvertedImage').val(0);
                }
                else {
                    $('#sig1').css('background-color', '');
                    $('#sig1').signature('clear');
                    $('#ConvertedImage').val(0);
                }

                //$('#clear').click(function () {
                //    $('#sig').signature('clear');
                //});
                //$('#clearTeacher').click(function () {
                //    $('#sig1').signature('clear');
                //});
                return isValid;
            }
            function ValidateDataTeacher() {

                isValid = true;
                if ($("input[name=Teacher]:checked").length == 0) {
                    customAlert("A Check In name is required. ");
                    plainValidation('#Teacher');
                    isValid = false;
                }

                if(isValid && $('input[name="Teacher"]:checked').val()=='00000' && $('input:text[name="OtherNotesTeacher"]').val().trim()=="")
                {
                    customAlert("A Check In name is required. ");
                    plainValidation($('input:text[name="OtherNotesTeacher"]'));
                    isValid = false;
                }



                if($('#div-sig-code-section').length>0 && $('#div-sig-code-section').is(':visible'))
                {

                    if(isValid && $('#div-sig-code-section').find('input:radio[name="signatureRadio"]:checked').length==0)
                        {
                            customAlert("Please select signature type");
                            isValid = false;
                        }
                        else if(isValid && $('#div-sig-code-section').find('input:radio[name="signatureRadio"]:checked').val()=='1')
                        {
                            if($('input:text[name="SignatureCode"]').val()=='')
                            {
                                plainValidation($('input:text[name="SignatureCode"]'));
                                customAlert("Please enter signature code");
                                isValid = false;
                            }
                            else if(isValid && !CheckStaffSignature($('input[name="SignatureCode"]'),$("input:radio[name=Teacher]:checked").val()))
                            {
                                isValid=false;
                            }
                            else
                            {
                                $('#OfficeAvailable').val(1);
                            }
                        }


                }

                if (isValid && $('#div-draw-signature').is(':visible') && $('#ConvertedImageTeacher').val() == 0) {
                    customAlert("Please sign and accept signature. ");
                    plainValidation('#imageSigTeacher');
                    isValid = false;
                }

                var parentsig = '@Html.Raw(Model.ParentSig)';

                if (isValid && (parentsig == '{"lines":[]}' || parentsig=='')) {

                    if($('#dailyhealth-div').is(':visible'))
                        customAlert("This child must be signed in prior to the daily health check. ");
                    else
                        customAlert("This child must be signed in prior to the counter signature of teacher. ");

                    plainValidation('#imageSig');
                    isValid = false;
                    $('#OfficeAvailable').val(0);
                }
                return isValid;
            }
            function ValidateData() {
                isValid = true;

                if ($("input[name=Parent1]:checked").length == 0) {
                    customAlert("A Check In name is required. ");
                    plainValidation('#Parent1');
                    isValid = false;
                }

                if ($('#ConvertedImage').val() == 0) {
                    customAlert("Please sign and accept signature. ");
                    plainValidation('#imageSig');
                    isValid = false;
                }

                if($("#parent-check-inkind-div").length>0 && $('#parent-check-inkind-div').is(':visible'))
                {
                    if($("#parent-check-inkind-div").find('input:checkbox[name="ActivityCode"]:checked').length>0)
                    {
                        if($('#ActivityDate').val()==null || $('#ActivityDate').val()=='' || $('#ActivityDate').val()=="__/__/____")
                        {
                            plainValidation('#ActivityDate');
                            customAlert('Please enter Activity date');
                            isValid=false;
                            return isValid;
                        }

                        if($("#parent-check-inkind-div").find('input:radio[name="Hours"]:checked').length==0)
                        {
                            plainValidation('input:radio[name="Hours"]');
                            customAlert('Please select hours');
                            isValid=false;
                            return isValid;
                        }

                        if($("#parent-check-inkind-div").find('input:radio[name="Minutes"]:checked').length==0)
                        {
                            plainValidation('input:radio[name="Minutes"]');
                            customAlert('Please select minutes');
                            isValid=false;
                            return isValid;
                        }

                    }

                }


                return isValid;
            }




    </script>


}


@section MainContentHolder{



    @*<form method="post" enctype="multipart/form-data">





            <input type="hidden" id="profileindex" name="profileindex" />
            <input type="hidden" id="eduindex" name="eduindex" />

            @using (Html.BeginForm("ParentCheckIn", "Teacher", new { @class = "officereturn" }))
            {
                <input type="hidden" name="CenterID" id="CenterID" value="@Model.CenterID" />
                <input type="hidden" name="ClassroomID" id="ClassroomID" value="@Model.ClassID" />
                @Html.Hidden("Available", @Model.Available);
                @Html.Hidden("OfficeAvailable", 0);
                <input type="hidden" name="sigtype" id="sigtype">
                <div class="row" id="ScreeningDiv" style="margin-top:4%;">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                        <div class="panel with-nav-tabs panel-primary" id="MyProfileTab">
                            <div class="panel-heading panelul">


                                <input id="hidtab" name="hidtab" type="hidden" value="#" />
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active"><a href="#ParentCheckIn" data-toggle="tab">Parent Check In</a></li>

                                     <li><a href="#OfficeUse" data-toggle="tab">Office Use</a></li>

                                </ul>

                            </div>

                            <div id="myTabContent" class="tab-content">

                                <div class="tab-pane fade in active" id="ParentCheckIn">
                                    <div class="add-useragform">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">

                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                    <h4 class="page-header">
                                                        @Model.CName's  Attendance Detail <span class="attend-date"><font size="3"><i>for</i></font></span>  @Model.Tdate




                                                        <span class="view-btn backto_listspan hidden-xs" style="margin-top:-10px;">
                                                            <a href="@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })" class="glossy-button-button anchor_yellow" style="text-decoration:none;font-size:18px;">
                                                                Exit

                                                                <span class="glossy-button-before"></span>
                                                                <span class="glossy-button-after"></span>

                                                            </a>

                                                        </span>
                                                    </h4>

                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                    <div class="co-xs-12 parent-info section">
                                                        <div class="col-xs-12 col-sm-12 col-md-4">
                                                            <h4 class="text-black">Profile Picture:</h4>
                                                            <div style="border:1px solid black;margin-top:34px;width:200px;height:200px;text-align:center; ">

                                                                @if (Model.CImage != null)
                                                                {
                                                                    if (Model.CImage.Length != 0)
                                                                    {
                                                                        <img style="margin-top: 10px;" src="data:image;base64,@System.Convert.ToBase64String(Model.CIFileData)" alt="image" height="180" width="180" />
                                                                    }
                                                                    else
                                                                    {
                                                                        <img style="margin-top: 10px;" src="~/Images/ic_male.png" alt="image" height="180" width="180" />
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <img style="margin-top: 10px;" src="~/Images/ic_male.png" alt="image" height="180" width="180" />
                                                                }
                                                            </div>


                                                        </div>
                                                        <div class="col-xs-12 col-sm-12 col-md-8">
                                                            <div class="add-useragform student-scroll full-border full-border-margin hours-div">

                                                                <h4 class="text-black">Parents/Guardians: </h4>
                                                                @if (Model.ParentCheckedIn == Model.Parent1ID)
                                                                {
                                                                    <label style="margin-left:10px;">@Html.RadioButton("Parent1", @Model.Parent1ID, true, new { @class = "Parent1" })@Model.Parent1Name</label>
                                                                }

                                                                else
                                                                {
                                                                    <label style="margin-left:10px;">@Html.RadioButton("Parent1", @Model.Parent1ID, false, new { @class = "Parent1" })@Model.Parent1Name</label>

                                                                }
                                                                @if ((@Model.Parent2Name.Length) > 1)
                                                                {
                                                                    if (Model.ParentCheckedIn == Model.Parent2ID)
                                                                    {
                                                                        <label>@Html.RadioButton("Parent1", @Model.Parent2ID, true, new { @class = "Parent1" })@Model.Parent2Name</label>
                                                                    }
                                                                    else
                                                                    {
                                                                        <label>@Html.RadioButton("Parent1", @Model.Parent2ID, false, new { @class = "Parent1" })@Model.Parent2Name</label>
                                                                    }
                                                                }
                                                                @if (Model.ParentCheckedIn == "00000")
                                                                {
                                                                    <label>@Html.RadioButton("Parent1", "00000", true, new { @class = "Parent1" })Other</label>
                                                                }
                                                                else
                                                                {
                                                                    <label>@Html.RadioButton("Parent1", "00000", false, new { @class = "Parent1" })Other</label>
                                                                }


                                                            </div>



                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                <div class="add-useragform student-scroll full-border full-border-margin" id="others">
                                                                    <h6 class="text-info">Enter Name and Sign Below: </h6>
                                                                    <label> @Html.TextBox("OtherNotes", Model.OtherName, new { @class = "text-danger" })</label>


                                                                </div>
                                                            </div>

                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                <div class="add-useragform student-scroll full-border full-border-margin">
                                                                    <div id="sig"></div>

                                                                    <input type="hidden" id="childid" value="@Model.ClientID" />

                                                                    @Html.Hidden("imageSig", "")
                                                                    <input type="hidden" id="ConvertedImage" value="0" />
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                            <div class="add-useragform student-scroll full-border full-border-margin">
                                                                                <h4> </h4>
                                                                                <button class="btnPassword" id="clear" onclick="return ClearSignature(1);">Clear</button>
                                                                                <button class="btnPassword" id="accept" onclick="return SaveSignature();">Accept Signature</button>

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    @if (Model.InkindPeriodList != null && Model.InkindPeriodList.Count > 0)
                                                    {
                                                        <div class="col-lg-12 col-xs-12" id="parent-check-inkind-div">

                                                            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                                <h4 class="page-header">
                                                                    @if (Model.Activitylst.Count() > 0)
                                                                    {
                                                                        <span> @Model.Activitylst[0].ActivityDescription:</span>
                                                                    }
                                                                    else
                                                                    {

                                                                    }

                                                                </h4>

                                                            </div>
                                                            <div class="add-useragform">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                                                        <label class="witpart">Activity Date:</label>
                                                                        <div class="input-group date" id="parentCheckdDatePicker">
                                                                            <input class="form-control" id="ActivityDate" name="ActivityDate" type="text" maxlength="50" onblur="return validatedate(this);" placeholder="MM/DD/YYYY">
                                                                            <span class="input-group-addon">
                                                                                <span class="glyphicon glyphicon-calendar"></span>
                                                                            </span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-lg-2" style="margin-top: 8px; font-weight: bold;">
                                                                        <img src="/Images/info.png" id="imageinfoInkindDates" data-placement="top" data-toggle="popover" style="height: 20px;width :20px;padding: 0;" data-original-title="" title="" aria-describedby="popover984329">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="add-useragform">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                    <div class="col-lg-6 col-md-6 col-sm-12">

                                                                        <label class="witpart">Activities: </label>
                                                                        <div class="col-lg-7 row" style="padding:0;">


                                                                            @foreach (var inkindActivity in Model.Activitylst)
                                                                            {

                                                                                foreach (var subactivity in inkindActivity.SubActivityList)
                                                                                {
                                                                                    <label class="text" style="width:100%;white-space:nowrap;">@Html.CheckBox("ActivityCode", false, new { value = subactivity.ActivityCode, @class = "ActivityCode" })<span class="activity_desc">@subactivity.ActivityDescription</span></label>
                                                                                }

                                                                            }
                                                                        </div>


                                                                        <div class="table-main-sec">
                                                                            <label class="witpart">Hours: </label>

                                                                            <div class="col-lg-6 col-md-6 hours-div row">

                                                                                @foreach (var item in Model.Hours)
                                                                                {
                                                                                    if (Model.Hours == item.Hours)
                                                                                    {
                                                                                        <label>@Html.RadioButton("Hours", item.hourID, true, new { @class = "hoursRadio" })@item.hourDes </label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <label>@Html.RadioButton("Hours", item.hourID, false, new { @class = "hoursRadio" })@item.hourDes</label>
                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                        <div class="table-main-sec">
                                                                            <label class="witpart">Minutes: </label>

                                                                            <div class="col-lg-6 col-md-6 hours-div row">
                                                                                @foreach (var item in Model.Minutes)
                                                                                {
                                                                                    if (Model.Minutes == item.Minutes)
                                                                                    {
                                                                                        <label>@Html.RadioButton("Minutes", item.minID, true, new { @class = "minsRadio" })@item.minDes</label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <label>@Html.RadioButton("Minutes", item.minID, false, new { @class = "minsRadio" })@item.minDes</label>

                                                                                    }
                                                                                }

                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="add-useragform">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                    <div class="col-lg-6 col-md-6 col-sm-12">
                                                                        <label class="witpart"> Activity Notes:</label>
                                                                        <textarea rows="4" cols="50" id="ActivityNotes" name="ActivityNotes" class="form-control"></textarea>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    }




                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                        <div class="add-useragform student-scroll full-border full-border-margin">

                                                            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12 text-center">
                                                                <h4> </h4>
                                                                <button class="btnPassword" id="post" onclick="return ValidateData();">Submit</button>
                                                                <button class="btnPassword" onclick="location.href='@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })';return false;">
                                                                    Exit
                                                                </button>
                                                                <h4> </h4>
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>



                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="tab-pane fade" id="OfficeUse">
                                    <div class="add-useragform">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" id="dailyhealth-div">
                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                    <h4 class="page-header">Daily Health Check:</h4>
                                                </div>

                                                @foreach (var oo in Model.Observationlst)
                                                {
                                                    var checkedOb = 0;
                                                    foreach (var o in Model.ObservationlstChecked)
                                                    {
                                                        var obserchecked = o.ObservationIDChecked;
                                                        if (obserchecked == oo.ObservationID)
                                                        {
                                                            <label class="text">@Html.CheckBox("Observation", true, new { value = oo.ObservationID })@oo.ObservationDescription</label>
                                                            checkedOb = 1;
                                                            break;
                                                        }
                                                    }
                                                    if (checkedOb != 1)
                                                    {
                                                        <label class="text">@Html.CheckBox("Observation", false, new { value = oo.ObservationID })@oo.ObservationDescription</label>
                                                    }
                                                }


                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                    <h4 class="text-black">Teacher: </h4>


                                                    @if (Model.TeacherList != null && Model.TeacherList.Count > 0)
                                                    {

                                                        foreach (var item in Model.TeacherList)
                                                        {
                                                            if (item.AgencyStaffId.ToString().ToLowerInvariant() == Convert.ToString(Session["UserID"]).ToLowerInvariant())
                                                            {
                                                                <label>@Html.RadioButton("Teacher", item.AgencyStaffId, true, new { @class = "Teacher" })@item.Username</label>

                                                            }
                                                            else
                                                            {
                                                                <label>@Html.RadioButton("Teacher", item.AgencyStaffId, false, new { @class = "Teacher" })@item.Username</label>

                                                            }


                                                        }

                                                    }
                                                    <label>@Html.RadioButton("Teacher", "00000", false, new { @class = "Teacher" })Other</label>


                                                </div>

                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" id="othersTeacher" style="display:none;">
                                                    <h6 class="text-info">Enter Name and Sign Below: </h6>
                                                    <label> @Html.TextBox("OtherNotesTeacher", Model.OtherNameTeacher, new { @class = "text-danger" })</label>


                                                </div>
                                            </div>

                                            @if (hasSignatureCode && Model.OtherNameTeacher == "")
                                            {

                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" id="div-sig-code-section" >

                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                        <h4 class="text-black">Signature Type: </h4>
                                                        <label>
                                                            <input type="radio" name="signatureRadio" value="1">Use Signature Code
                                                        </label>

                                                        <label>
                                                            <input type="radio" name="signatureRadio" value="2">Sign Manually
                                                        </label>
                                                    </div>

                                                    <div class="col-lg-2 col-sm-12 col-xs-12 col-md-12" id="div-sig-code" style="display:none;">
                                                        <h4 class="text-black">Signature Code: </h4>
                                                        <input type="password" class="form-control" autocomplete="off" maxlength="4" name="SignatureCode" style="width:40%;" />
                                                        </div>
                                                    </div>

                                            }

                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" id="div-draw-signature"   @if (hasSignatureCode && Model.OtherNameTeacher == "") { <text>style="display:none;"</text> }>
                                                    <div id="sig1"></div>
                                                    @Html.Hidden("imageSigTeacher", "")
                                                    <input type="hidden" id="ConvertedImageTeacher" value="0" />
                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                            <div class="add-useragform student-scroll full-border full-border-margin">
                                                                <h4> </h4>

                                                                <button class="btnPassword" id="clearTeacher" onclick="return ClearSignature(2);">Clear</button>
                                                                <button class="btnPassword" id="acceptTeacher" onclick="return SaveSignatureTeacher();">Accept Signature</button>

                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>


                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                    <div class="add-useragform student-scroll full-border full-border-margin">

                                                        <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12 text-center">
                                                            <h4> </h4>
                                                            <button class="btnPassword" id="post" onclick="return ValidateDataTeacher();">Submit</button>
                                                            <button class="btnPassword" onclick="location.href='@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })';return false;">
                                                                Exit
                                                            </button>
                                                            <h4> </h4>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </form>*@


    <div class="row Zoom">
        <div class="col-lg-12" style="padding: 0;">
            <div class="page-wrapper-change">
                <div class="container-fluid">
                    <div class="row">
                        <!-----Right Side Container Section------->
                        <div class="glossy-right-side-container col-xs-12">

                            <!----Heading Section------>
                            <div class="col-xs-12" style="padding-top: 25px;">
                                <div class="col-lg-12">
                                    <h2 class="page-header page-header-change" style="border-bottom:5px solid #f9c751 !important; color: #fff;">
                                        <span>
                                            <i class="fa fa-list-alt" aria-hidden="true"></i>&nbsp;Parent Check-in <font size="3">for</font> @Model.Tdate
                                        </span>


                                        <span class="view-btn backto_listspan hidden-xs">
                                            <a href="@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })" class="glossy-button-button anchor_yellow" style="text-decoration:none;font-size:18px;">
                                                Exit

                                                <span class="glossy-button-before"></span>
                                                <span class="glossy-button-after"></span>

                                            </a>

                                        </span>

                                    </h2>
                                </div>
                            </div>



                            <form method="post" enctype="multipart/form-data">





                                <input type="hidden" id="profileindex" name="profileindex" />
                                <input type="hidden" id="eduindex" name="eduindex" />

                                @using (Html.BeginForm("ParentCheckIn", "Teacher", new { @class = "officereturn" }))
    {
                                    <input type="hidden" name="CenterID" id="CenterID" value="@Model.CenterID" />
                                    <input type="hidden" name="ClassroomID" id="ClassroomID" value="@Model.ClassID" />
                                    @Html.Hidden("Available", @Model.Available);
                                    @Html.Hidden("OfficeAvailable", 0);
                                    <input type="hidden" name="sigtype" id="sigtype">
                                    <div class="col-xs-12" id="ScreeningDiv">
                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 glossy-panel-div">

                                            <div class="panel with-nav-tabs panel-primary" id="MyProfileTab">
                                                <div class="panel-heading panelul">


                                                    <input id="hidtab" name="hidtab" type="hidden" value="#" />
                                                    <ul id="myTab" class="nav nav-tabs">
                                                        <li class="active"><a href="#ParentCheckIn" data-toggle="tab">Parent Check In</a></li>

                                                        <li><a href="#OfficeUse" data-toggle="tab">Office Use</a></li>

                                                    </ul>

                                                </div>

                                                <div id="myTabContent" class="tab-content">

                                                    <div class="tab-pane fade in active" id="ParentCheckIn">
                                                        <div class="add-useragform">
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">

                                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">



                                                                        <h4 class="page-header page-header-change" >
                                                                            <span>
                                                                              @Model.CName's Attendance Detail <font size="3">for</font> @Model.Tdate
                                                                            </span>


                                                                            <span class="view-btn backto_listspan hidden-xs" style="margin-top:-8px;">
                                                                                <a href="@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })" class="glossy-button-button anchor_yellow" style="text-decoration:none;font-size:18px;">
                                                                                    Exit

                                                                                    <span class="glossy-button-before"></span>
                                                                                    <span class="glossy-button-after"></span>

                                                                                </a>

                                                                            </span>

                                                                        </h4>

                                                                    </div>
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals" style="padding-top:15px;">
                                                                        <div class="co-xs-12 parent-info section">


                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3">
                                                                                @*<h4 class="text-black">Profile Picture:</h4>*@


                                                                                <div class="hld-img col-lg-3">



                                                                                    @if (Model.CImage != null)
                                                                                    {
                                                                                        if (Model.CImage.Length != 0)
                                                                                        {
                                                                                            <img  class="zoomify" src="data:image;base64,@System.Convert.ToBase64String(Model.CIFileData)" alt="image" height="200" width="200" />
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <img  class="zoomify"  src="~/Images/ic_male.png" alt="image" height="200" width="200" />
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <img  class="zoomify" src="~/Images/ic_male.png" alt="image" height="200" width="200" />
                                                                                    }

                                                                                  @*  <img style="margin-top: 10px;border:1px solid black;border-radius:50%;" class="zoomify" src="/Images/ic_male.png" alt="image" height="180" width="180">*@


                                                                                  
                                                                                </div>

                                                                                



                                                                                @*<div style="border:1px solid black;margin-top:34px;width:200px;height:200px;text-align:center; ">

                                                                                    @if (Model.CImage != null)
                                                                                    {
                                                                                        if (Model.CImage.Length != 0)
                                                                                        {
                                                                                            <img style="margin-top: 10px;" src="data:image;base64,@System.Convert.ToBase64String(Model.CIFileData)" alt="image" height="180" width="180" />
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <img style="margin-top: 10px;" src="~/Images/ic_male.png" alt="image" height="180" width="180" />
                                                                                        }
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <img style="margin-top: 10px;" src="~/Images/ic_male.png" alt="image" height="180" width="180" />
                                                                                    }
                                                                                </div>*@


                                                                            </div>

                                                                            <div class="col-lg-3">

                                                                                    <div class="form-group">
                                                                                        <label class="lbl-text" style="text-align:right;font-weight:bold;">% Absent</label>
                                                                                        @if (Model.PercentAbsent >= Model.AttendanceIssuePercentage)
                                                                                        {
                                                                                            <label class="col-xs-7" style="color:red;font-weight:bold;">@(Convert.ToInt32(Model.PercentAbsent) == Model.PercentAbsent ? Convert.ToInt32(Model.PercentAbsent) : Model.PercentAbsent) %</label>

                                                                                            
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <label class="col-xs-7 success" style="color:#3c763d;font-weight:bold;">@(Convert.ToInt32(Model.PercentAbsent)==Model.PercentAbsent?Convert.ToInt32(Model.PercentAbsent):Model.PercentAbsent) %</label>

                                                                                        }

                                                                                    </div>
                                                                            </div>


                                                                            <div class="col-xs-12 col-sm-12 col-md-8 col-lg-6">
                                                                                <div class="add-useragform student-scroll full-border full-border-margin hours-div col-lg-12">

                                                                                    <h4 class="text-black">Parents/Guardians: </h4>
                                                                                    @if (Model.ParentCheckedIn == Model.Parent1ID)
                                                                                    {
                                                                                        <label style="margin-left:10px;">@Html.RadioButton("Parent1", @Model.Parent1ID, true, new { @class = "Parent1" })@Model.Parent1Name</label>
                                                                                    }

                                                                                    else
                                                                                    {
                                                                                        <label style="margin-left:10px;">@Html.RadioButton("Parent1", @Model.Parent1ID, false, new { @class = "Parent1" })@Model.Parent1Name</label>

                                                                                    }
                                                                                    @if ((@Model.Parent2Name.Length) > 1)
                                                                                    {
                                                                                        if (Model.ParentCheckedIn == Model.Parent2ID)
                                                                                        {
                                                                                            <label>@Html.RadioButton("Parent1", @Model.Parent2ID, true, new { @class = "Parent1" })@Model.Parent2Name</label>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <label>@Html.RadioButton("Parent1", @Model.Parent2ID, false, new { @class = "Parent1" })@Model.Parent2Name</label>
                                                                                        }
                                                                                    }
                                                                                    @if (Model.ParentCheckedIn == "00000")
                                                                                    {
                                                                                        <label>@Html.RadioButton("Parent1", "00000", true, new { @class = "Parent1" })Other</label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <label>@Html.RadioButton("Parent1", "00000", false, new { @class = "Parent1" })Other</label>
                                                                                    }


                                                                                </div>



                                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                    <div class="add-useragform student-scroll full-border full-border-margin" id="others">
                                                                                        <h6 class="text-info">Enter Name and Sign Below: </h6>
                                                                                        <label> @Html.TextBox("OtherNotes", Model.OtherName, new { @class = "text-danger" })</label>


                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                    <div class="add-useragform student-scroll col-lg-12 full-border full-border-margin">
                                                                                        <div id="sig"></div>

                                                                                        <input type="hidden" id="childid" value="@Model.ClientID" />

                                                                                        @Html.Hidden("imageSig", "")
                                                                                        <input type="hidden" id="ConvertedImage" value="0" />


                                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-11 spcltabs referrals text-center">
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                                <div class="add-useragform student-scroll full-border full-border-margin glossy_btn" style="margin-top:20px;">
                                                                                                    <button class="btnPassword glossy-button-button button-red" id="clear" type="button" onclick="return ClearSignature(1);">
                                                                                                        Clear

                                                                                                        <span class="glossy-button-before"></span>
                                                                                                        <span class="glossy-button-after"></span>

                                                                                                    </button>
                                                                                                    &nbsp;&nbsp;
                                                                                                    <button class="btnPassword glossy-button-button button-blue" id="accept" type="button" onclick="return SaveSignature(this);">

                                                                                                        <span class="glossy-button-before"></span>
                                                                                                        <span class="glossy-button-after"></span>
                                                                                                        <i class="fa fa-circle-o-notch fa-spin" style="display:none;"></i>
                                                                                                        <i class="fa fa-check" style="display:none"></i>
                                                                                                    </button>





                                                                                                </div>
                                                                                            </div>
                                                                                        </div>



                                                                                        @*<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                                <div class="add-useragform student-scroll full-border full-border-margin">
                                                                                                    <h4> </h4>
                                                                                                    <button class="btnPassword" id="clear" onclick="return ClearSignature(1);">Clear</button>
                                                                                                    <button class="btnPassword" id="accept" onclick="return SaveSignature(this);">Accept Signature</button>

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>*@


                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        @if (Model.InkindPeriodList != null && Model.InkindPeriodList.Count > 0)
                                                                        {
                                                                            <div class="col-lg-12 col-xs-12" id="parent-check-inkind-div">

                                                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                                                    <h4 class="page-header">
                                                                                        @if (Model.Activitylst.Count() > 0)
                                                                                        {
                                                                                            <span> @Model.Activitylst[0].ActivityDescription:</span>
                                                                                        }
                                                                                        else
                                                                                        {

                                                                                        }

                                                                                    </h4>

                                                                                </div>
                                                                                <div class="add-useragform">
                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                                        <div class="col-lg-6 col-md-6 col-sm-12">
                                                                                            <label class="witpart">Activity Date:</label>
                                                                                            <div class="input-group date" id="parentCheckdDatePicker">
                                                                                                <input class="form-control" id="ActivityDate" name="ActivityDate" type="text" maxlength="50" onblur="return validatedate(this);" placeholder="MM/DD/YYYY">
                                                                                                <span class="input-group-addon">
                                                                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="col-lg-2" style="margin-top: 8px; font-weight: bold;">
                                                                                            <img src="/Images/info.png" id="imageinfoInkindDates" data-placement="top" data-toggle="popover" style="height: 20px;width :20px;padding: 0;" data-original-title="" title="" aria-describedby="popover984329">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="add-useragform">
                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                                        <div class="col-lg-6 col-md-6 col-sm-12">

                                                                                            <label class="witpart">Activities: </label>
                                                                                            <div class="col-lg-7 row" style="padding:0;">


                                                                                                @foreach (var inkindActivity in Model.Activitylst)
                                                                                                {

                                                                                                    foreach (var subactivity in inkindActivity.SubActivityList)
                                                                                                    {
                                                                                                        <label class="text" style="width:100%;white-space:nowrap;">@Html.CheckBox("ActivityCode", false, new { value = subactivity.ActivityCode, @class = "ActivityCode" })<span class="activity_desc">@subactivity.ActivityDescription</span></label>
                                                                                                    }

                                                                                                }
                                                                                            </div>


                                                                                            <div class="table-main-sec">
                                                                                                <label class="witpart">Hours: </label>

                                                                                                <div class="col-lg-6 col-md-6 hours-div row">

                                                                                                    @foreach (var item in Model.Hours)
                                                                                                    {
                                                                                                        if (Model.Hours == item.Hours)
                                                                                                        {
                                                                                                            <label>@Html.RadioButton("Hours", item.hourID, true, new { @class = "hoursRadio" })@item.hourDes </label>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <label>@Html.RadioButton("Hours", item.hourID, false, new { @class = "hoursRadio" })@item.hourDes</label>
                                                                                                        }
                                                                                                    }
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="table-main-sec">
                                                                                                <label class="witpart">Minutes: </label>

                                                                                                <div class="col-lg-6 col-md-6 hours-div row">
                                                                                                    @foreach (var item in Model.Minutes)
                                                                                                    {
                                                                                                        if (Model.Minutes == item.Minutes)
                                                                                                        {
                                                                                                            <label>@Html.RadioButton("Minutes", item.minID, true, new { @class = "minsRadio" })@item.minDes</label>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <label>@Html.RadioButton("Minutes", item.minID, false, new { @class = "minsRadio" })@item.minDes</label>

                                                                                                        }
                                                                                                    }

                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="add-useragform">
                                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                                        <div class="col-lg-6 col-md-6 col-sm-12">
                                                                                            <label class="witpart"> Activity Notes:</label>
                                                                                            <textarea rows="4" cols="50" id="ActivityNotes" name="ActivityNotes" class="form-control"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                            </div>
                                                                        }




                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals" style="padding-top:20px;">
                                                                            <div class="add-useragform student-scroll full-border full-border-margin">

                                                                                <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12 text-center glossy_btn">
                                                                                    <h4> </h4>
                                                                                    <button class="btnPassword glossy-button-button button-green"  id="post" onclick="return ValidateData();">
                                                                                    
                                                                                    Submit
                                                                                        <span class="glossy-button-before"></span>
                                                                                        <span class="glossy-button-after"></span>

                                                                                    </button>
                                                                                    &nbsp;&nbsp;
                                                                                    <button class="btnPassword glossy-button-button button-red" onclick="location.href='@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })';return false;">
                                                                                        Exit
                                                                                        <span class="glossy-button-before"></span>
                                                                                        <span class="glossy-button-after"></span>
                                                                                    </button>
                                                                                    <h4> </h4>
                                                                                </div>
                                                                            </div>
                                                                        </div>


                                                                    </div>



                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="tab-pane fade" id="OfficeUse">
                                                        <div class="add-useragform">
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" id="dailyhealth-div">
                                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                                        <h4 class="page-header">Daily Health Check:</h4>
                                                                    </div>

                                                                    @foreach (var oo in Model.Observationlst)
                                                                    {
                                                                        var checkedOb = 0;
                                                                        foreach (var o in Model.ObservationlstChecked)
                                                                        {
                                                                            var obserchecked = o.ObservationIDChecked;
                                                                            if (obserchecked == oo.ObservationID)
                                                                            {
                                                                                <label class="text">@Html.CheckBox("Observation", true, new { value = oo.ObservationID })@oo.ObservationDescription</label>
                                                                                checkedOb = 1;
                                                                                break;
                                                                            }
                                                                        }
                                                                        if (checkedOb != 1)
                                                                        {
                                                                            <label class="text">@Html.CheckBox("Observation", false, new { value = oo.ObservationID })@oo.ObservationDescription</label>
                                                                        }
                                                                    }


                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" id="teachermain">
                                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                                        <h4 class="text-black">Teacher: </h4>


                                                                        @if (Model.TeacherList != null && Model.TeacherList.Count > 0)
                                                                        {

                                                                            foreach (var item in Model.TeacherList)
                                                                            {
                                                                                if (item.UserID.ToString().ToLowerInvariant() == Convert.ToString(Session["UserID"]).ToLowerInvariant())
                                                                                {
                                                                                    <label>@Html.RadioButton("Teacher", item.UserID, true, new { @class = "Teacher" })@item.Username.Trim()

                                                                                            <input type="hidden" id="sig_code_@item.UserID" value="@(item.HasSignatureCode?1:0)" />
                                                                                    </label>

                                                                                }
                                                                                else
                                                                                {
                                                                                    <label>@Html.RadioButton("Teacher", item.UserID, false, new { @class = "Teacher" })@item.Username.Trim()
                                                                        
                                                                                        <input type="hidden" id="sig_code_@item.UserID" value="@(item.HasSignatureCode?1:0)" />
                                                                                      </label>

                                                                                }


                                                                            }

                                                                        }
                                                                        <label>@Html.RadioButton("Teacher", "00000", false, new { @class = "Teacher" })Other
                                                                        
                                                                            <input type="hidden" id="sig_code_00000" value="0" />
                                                                        </label>


                                                                    </div>

                                                                </div>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" id="othersTeacher" style="display:none;">
                                                                        <h6 class="text-info">Enter Name and Sign Below: </h6>
                                                                        <label> @Html.TextBox("OtherNotesTeacher", Model.OtherNameTeacher, new { @class = "text-danger" })</label>


                                                                    </div>
                                                                </div>

                                                                @*@if (hasSignatureCode && Model.OtherNameTeacher == "")
                                                                {*@

                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main" id="div-sig-code-section" style="display:none;">

                                                                        <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                                                                            <h4 class="text-black">Signature Type: </h4>
                                                                            <label>
                                                                                <input type="radio" name="signatureRadio" value="1">Use Signature Code
                                                                            </label>

                                                                            <label>
                                                                                <input type="radio" name="signatureRadio" value="2">Sign Manually
                                                                            </label>
                                                                        </div>

                                                                        <div class="col-lg-2 col-sm-12 col-xs-12 col-md-12" id="div-sig-code" style="display:none;">
                                                                            <h4 class="text-black">Signature Code: </h4>
                                                                            <input type="password" class="form-control" autocomplete="off" maxlength="4" name="SignatureCode" style="width:40%;" />
                                                                        </div>
                                                                    </div>

                                                                    @*}*@

                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-main">
                                                                    <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12" id="div-draw-signature" style="display:none;">
                                                                        <div id="sig1"></div>
                                                                        @Html.Hidden("imageSigTeacher", "")
                                                                        @Html.Hidden("TeacherCheckedInTime")
                                                                        <input type="hidden" id="ConvertedImageTeacher" value="0" />

                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-11 referrals" style="width:95%;">
                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals">
                                                                                <div class="add-useragform student-scroll col-lg-12 glossy_btn full-border full-border-margin" style="margin-top:20px;">
                                                                                   

                                                                                    <button class="btnPassword glossy-button-button button-red" type="button" id="clearTeacher" onclick="return ClearSignature(2);">
                                                                                    Clear
                                                                                    <span class="glossy-button-before"></span>
                                                                                    <span class="glossy-button-after"></span>
                                                                                    </button>
                                                                                    &nbsp;
                                                                                    &nbsp;
                                                                                    <button class="btnPassword glossy-button-button button-blue" type="button" id="acceptTeacher" onclick="return SaveSignatureTeacher(this);">
                                                                                        <span class="glossy-button-before"></span>
                                                                                        <span class="glossy-button-after"></span>
                                                                                        <i class="fa fa-circle-o-notch fa-spin" style="display:none;"></i>
                                                                                        <i class="fa fa-check" style="display:none"></i>
                                                                                    </button>

                                                                                </div>
                                                                            </div>
                                                                        </div>


                                                                    </div>


                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 referrals" style="padding:20px;">
                                                                        <div class="add-useragform student-scroll full-border full-border-margin">

                                                                            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12 text-center glossy_btn">
                                                                                
                                                                                <button class="btnPassword glossy-button-button button-green" id="post" onclick="return ValidateDataTeacher();">Submit
                                                                                <span class="glossy-button-before"></span>
                                                                                <span class="glossy-button-after"></span>
                                                                                </button>
                                                                                &nbsp;
                                                                                &nbsp;
                                                                                <button class="btnPassword glossy-button-button button-red" onclick="location.href='@Url.Action("ParentCheckIn_CheckOut", "Teacher", new { available = Model.Available })';return false;">
                                                                                    Exit
                                                                                    <span class="glossy-button-before"></span>
                                                                                    <span class="glossy-button-after"></span>
                                                                                </button>
                                                                                
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>





}


